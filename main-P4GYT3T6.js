var rA=Object.defineProperty,iA=Object.defineProperties;var sA=Object.getOwnPropertyDescriptors;var W_=Object.getOwnPropertySymbols,oA=Object.getPrototypeOf,aA=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,uA=Reflect.get;var K_=(n,e,t)=>e in n?rA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})aA.call(e,t)&&K_(n,t,e[t]);if(W_)for(var t of W_(e))cA.call(e,t)&&K_(n,t,e[t]);return n},be=(n,e)=>iA(n,sA(e));var Kn=(n,e,t)=>uA(oA(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{c(t.next(u))}catch(l){i(l)}},o=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((t=t.apply(n,e)).next())});var sh=null;var ih=1,Q_=Symbol("SIGNAL");function se(n){let e=sh;return sh=n,e}function Y_(){return sh}var oh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lA(n){if(!(dh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ih)){if(!n.producerMustRecompute(n)&&!ch(n)){n.dirty=!1,n.lastCleanEpoch=ih;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ih}}function ah(n){return n&&(n.nextProducerIndex=0),se(n)}function Z_(n,e){if(se(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(dh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)lh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ch(n){hh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(lA(t),r!==t.version))return!0}return!1}function uh(n){if(hh(n),dh(n))for(let e=0;e<n.producerNode.length;e++)lh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lh(n,e){if(dA(n),n.liveConsumerNode.length===1&&hA(n))for(let r=0;r<n.producerNode.length;r++)lh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];hh(i),i.producerIndexOfThis[r]=e}}function dh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function hh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function hA(n){return n.producerNode!==void 0}function fA(){throw new Error}var pA=fA;function J_(n){pA=n}function X(n){return typeof n=="function"}function wi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pc=wi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Nr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof pc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{X_(s)}catch(o){e=e??[],o instanceof pc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new pc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)X_(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Nr(t,e)}remove(e){let{_finalizers:t}=this;t&&Nr(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var fh=Ne.EMPTY;function gc(n){return n instanceof Ne||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function X_(n){X(n)?n():n.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ei={setTimeout(n,e,...t){let{delegate:r}=Ei;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ei;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function mc(n){Ei.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(n);else throw n})}function yo(){}var eI=ph("C",void 0,void 0);function tI(n){return ph("E",void 0,n)}function nI(n){return ph("N",n,void 0)}function ph(n,e,t){return{kind:n,value:e,error:t}}var Mr=null;function Di(n){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Mr;if(e&&(Mr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Mr;if(Mr=null,t)throw r}}else n()}function rI(n){Ut.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=n)}var xr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gc(e)&&e.add(this)):this.destination=yA}static create(e,t,r){return new Ti(e,t,r)}next(e){this.isStopped?mh(nI(e),this):this._next(e)}error(e){this.isStopped?mh(tI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mh(eI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gA=Function.prototype.bind;function gh(n,e){return gA.call(n,e)}var yh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){yc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){yc(r)}else yc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){yc(t)}}},Ti=class extends xr{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ut.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gh(e.next,s),error:e.error&&gh(e.error,s),complete:e.complete&&gh(e.complete,s)}):i=e}this.destination=new yh(i)}};function yc(n){Ut.useDeprecatedSynchronousErrorHandling?rI(n):mc(n)}function mA(n){throw n}function mh(n,e){let{onStoppedNotification:t}=Ut;t&&Ei.setTimeout(()=>t(n,e))}var yA={closed:!0,next:yo,error:mA,complete:yo};var bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(n){return n}function vc(...n){return vh(n)}function vh(n){return n.length===0?vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=_A(t)?t:new Ti(t,r,i);return Di(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=iI(r),new r((i,s)=>{let o=new Ti({next:c=>{try{t(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[bi](){return this}pipe(...t){return vh(t)(this)}toPromise(t){return t=iI(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function iI(n){var e;return(e=n??Ut.Promise)!==null&&e!==void 0?e:Promise}function vA(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function _A(n){return n&&n instanceof xr||vA(n)&&gc(n)}function _h(n){return X(n?.lift)}function le(n){return e=>{if(_h(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Ih(n,e,t,r,i)}var Ih=class extends xr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ci(){return le((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Si=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_h(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ci()(this)}};var sI=wi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new _c(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sI}next(t){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?fh:(this.currentObservers=null,s.push(t),new Ne(()=>{this.currentObservers=null,Nr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new _c(e,t),n})(),_c=class extends Ze{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:fh}};var Le=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wh={now(){return(wh.delegate||Date).now()},delegate:void 0};var Ic=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var vo={setInterval(n,e,...t){let{delegate:r}=vo;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=vo;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ai=class extends Ic{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return vo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&vo.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Nr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ri=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ri.now=wh.now;var Ni=class extends Ri{constructor(e,t=Ri.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Eh=new Ni(Ai);var wc=class extends Ai{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ec=class extends Ni{};var Dh=new Ec(wc);var _t=new ue(n=>n.complete());function oI(n){return n&&X(n.schedule)}function aI(n){return n[n.length-1]}function cI(n){return X(aI(n))?n.pop():void 0}function Qn(n){return oI(aI(n))?n.pop():void 0}function Th(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function lI(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function uI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(n){return this instanceof Pr?(this.v=n,this):new Pr(n)}function dI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(N){return new Promise(function(R,k){s.push([I,N,R,k])>1||u(I,N)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(N){y(s[0][3],N)}}function l(I){I.value instanceof Pr?Promise.resolve(I.value.v).then(f,p):y(s[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function y(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function hI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uI=="function"?uI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Dc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tc(n){return X(n?.then)}function bc(n){return X(n[bi])}function Cc(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function Sc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ac=IA();function Rc(n){return X(n?.[Ac])}function Nc(n){return dI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Pr(t.read());if(i)return yield Pr(void 0);yield yield Pr(r)}}finally{t.releaseLock()}})}function Mc(n){return X(n?.getReader)}function je(n){if(n instanceof ue)return n;if(n!=null){if(bc(n))return wA(n);if(Dc(n))return EA(n);if(Tc(n))return DA(n);if(Cc(n))return fI(n);if(Rc(n))return TA(n);if(Mc(n))return bA(n)}throw Sc(n)}function wA(n){return new ue(e=>{let t=n[bi]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EA(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function DA(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mc)})}function TA(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function fI(n){return new ue(e=>{CA(n,e).catch(t=>e.error(t))})}function bA(n){return fI(Nc(n))}function CA(n,e){var t,r,i,s;return lI(this,void 0,void 0,function*(){try{for(t=hI(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function ht(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Yn(n,e=0){return le((t,r)=>{t.subscribe(de(r,i=>ht(r,n,()=>r.next(i),e),()=>ht(r,n,()=>r.complete(),e),i=>ht(r,n,()=>r.error(i),e)))})}function Zn(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function pI(n,e){return je(n).pipe(Zn(e),Yn(e))}function gI(n,e){return je(n).pipe(Zn(e),Yn(e))}function mI(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function yI(n,e){return new ue(t=>{let r;return ht(t,e,()=>{r=n[Ac](),ht(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function xc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{ht(t,e,()=>{let r=n[Symbol.asyncIterator]();ht(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vI(n,e){return xc(Nc(n),e)}function _I(n,e){if(n!=null){if(bc(n))return pI(n,e);if(Dc(n))return mI(n,e);if(Tc(n))return gI(n,e);if(Cc(n))return xc(n,e);if(Rc(n))return yI(n,e);if(Mc(n))return vI(n,e)}throw Sc(n)}function Se(n,e){return e?_I(n,e):je(n)}function q(...n){let e=Qn(n);return Se(n,e)}function Mi(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function bh(n){return!!n&&(n instanceof ue||X(n.lift)&&X(n.subscribe))}var En=wi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function re(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:SA}=Array;function AA(n,e){return SA(e)?n(...e):n(e)}function II(n){return re(e=>AA(n,e))}var{isArray:RA}=Array,{getPrototypeOf:NA,prototype:MA,keys:xA}=Object;function wI(n){if(n.length===1){let e=n[0];if(RA(e))return{args:e,keys:null};if(PA(e)){let t=xA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function PA(n){return n&&typeof n=="object"&&NA(n)===MA}function EI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function _o(...n){let e=Qn(n),t=cI(n),{args:r,keys:i}=wI(n);if(r.length===0)return Se([],e);let s=new ue(OA(r,e,i?o=>EI(i,o):vt));return t?s.pipe(II(t)):s}function OA(n,e,t=vt){return r=>{DI(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)DI(e,()=>{let l=Se(n[u],e),f=!1;l.subscribe(de(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function DI(n,e,t){n?ht(t,n,e):e()}function TI(n,e,t,r,i,s,o,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=N=>l<r?S(N):u.push(N),S=N=>{s&&e.next(N),l++;let R=!1;je(t(N,f++)).subscribe(de(e,k=>{i?.(k),s?I(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();o?ht(e,o,()=>S(k)):S(k)}y()}catch(k){e.error(k)}}))};return n.subscribe(de(e,I,()=>{p=!0,y()})),()=>{c?.()}}function Pe(n,e,t=1/0){return X(e)?Pe((r,i)=>re((s,o)=>e(r,s,i,o))(je(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>TI(r,i,n,t)))}function Jn(n=1/0){return Pe(vt,n)}function bI(){return Jn(1)}function xi(...n){return bI()(Se(n,Qn(n)))}function Pc(n){return new ue(e=>{je(n()).subscribe(e)})}function It(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Xn(n){return le((e,t)=>{let r=null,i=!1,s;r=e.subscribe(de(t,void 0,void 0,o=>{s=je(n(o,Xn(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function CI(n,e,t,r,i){return(s,o)=>{let c=t,u=e,l=0;s.subscribe(de(o,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Or(n,e){return X(e)?Pe(n,e,1):Pe(n,1)}function er(n){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dn(n){return n<=0?()=>_t:le((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ch(n){return re(()=>n)}function Oc(n=kA){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kA(){return new En}function Io(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Yt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?It((i,s)=>n(i,s,r)):vt,Dn(1),t?er(e):Oc(()=>new En))}function Pi(n){return n<=0?()=>_t:le((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?It((i,s)=>n(i,s,r)):vt,Pi(1),t?er(e):Oc(()=>new En))}function kc(n,e){return le(CI(n,e,arguments.length>=2,!0))}function Lc(...n){let e=Qn(n);return le((t,r)=>{(e?xi(n,t,e):xi(n,t)).subscribe(r)})}function At(n,e){return le((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=s++;je(n(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Ah(n){return le((e,t)=>{je(n).subscribe(de(t,()=>t.complete(),yo)),!t.closed&&e.subscribe(t)})}function Fe(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(de(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vt}var cw="https://g.co/ng/security#xss",B=class extends Error{constructor(e,t){super(Ff(e,t)),this.code=e}};function Ff(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Oo(n){return{toString:n}.toString()}var Fc="__parameters__";function LA(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function uw(n,e,t){return Oo(()=>{let r=LA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(Fc)?u[Fc]:Object.defineProperty(u,Fc,{value:[]})[Fc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Vh=globalThis;function _e(n){for(let e in n)if(n[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function wt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(wt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function SI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var FA=_e({__forward_ref__:_e});function lw(n){return n.__forward_ref__=lw,n.toString=function(){return wt(this())},n}function Rt(n){return dw(n)?n():n}function dw(n){return typeof n=="function"&&n.hasOwnProperty(FA)&&n.__forward_ref__===lw}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ko(n){return{providers:n.providers||[],imports:n.imports||[]}}function fu(n){return AI(n,fw)||AI(n,pw)}function hw(n){return fu(n)!==null}function AI(n,e){return n.hasOwnProperty(e)?n[e]:null}function VA(n){let e=n&&(n[fw]||n[pw]);return e||null}function RI(n){return n&&(n.hasOwnProperty(NI)||n.hasOwnProperty(UA))?n[NI]:null}var fw=_e({\u0275prov:_e}),NI=_e({\u0275inj:_e}),pw=_e({ngInjectableDef:_e}),UA=_e({ngInjectorDef:_e}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gw(n){return n&&!!n.\u0275providers}var jA=_e({\u0275cmp:_e}),BA=_e({\u0275dir:_e}),$A=_e({\u0275pipe:_e}),HA=_e({\u0275mod:_e}),Gc=_e({\u0275fac:_e}),Eo=_e({__NG_ELEMENT_ID__:_e}),MI=_e({__NG_ENV_ID__:_e});function pu(n){return typeof n=="string"?n:n==null?"":String(n)}function zA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pu(n)}function qA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,n)}function Vf(n,e){throw new B(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),Uh;function mw(){return Uh}function ft(n){let e=Uh;return Uh=n,e}function yw(n,e,t){let r=fu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;Vf(n,"Injector")}var GA={},Do=GA,jh="__NG_DI_FLAG__",Wc="ngTempTokenPath",WA="ngTokenPath",KA=/\n/gm,QA="\u0275",xI="__source",Vi;function YA(){return Vi}function tr(n){let e=Vi;return Vi=n,e}function ZA(n,e=ne.Default){if(Vi===void 0)throw new B(-203,!1);return Vi===null?yw(n,void 0,e):Vi.get(n,e&ne.Optional?null:void 0,e)}function K(n,e=ne.Default){return(mw()||ZA)(Rt(n),e)}function P(n,e=ne.Default){return K(n,gu(e))}function gu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Bh(n){let e=[];for(let t=0;t<n.length;t++){let r=Rt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=ne.Default;for(let o=0;o<r.length;o++){let c=r[o],u=JA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(K(i,s))}else e.push(K(r))}return e}function vw(n,e){return n[jh]=e,n.prototype[jh]=e,n}function JA(n){return n[jh]}function XA(n,e,t,r){let i=n[Wc];throw e[xI]&&i.unshift(e[xI]),n.message=eR(`
`+n.message,i,t,r),n[WA]=i,n[Wc]=null,n}function eR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==QA?n.slice(2):n;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):wt(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(KA,`
  `)}`}var rt=vw(uw("Optional"),8);var Uf=vw(uw("SkipSelf"),4);function Lr(n,e){let t=n.hasOwnProperty(Gc);return t?n[Gc]:null}function tR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function nR(n){return n.flat(Number.POSITIVE_INFINITY)}function jf(n,e){n.forEach(t=>Array.isArray(t)?jf(t,e):e(t))}function _w(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Kc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var To={},Zt=[],ji=new $(""),Iw=new $("",-1),ww=new $(""),Qc=class{get(e,t=Do){if(t===Do){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return t}},Ew=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Ew||{}),en=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(en||{}),ir=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ir||{});function rR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function $h(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];iR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Dw(n){return n===3||n===4||n===6}function iR(n){return n.charCodeAt(0)===64}function Bf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?PI(n,t,i,null,e[++r]):PI(n,t,i,null,null))}}return n}function PI(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var Tw="ng-template";function sR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if($f(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function $f(n){return n.type===4&&n.value!==Tw}function oR(n,e,t){let r=n.type===4&&!t?Tw:n.value;return e===r}function aR(n,e,t){let r=4,i=n.attrs,s=i!==null?lR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!jt(r)&&!jt(u))return!1;if(o&&jt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!oR(n,u,t)||u===""&&e.length===1){if(jt(r))return!1;o=!0}}else if(r&8){if(i===null||!sR(n,i,u,t)){if(jt(r))return!1;o=!0}}else{let l=e[++c],f=cR(u,i,$f(n),t);if(f===-1){if(jt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(jt(r))return!1;o=!0}}}}return jt(r)||o}function jt(n){return(n&1)===0}function cR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return dR(e,n)}function uR(n,e,t=!1){for(let r=0;r<e.length;r++)if(aR(n,e[r],t))return!0;return!1}function lR(n){for(let e=0;e<n.length;e++){let t=n[e];if(Dw(t))return e}return n.length}function dR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function OI(n,e){return n?":not("+e.trim()+")":e}function hR(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!jt(o)&&(e+=OI(s,i),i=""),r=o,s=s||!jt(r);t++}return i!==""&&(e+=OI(s,i)),e}function fR(n){return n.map(hR).join(",")}function pR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!jt(i))break;i=s}r++}return{attrs:e,classes:t}}function Mt(n){return Oo(()=>{let e=Nw(n),t=be(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ew.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||en.Emulated,styles:n.styles||Zt,_:null,schemas:n.schemas||null,tView:null,id:""});Mw(t);let r=n.dependencies;return t.directiveDefs=LI(r,!1),t.pipeDefs=LI(r,!0),t.id=yR(t),t})}function gR(n){return sr(n)||Cw(n)}function mR(n){return n!==null}function Lo(n){return Oo(()=>({type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kI(n,e){if(n==null)return To;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=ir.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==ir.None?[r,c]:r,e[s]=o):t[s]=r}return t}function Hr(n){return Oo(()=>{let e=Nw(n);return Mw(e),e})}function bw(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function sr(n){return n[jA]||null}function Cw(n){return n[BA]||null}function Sw(n){return n[$A]||null}function Aw(n){let e=sr(n)||Cw(n)||Sw(n);return e!==null?e.standalone:!1}function Rw(n,e){let t=n[HA]||null;if(!t&&e===!0)throw new Error(`Type ${wt(n)} does not have '\u0275mod' property.`);return t}function Nw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||To,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kI(n.inputs,e),outputs:kI(n.outputs),debugInfo:null}}function Mw(n){n.features?.forEach(e=>e(n))}function LI(n,e){if(!n)return null;let t=e?Sw:gR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(mR)}function yR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rn(n){return{\u0275providers:n}}function vR(...n){return{\u0275providers:xw(!0,n),\u0275fromNgModule:!0}}function xw(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return jf(e,o=>{let c=o;Hh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Pw(i,s),t}function Pw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Hf(i,s=>{e(s,r)})}}function Hh(n,e,t,r){if(n=Rt(n),!n)return!1;let i=null,s=RI(n),o=!s&&sr(n);if(!s&&!o){let u=n.ngModule;if(s=RI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Hh(l,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{jf(s.imports,f=>{Hh(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Pw(l,e)}if(!c){let l=Lr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Zt},i),e({provide:ww,useValue:i,multi:!0},i),e({provide:ji,useValue:()=>K(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=n;Hf(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Hf(n,e){for(let t of n)gw(t)&&(t=t.\u0275providers),Array.isArray(t)?Hf(t,e):e(t)}var _R=_e({provide:String,useValue:_e});function Ow(n){return n!==null&&typeof n=="object"&&_R in n}function IR(n){return!!(n&&n.useExisting)}function wR(n){return!!(n&&n.useFactory)}function zh(n){return typeof n=="function"}var mu=new $(""),jc={},ER={},Rh;function zf(){return Rh===void 0&&(Rh=new Qc),Rh}var Et=class{},bo=class extends Et{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gh(e,o=>this.processProvider(o)),this.records.set(Iw,Oi(void 0,this)),i.has("environment")&&this.records.set(Et,Oi(void 0,this));let s=this.records.get(mu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ww,Zt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=tr(this),r=ft(void 0),i;try{return e()}finally{tr(t),ft(r)}}get(e,t=Do,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(MI))return e[MI](this);r=gu(r);let i,s=tr(this),o=ft(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=AR(e)&&fu(e);l&&this.injectableDefInScope(l)?u=Oi(qh(e),jc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?zf():this.parent;return t=r&ne.Optional&&t===Do?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Wc]=c[Wc]||[]).unshift(wt(e)),s)throw c;return XA(c,e,"R3InjectorError",this.source)}else throw c}finally{ft(o),tr(s)}}resolveInjectorInitializers(){let e=se(null),t=tr(this),r=ft(void 0),i;try{let s=this.get(ji,Zt,ne.Self);for(let o of s)o()}finally{tr(t),ft(r),se(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=Rt(e);let t=zh(e)?e:Rt(e&&e.provide),r=TR(e);if(!zh(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Oi(void 0,jc,!0),i.factory=()=>Bh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=se(null);try{return t.value===jc&&(t.value=ER,t.value=t.factory()),typeof t.value=="object"&&t.value&&SR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qh(n){let e=fu(n),t=e!==null?e.factory:Lr(n);if(t!==null)return t;if(n instanceof $)throw new B(204,!1);if(n instanceof Function)return DR(n);throw new B(204,!1)}function DR(n){if(n.length>0)throw new B(204,!1);let t=VA(n);return t!==null?()=>t.factory(n):()=>new n}function TR(n){if(Ow(n))return Oi(void 0,n.useValue);{let e=bR(n);return Oi(e,jc)}}function bR(n,e,t){let r;if(zh(n)){let i=Rt(n);return Lr(i)||qh(i)}else if(Ow(n))r=()=>Rt(n.useValue);else if(wR(n))r=()=>n.useFactory(...Bh(n.deps||[]));else if(IR(n))r=()=>K(Rt(n.useExisting));else{let i=Rt(n&&(n.useClass||n.provide));if(CR(n))r=()=>new i(...Bh(n.deps));else return Lr(i)||qh(i)}return r}function Oi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CR(n){return!!n.deps}function SR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function AR(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Gh(n,e){for(let t of n)Array.isArray(t)?Gh(t,e):t&&gw(t)?Gh(t.\u0275providers,e):e(t)}function sn(n,e){n instanceof bo&&n.assertNotDestroyed();let t,r=tr(n),i=ft(void 0);try{return e()}finally{tr(r),ft(i)}}function kw(){return mw()!==void 0||YA()!=null}function RR(n){if(!kw())throw new B(-203,!1)}function NR(n){return typeof n=="function"}var Cn=0,Y=1,W=2,et=3,Bt=4,Ht=5,Co=6,Yc=7,Je=8,Bi=9,tn=10,tt=11,So=12,FI=13,Qi=14,$t=15,Fr=16,ki=17,Tn=18,yu=19,Lw=20,nr=21,Nh=22,Nt=23,pt=25,Fw=1;var Vr=7,Zc=8,$i=9,Xe=10,Jc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Jc||{});function rr(n){return Array.isArray(n)&&typeof n[Fw]=="object"}function Sn(n){return Array.isArray(n)&&n[Fw]===!0}function Vw(n){return(n.flags&4)!==0}function vu(n){return n.componentOffset>-1}function qf(n){return(n.flags&1)===1}function Fo(n){return!!n.template}function Wh(n){return(n[W]&512)!==0}var Kh=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Uw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Yi(){return jw}function jw(n){return n.type.prototype.ngOnChanges&&(n.setInput=xR),MR}Yi.ngInherit=!0;function MR(){let n=$w(this),e=n?.current;if(e){let t=n.previous;if(t===To)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function xR(n,e,t,r,i){let s=this.declaredInputs[r],o=$w(n)||PR(n,{previous:To,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Kh(l&&l.currentValue,t,u===To),Uw(n,e,i,t)}var Bw="__ngSimpleChanges__";function $w(n){return n[Bw]||null}function PR(n,e){return n[Bw]=e}var VI=null;var Jt=function(n,e,t){VI?.(n,e,t)},OR="svg",kR="math";function nn(n){for(;Array.isArray(n);)n=n[Cn];return n}function LR(n,e){return nn(e[n])}function xt(n,e){return nn(e[n.index])}function Gf(n,e){return n.data[e]}function Hw(n,e){return n[e]}function cr(n,e){let t=e[n];return rr(t)?t:t[Cn]}function FR(n){return(n[W]&4)===4}function Wf(n){return(n[W]&128)===128}function VR(n){return Sn(n[et])}function Hi(n,e){return e==null?null:n[e]}function zw(n){n[ki]=0}function qw(n){n[W]&1024||(n[W]|=1024,Wf(n)&&Iu(n))}function UR(n,e){for(;n>0;)e=e[Qi],n--;return e}function _u(n){return!!(n[W]&9216||n[Nt]?.dirty)}function Qh(n){n[tn].changeDetectionScheduler?.notify(8),n[W]&64&&(n[W]|=1024),_u(n)&&Iu(n)}function Iu(n){n[tn].changeDetectionScheduler?.notify(0);let e=Ur(n);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Wf(e)));)e=Ur(e)}function Gw(n,e){if((n[W]&256)===256)throw new B(911,!1);n[nr]===null&&(n[nr]=[]),n[nr].push(e)}function jR(n,e){if(n[nr]===null)return;let t=n[nr].indexOf(e);t!==-1&&n[nr].splice(t,1)}function Ur(n){let e=n[et];return Sn(e)?e[et]:e}var oe={lFrame:tE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ww=!1;function BR(){return oe.lFrame.elementDepthCount}function $R(){oe.lFrame.elementDepthCount++}function HR(){oe.lFrame.elementDepthCount--}function Kw(){return oe.bindingsEnabled}function zR(){return oe.skipHydrationRootTNode!==null}function qR(n){return oe.skipHydrationRootTNode===n}function GR(){oe.skipHydrationRootTNode=null}function pe(){return oe.lFrame.lView}function Pt(){return oe.lFrame.tView}function Zi(n){return oe.lFrame.contextLView=n,n[Je]}function Ji(n){return oe.lFrame.contextLView=null,n}function gt(){let n=Qw();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qw(){return oe.lFrame.currentTNode}function WR(){let n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Vo(n,e){let t=oe.lFrame;t.currentTNode=n,t.isParent=e}function Yw(){return oe.lFrame.isParent}function KR(){oe.lFrame.isParent=!1}function QR(){return oe.lFrame.contextLView}function Zw(){return Ww}function UI(n){Ww=n}function Kf(){let n=oe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function YR(n){return oe.lFrame.bindingIndex=n}function Uo(){return oe.lFrame.bindingIndex++}function ZR(){return oe.lFrame.inI18n}function JR(n,e){let t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yh(e)}function XR(){return oe.lFrame.currentDirectiveIndex}function Yh(n){oe.lFrame.currentDirectiveIndex=n}function Jw(){return oe.lFrame.currentQueryIndex}function Qf(n){oe.lFrame.currentQueryIndex=n}function eN(n){let e=n[Y];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function Xw(n,e,t){if(t&ne.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=eN(s),i===null||(s=s[Qi],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=oe.lFrame=eE();return r.currentTNode=e,r.lView=n,!0}function Yf(n){let e=eE(),t=n[Y];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eE(){let n=oe.lFrame,e=n===null?null:n.child;return e===null?tE(n):e}function tE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function nE(){let n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rE=nE;function Zf(){let n=nE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tN(n){return(oe.lFrame.contextLView=UR(n,oe.lFrame.contextLView))[Je]}function wu(){return oe.lFrame.selectedIndex}function jr(n){oe.lFrame.selectedIndex=n}function iE(){let n=oe.lFrame;return Gf(n.tView,n.selectedIndex)}function nN(){return oe.lFrame.currentNamespace}var sE=!0;function Jf(){return sE}function Xf(n){sE=n}function rN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=jw(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function ep(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Bc(n,e,t){oE(n,e,3,t)}function $c(n,e,t,r){(n[W]&3)===t&&oE(n,e,t,r)}function Mh(n,e){let t=n[W];(t&3)===e&&(t&=16383,t+=1,n[W]=t)}function oE(n,e,t,r){let i=r!==void 0?n[ki]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[ki]+=65536),(c<s||s==-1)&&(iN(n,t,e,u),n[ki]=(n[ki]&4294901760)+u+2),u++}function jI(n,e){Jt(4,n,e);let t=se(null);try{e.call(n)}finally{se(t),Jt(5,n,e)}}function iN(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[W]>>14<n[ki]>>16&&(n[W]&3)===e&&(n[W]+=16384,jI(c,s)):jI(c,s)}var Ui=-1,Ao=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function sN(n){return n instanceof Ao}function oN(n){return(n.flags&8)!==0}function aN(n){return(n.flags&16)!==0}var xh={},Zh=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=gu(r);let i=this.injector.get(e,xh,r);return i!==xh||t===xh?i:this.parentInjector.get(e,t,r)}};function aE(n){return n!==Ui}function Xc(n){return n&32767}function cN(n){return n>>16}function eu(n,e){let t=cN(n),r=e;for(;t>0;)r=r[Qi],t--;return r}var Jh=!0;function tu(n){let e=Jh;return Jh=n,e}var uN=256,cE=uN-1,uE=5,lN=0,Xt={};function dN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Eo)&&(r=t[Eo]),r==null&&(r=t[Eo]=lN++);let i=r&cE,s=1<<i;e.data[n+(i>>uE)]|=s}function lE(n,e){let t=dE(n,e);if(t!==-1)return t;let r=e[Y];r.firstCreatePass&&(n.injectorIndex=e.length,Ph(r.data,n),Ph(e,null),Ph(r.blueprint,null));let i=tp(n,e),s=n.injectorIndex;if(aE(i)){let o=Xc(i),c=eu(i,e),u=c[Y].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Ph(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function tp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=mE(i),r===null)return Ui;if(t++,i=i[Qi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ui}function hN(n,e,t){dN(n,e,t)}function fN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(Dw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function hE(n,e,t){if(t&ne.Optional||n!==void 0)return n;Vf(e,"NodeInjector")}function fE(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),!(t&(ne.Self|ne.Host))){let i=n[Bi],s=ft(void 0);try{return i?i.get(e,r,t&ne.Optional):yw(e,r,t&ne.Optional)}finally{ft(s)}}return hE(r,e,t)}function pE(n,e,t,r=ne.Default,i){if(n!==null){if(e[W]&2048&&!(r&ne.Self)){let o=yN(n,e,t,r,Xt);if(o!==Xt)return o}let s=gE(n,e,t,r,Xt);if(s!==Xt)return s}return fE(e,t,r,i)}function gE(n,e,t,r,i){let s=gN(t);if(typeof s=="function"){if(!Xw(e,n,r))return r&ne.Host?hE(i,t,r):fE(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&ne.Optional))Vf(t);else return o}finally{rE()}}else if(typeof s=="number"){let o=null,c=dE(n,e),u=Ui,l=r&ne.Host?e[$t][Ht]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?tp(n,e):e[c+8],u===Ui||!$I(r,!1)?c=-1:(o=e[Y],c=Xc(u),e=eu(u,e)));c!==-1;){let f=e[Y];if(BI(s,c,f.data)){let p=pN(c,e,t,o,r,l);if(p!==Xt)return p}u=e[c+8],u!==Ui&&$I(r,e[Y].data[c+8]===l)&&BI(s,c,e)?(o=f,c=Xc(u),e=eu(u,e)):c=-1}}return i}function pN(n,e,t,r,i,s){let o=e[Y],c=o.data[n+8],u=r==null?vu(c)&&Jh:r!=o&&(c.type&3)!==0,l=i&ne.Host&&s===c,f=Hc(c,o,t,u,l);return f!==null?zi(e,o,f,c):Xt}function Hc(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,u=n.directiveStart,l=n.directiveEnd,f=s>>20,p=r?c:c+f,y=i?c+f:l;for(let I=p;I<y;I++){let S=o[I];if(I<u&&t===S||I>=u&&S.type===t)return I}if(i){let I=o[u];if(I&&Fo(I)&&I.type===t)return u}return null}function zi(n,e,t,r){let i=n[t],s=e.data;if(sN(i)){let o=i;o.resolving&&qA(zA(s[t]));let c=tu(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ft(o.injectImpl):null,f=Xw(n,r,ne.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&rN(t,s[t],e)}finally{l!==null&&ft(l),tu(c),o.resolving=!1,rE()}}return i}function gN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Eo)?n[Eo]:void 0;return typeof e=="number"?e>=0?e&cE:mN:e}function BI(n,e,t){let r=1<<n;return!!(t[e+(n>>uE)]&r)}function $I(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var kr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pE(this._tNode,this._lView,e,gu(r),t)}};function mN(){return new kr(gt(),pe())}function np(n){return Oo(()=>{let e=n.prototype.constructor,t=e[Gc]||Xh(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Gc]||Xh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xh(n){return dw(n)?()=>{let e=Xh(Rt(n));return e&&e()}:Lr(n)}function yN(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[W]&2048&&!(o[W]&512);){let c=gE(s,o,t,r|ne.Self,Xt);if(c!==Xt)return c;let u=s.parent;if(!u){let l=o[Lw];if(l){let f=l.get(t,Xt,r);if(f!==Xt)return f}u=mE(o),o=o[Qi]}s=u}return i}function mE(n){let e=n[Y],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function rp(n){return fN(gt(),n)}function HI(n,e=null,t=null,r){let i=yE(n,e,t,r);return i.resolveInjectorInitializers(),i}function yE(n,e=null,t=null,r,i=new Set){let s=[t||Zt,vR(n)];return r=r||(typeof n=="object"?void 0:wt(n)),new bo(s,e||zf(),r||null,i)}var nt=class n{static{this.THROW_IF_NOT_FOUND=Do}static{this.NULL=new Qc}static create(e,t){if(Array.isArray(e))return HI({name:""},t,e,"");{let r=e.name??"";return HI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=j({token:n,providedIn:"any",factory:()=>K(Iw)})}static{this.__NG_ELEMENT_ID__=-1}};var vN=new $("");vN.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new B(204,!1)};var _N="ngOriginalError";function Oh(n){return n[_N]}var vE=!0,ip=(()=>{class n{static{this.__NG_ELEMENT_ID__=IN}static{this.__NG_ENV_ID__=t=>t}}return n})(),ef=class extends ip{constructor(e){super(),this._lView=e}onDestroy(e){return Gw(this._lView,e),()=>jR(this._lView,e)}};function IN(){return new ef(pe())}var Xi=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})();var tf=class extends Ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,kw()&&(this.destroyRef=P(ip,{optional:!0})??void 0,this.pendingTasks=P(Xi,{optional:!0})??void 0)}emit(e){let t=se(null);try{super.next(e)}finally{se(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},qe=tf;function nu(...n){}function _E(n){let e,t;function r(){n=nu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function zI(n){return queueMicrotask(()=>n()),()=>{n=nu}}var sp="isAngularZone",ru=sp+"_ID",wN=0,me=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=vE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,TN(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,EN,nu,nu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},EN={};function op(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function DN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){_E(()=>{n.callbackScheduled=!1,nf(n),n.isCheckStableRunning=!0,op(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),nf(n)}function TN(n){let e=()=>{DN(n)},t=wN++;n._inner=n._inner.fork({name:"angular",properties:{[sp]:!0,[ru]:t,[ru+t]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(bN(u))return r.invokeTask(s,o,c,u);try{return qI(n),r.invokeTask(s,o,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),GI(n)}},onInvoke:(r,i,s,o,c,u,l)=>{try{return qI(n),r.invoke(s,o,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!CN(u)&&e(),GI(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,nf(n),op(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function nf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function qI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GI(n){n._nesting--,op(n)}var rf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qe,this.onMicrotaskEmpty=new qe,this.onStable=new qe,this.onError=new qe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function bN(n){return IE(n,"__ignore_ng_zone__")}function CN(n){return IE(n,"__scheduler_tick__")}function IE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var bn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Oh(e);for(;t&&Oh(t);)t=Oh(t);return t||null}},SN=new $("",{providedIn:"root",factory:()=>{let n=P(me),e=P(bn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function AN(){return es(gt(),pe())}function es(n,e){return new zt(xt(n,e))}var zt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=AN}}return n})();function RN(n){return n instanceof zt?n.nativeElement:n}function NN(){return this._results[Symbol.iterator]()}var sf=class n{get changes(){return this._changes??=new qe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=NN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=nR(e);(this._changesDetected=!tR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function wE(n){return(n.flags&128)===128}var EE=new Map,MN=0;function xN(){return MN++}function PN(n){EE.set(n[yu],n)}function of(n){EE.delete(n[yu])}var WI="__ngContext__";function Br(n,e){rr(e)?(n[WI]=e[yu],PN(e)):n[WI]=e}function DE(n){return bE(n[So])}function TE(n){return bE(n[Bt])}function bE(n){for(;n!==null&&!Sn(n);)n=n[Bt];return n}var af;function CE(n){af=n}function ON(){if(af!==void 0)return af;if(typeof document<"u")return document;throw new B(210,!1)}var ap=new $("",{providedIn:"root",factory:()=>kN}),kN="ng",cp=new $(""),on=new $("",{providedIn:"platform",factory:()=>"unknown"});var up=new $("",{providedIn:"root",factory:()=>ON().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var LN="h",FN="b";var VN=()=>null;function lp(n,e,t=!1){return VN(n,e,t)}var SE=!1,UN=new $("",{providedIn:"root",factory:()=>SE});var Vc;function jN(){if(Vc===void 0&&(Vc=null,Vh.trustedTypes))try{Vc=Vh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vc}function KI(n){return jN()?.createScriptURL(n)||n}var iu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cw})`}};function Eu(n){return n instanceof iu?n.changingThisBreaksApplicationSecurity:n}function dp(n,e){let t=BN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${cw})`)}return t===e}function BN(n){return n instanceof iu&&n.getTypeName()||null}var $N=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AE(n){return n=String(n),n.match($N)?n:"unsafe:"+n}var Du=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Du||{});function HN(n){let e=NE();return e?e.sanitize(Du.URL,n)||"":dp(n,"URL")?Eu(n):AE(pu(n))}function zN(n){let e=NE();if(e)return KI(e.sanitize(Du.RESOURCE_URL,n)||"");if(dp(n,"ResourceURL"))return KI(Eu(n));throw new B(904,!1)}function qN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?zN:HN}function RE(n,e,t){return qN(e,t)(n)}function NE(){let n=pe();return n&&n[tn].sanitizer}function ME(n){return n instanceof Function?n():n}function GN(n){return(n??P(nt)).get(on)==="browser"}var ur=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ur||{}),WN;function hp(n,e){return WN(n,e)}function Li(n,e,t,r,i){if(r!=null){let s,o=!1;Sn(r)?s=r:rr(r)&&(o=!0,r=r[Cn]);let c=nn(r);n===0&&t!==null?i==null?kE(e,t,c):su(e,t,c,i||null,!0):n===1&&t!==null?su(e,t,c,i||null,!0):n===2?cM(e,c,o):n===3&&e.destroyNode(c),s!=null&&lM(e,n,s,t,i)}}function KN(n,e){return n.createText(e)}function QN(n,e,t){n.setValue(e,t)}function xE(n,e,t){return n.createElement(e,t)}function YN(n,e){PE(n,e),e[Cn]=null,e[Ht]=null}function ZN(n,e,t,r,i,s){r[Cn]=i,r[Ht]=e,bu(n,r,t,1,i,s)}function PE(n,e){e[tn].changeDetectionScheduler?.notify(9),bu(n,e,e[tt],2,null,null)}function JN(n){let e=n[So];if(!e)return kh(n[Y],n);for(;e;){let t=null;if(rr(e))t=e[So];else{let r=e[Xe];r&&(t=r)}if(!t){for(;e&&!e[Bt]&&e!==n;)rr(e)&&kh(e[Y],e),e=e[et];e===null&&(e=n),rr(e)&&kh(e[Y],e),t=e&&e[Bt]}e=t}}function XN(n,e,t,r){let i=Xe+r,s=t.length;r>0&&(t[i-1][Bt]=e),r<s-Xe?(e[Bt]=t[i],_w(t,Xe+r,e)):(t.push(e),e[Bt]=null),e[et]=t;let o=e[Fr];o!==null&&t!==o&&OE(o,e);let c=e[Tn];c!==null&&c.insertView(n),Qh(e),e[W]|=128}function OE(n,e){let t=n[$i],r=e[et];if(rr(r))n[W]|=Jc.HasTransplantedViews;else{let i=r[et][$t];e[$t]!==i&&(n[W]|=Jc.HasTransplantedViews)}t===null?n[$i]=[e]:t.push(e)}function fp(n,e){let t=n[$i],r=t.indexOf(e);t.splice(r,1)}function Ro(n,e){if(n.length<=Xe)return;let t=Xe+e,r=n[t];if(r){let i=r[Fr];i!==null&&i!==n&&fp(i,r),e>0&&(n[t-1][Bt]=r[Bt]);let s=Kc(n,Xe+e);YN(r[Y],r);let o=s[Tn];o!==null&&o.detachView(s[Y]),r[et]=null,r[Bt]=null,r[W]&=-129}return r}function Tu(n,e){if(!(e[W]&256)){let t=e[tt];t.destroyNode&&bu(n,e,t,3,null,null),JN(e)}}function kh(n,e){if(e[W]&256)return;let t=se(null);try{e[W]&=-129,e[W]|=256,e[Nt]&&uh(e[Nt]),tM(n,e),eM(n,e),e[Y].type===1&&e[tt].destroy();let r=e[Fr];if(r!==null&&Sn(e[et])){r!==e[et]&&fp(r,e);let i=e[Tn];i!==null&&i.detachView(n)}of(e)}finally{se(t)}}function eM(n,e){let t=n.cleanup,r=e[Yc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Yc]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function tM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ao)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Jt(4,c,u);try{u.call(c)}finally{Jt(5,c,u)}}else{Jt(4,i,s);try{s.call(i)}finally{Jt(5,i,s)}}}}}function nM(n,e,t){return rM(n,e.parent,t)}function rM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return xt(r,t)}}function su(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kE(n,e,t){n.appendChild(e,t)}function QI(n,e,t,r,i){r!==null?su(n,e,t,r,i):kE(n,e,t)}function LE(n,e){return n.parentNode(e)}function iM(n,e){return n.nextSibling(e)}function sM(n,e,t){return aM(n,e,t)}function oM(n,e,t){return n.type&40?xt(n,t):null}var aM=oM,YI;function pp(n,e,t,r){let i=nM(n,r,e),s=e[tt],o=r.parent||e[Ht],c=sM(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)QI(s,i,t[u],c,!1);else QI(s,i,t,c,!1);YI!==void 0&&YI(s,r,e,t,i)}function wo(n,e){if(e!==null){let t=e.type;if(t&3)return xt(e,n);if(t&4)return cf(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return wo(n,r);{let i=n[e.index];return Sn(i)?cf(-1,i):nn(i)}}else{if(t&128)return wo(n,e.next);if(t&32)return hp(e,n)()||nn(n[e.index]);{let r=FE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ur(n[$t]);return wo(i,r)}else return wo(n,e.next)}}}return null}function FE(n,e){if(e!==null){let r=n[$t][Ht],i=e.projection;return r.projection[i]}return null}function cf(n,e){let t=Xe+n+1;if(t<e.length){let r=e[t],i=r[Y].firstChild;if(i!==null)return wo(r,i)}return e[Vr]}function cM(n,e,t){n.removeChild(null,e,t)}function gp(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&Br(nn(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)gp(n,e,t.child,r,i,s,!1),Li(e,n,i,c,s);else if(u&32){let l=hp(t,r),f;for(;f=l();)Li(e,n,i,f,s);Li(e,n,i,c,s)}else u&16?uM(n,e,r,t,i,s):Li(e,n,i,c,s);t=o?t.projectionNext:t.next}}function bu(n,e,t,r,i,s){gp(t,r,n.firstChild,e,i,s,!1)}function uM(n,e,t,r,i,s){let o=t[$t],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Li(e,n,i,f,s)}else{let l=u,f=o[et];wE(r)&&(l.flags|=128),gp(n,e,l,f,i,s,!0)}}function lM(n,e,t,r,i){let s=t[Vr],o=nn(t);s!==o&&Li(e,n,r,s,i);for(let c=Xe;c<t.length;c++){let u=t[c];bu(u[Y],u,n,e,r,s)}}function dM(n,e,t){n.setAttribute(e,"style",t)}function VE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function UE(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&$h(n,e,r),i!==null&&VE(n,e,i),s!==null&&dM(n,e,s)}var zr={};function ts(n=1){jE(Pt(),pe(),wu()+n,!1)}function jE(n,e,t,r){if(!r)if((e[W]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Bc(e,s,t)}else{let s=n.preOrderHooks;s!==null&&$c(e,s,0,t)}jr(t)}function we(n,e=ne.Default){let t=pe();if(t===null)return K(n,e);let r=gt();return pE(r,t,Rt(n),e)}function BE(){let n="invalid";throw new Error(n)}function $E(n,e,t,r,i,s){let o=se(null);try{let c=null;i&ir.SignalBased&&(c=e[r][Q_]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&ir.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):Uw(e,c,r,s)}finally{se(o)}}function hM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)jr(~i);else{let s=i,o=t[++r],c=t[++r];JR(o,s);let u=e[s];c(2,u)}}}finally{jr(-1)}}function Cu(n,e,t,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[Cn]=i,p[W]=r|4|128|8|64,(l!==null||n&&n[W]&2048)&&(p[W]|=2048),zw(p),p[et]=p[Qi]=n,p[Je]=t,p[tn]=o||n&&n[tn],p[tt]=c||n&&n[tt],p[Bi]=u||n&&n[Bi]||null,p[Ht]=s,p[yu]=xN(),p[Co]=f,p[Lw]=l,p[$t]=e.type==2?n[$t]:p,p}function Su(n,e,t,r,i){let s=n.data[e];if(s===null)s=fM(n,e,t,r,i),ZR()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=WR();s.injectorIndex=o===null?-1:o.injectorIndex}return Vo(s,!0),s}function fM(n,e,t,r,i){let s=Qw(),o=Yw(),c=o?s:s&&s.parent,u=n.data[e]=_M(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function HE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zE(n,e,t,r,i){let s=wu(),o=r&2;try{jr(-1),o&&e.length>pt&&jE(n,e,pt,!1),Jt(o?2:0,i),t(r,i)}finally{jr(s),Jt(o?3:1,i)}}function qE(n,e,t){if(Vw(e)){let r=se(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let u=t[o];c.contentQueries(1,u,o)}}}finally{se(r)}}}function GE(n,e,t){Kw()&&(CM(n,e,t,xt(t,e)),(t.flags&64)===64&&ZE(n,e,t))}function WE(n,e,t=xt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function KE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=mp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function mp(n,e,t,r,i,s,o,c,u,l,f){let p=pt+r,y=p+i,I=pM(p,y),S=typeof l=="function"?l():l;return I[Y]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function pM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:zr);return t}function gM(n,e,t,r){let s=r.get(UN,SE)||t===en.ShadowDom,o=n.selectRootElement(e,s);return mM(o),o}function mM(n){yM(n)}var yM=()=>null;function vM(n,e,t,r){let i=eD(e);i.push(t),n.firstCreatePass&&tD(n).push(r,i.length-1)}function _M(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return zR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ZI(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=ir.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?JI(r,t,l,c,u):JI(r,t,l,c)}return r}function JI(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function IM(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=t?t.get(p):null,I=y?y.inputs:null,S=y?y.outputs:null;u=ZI(0,p.inputs,f,u,I),l=ZI(1,p.outputs,f,l,S);let N=u!==null&&o!==null&&!$f(e)?FM(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function wM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function EM(n,e,t,r,i,s,o,c){let u=xt(e,t),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(yp(n,t,f,r,i),vu(e)&&DM(t,e.index)):e.type&3?(r=wM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function DM(n,e){let t=cr(e,n);t[W]&16||(t[W]|=64)}function QE(n,e,t,r){if(Kw()){let i=r===null?null:{"":-1},s=AM(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&YE(n,e,t,o,i,c),i&&RM(t,r,i)}t.mergedAttrs=Bf(t.mergedAttrs,t.attrs)}function YE(n,e,t,r,i,s){for(let l=0;l<r.length;l++)hN(lE(t,e),n,r[l].type);MM(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=HE(n,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];t.mergedAttrs=Bf(t.mergedAttrs,f.hostAttrs),xM(n,t,e,u,f),NM(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}IM(n,t,s)}function TM(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;bM(o)!=c&&o.push(c),o.push(t,r,s)}}function bM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function CM(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;vu(t)&&PM(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||lE(t,e),Br(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let u=n.data[c],l=zi(e,n,c,t);if(Br(l,e),o!==null&&LM(e,c-i,l,u,t,o),Fo(u)){let f=cr(t.index,e);f[Je]=zi(e,n,c,t)}}}function ZE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=XR();try{jr(s);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];Yh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&SM(u,l)}}finally{jr(-1),Yh(o)}}function SM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function AM(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(uR(e,o.selectors,!1))if(r||(r=[]),Fo(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;uf(n,e,u)}else r.unshift(o),uf(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function uf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function RM(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function NM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Fo(e)&&(t[""]=n)}}function MM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xM(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Lr(i.type,!0)),o=new Ao(s,Fo(i),we);n.blueprint[r]=o,t[r]=o,TM(n,e,r,HE(n,t,i.hostVars,zr),i)}function PM(n,e,t){let r=xt(e,n),i=KE(t),s=n[tn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=Au(n,Cu(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function OM(n,e,t,r,i,s){let o=xt(n,e);kM(e[tt],o,s,n.value,t,r,i)}function kM(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let c=o==null?pu(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}function LM(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];$E(r,t,u,l,f,p)}}function FM(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function JE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function XE(n,e){let t=n.contentQueries;if(t!==null){let r=se(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];Qf(s),c.contentQueries(2,e[o],o)}}}finally{se(r)}}}function Au(n,e){return n[So]?n[FI][Bt]=e:n[So]=e,n[FI]=e,e}function lf(n,e,t){Qf(0);let r=se(null);try{e(n,t)}finally{se(r)}}function eD(n){return n[Yc]??=[]}function tD(n){return n.cleanup??=[]}function nD(n,e){let t=n[Bi],r=t?t.get(bn,null):null;r&&r.handleError(e)}function yp(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],u=t[s++],l=e[o],f=n.data[o];$E(f,l,r,c,u,i)}}function VM(n,e,t){let r=LR(e,n);QN(n[tt],r,t)}function UM(n,e){let t=cr(e,n),r=t[Y];jM(r,t);let i=t[Cn];i!==null&&t[Co]===null&&(t[Co]=lp(i,t[Bi])),vp(r,t,t[Je])}function jM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vp(n,e,t){Yf(e);try{let r=n.viewQuery;r!==null&&lf(1,r,t);let i=n.template;i!==null&&zE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tn]?.finishViewCreation(n),n.staticContentQueries&&XE(n,e),n.staticViewQueries&&lf(2,n.viewQuery,t);let s=n.components;s!==null&&BM(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[W]&=-5,Zf()}}function BM(n,e){for(let t=0;t<e.length;t++)UM(n,e[t])}function Ru(n,e,t,r){let i=se(null);try{let s=e.tView,c=n[W]&4096?4096:16,u=Cu(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Fr]=l;let f=n[Tn];return f!==null&&(u[Tn]=f.createEmbeddedView(s)),vp(s,u,t),u}finally{se(i)}}function rD(n,e){let t=Xe+e;if(t<n.length)return n[t]}function No(n,e){return!e||e.firstChild===null||wE(n)}function Nu(n,e,t,r=!0){let i=e[Y];if(XN(i,e,n,t),r){let o=cf(t,n),c=e[tt],u=LE(c,n[Vr]);u!==null&&ZN(i,n[Ht],c,e,u,o)}let s=e[Co];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function iD(n,e){let t=Ro(n,e);return t!==void 0&&Tu(t[Y],t),t}function ou(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(nn(s)),Sn(s)&&$M(s,r);let o=t.type;if(o&8)ou(n,e,t.child,r);else if(o&32){let c=hp(t,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=FE(e,t);if(Array.isArray(c))r.push(...c);else{let u=Ur(e[$t]);ou(u[Y],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function $M(n,e){for(let t=Xe;t<n.length;t++){let r=n[t],i=r[Y].firstChild;i!==null&&ou(r[Y],r,i,e)}n[Vr]!==n[Cn]&&e.push(n[Vr])}var sD=[];function HM(n){return n[Nt]??zM(n)}function zM(n){let e=sD.pop()??Object.create(GM);return e.lView=n,e}function qM(n){n.lView[Nt]!==n&&(n.lView=null,sD.push(n))}var GM=be(L({},oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Iu(n.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function WM(n){let e=n[Nt]??Object.create(KM);return e.lView=n,e}var KM=be(L({},oh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ur(n.lView);for(;e&&!oD(e[Y]);)e=Ur(e);e&&qw(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function oD(n){return n.type!==2}var QM=100;function aD(n,e=!0,t=0){let r=n[tn],i=r.rendererFactory,s=!1;s||i.begin?.();try{YM(n,t)}catch(o){throw e&&nD(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function YM(n,e){let t=Zw();try{UI(!0),df(n,e);let r=0;for(;_u(n);){if(r===QM)throw new B(103,!1);r++,df(n,1)}}finally{UI(t)}}function ZM(n,e,t,r){let i=e[W];if((i&256)===256)return;let s=!1,o=!1;!s&&e[tn].inlineEffectRunner?.flush(),Yf(e);let c=!0,u=null,l=null;s||(oD(n)?(l=HM(e),u=ah(l)):Y_()===null?(c=!1,l=WM(e),u=ah(l)):e[Nt]&&(uh(e[Nt]),e[Nt]=null));try{zw(e),YR(n.bindingStartIndex),t!==null&&zE(n,e,t,2,r);let f=(i&3)===3;if(!s)if(f){let I=n.preOrderCheckHooks;I!==null&&Bc(e,I,null)}else{let I=n.preOrderHooks;I!==null&&$c(e,I,0,null),Mh(e,0)}if(o||JM(e),cD(e,0),n.contentQueries!==null&&XE(n,e),!s)if(f){let I=n.contentCheckHooks;I!==null&&Bc(e,I)}else{let I=n.contentHooks;I!==null&&$c(e,I,1),Mh(e,1)}hM(n,e);let p=n.components;p!==null&&lD(e,p,0);let y=n.viewQuery;if(y!==null&&lf(2,y,r),!s)if(f){let I=n.viewCheckHooks;I!==null&&Bc(e,I)}else{let I=n.viewHooks;I!==null&&$c(e,I,2),Mh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Nh]){for(let I of e[Nh])I();e[Nh]=null}s||(e[W]&=-73)}catch(f){throw s||Iu(e),f}finally{l!==null&&(Z_(l,u),c&&qM(l)),Zf()}}function cD(n,e){for(let t=DE(n);t!==null;t=TE(t))for(let r=Xe;r<t.length;r++){let i=t[r];uD(i,e)}}function JM(n){for(let e=DE(n);e!==null;e=TE(e)){if(!(e[W]&Jc.HasTransplantedViews))continue;let t=e[$i];for(let r=0;r<t.length;r++){let i=t[r];qw(i)}}}function XM(n,e,t){let r=cr(e,n);uD(r,t)}function uD(n,e){Wf(n)&&df(n,e)}function df(n,e){let r=n[Y],i=n[W],s=n[Nt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ch(s)),o||=!1,s&&(s.dirty=!1),n[W]&=-9217,o)ZM(r,n,r.template,n[Je]);else if(i&8192){cD(n,1);let c=r.components;c!==null&&lD(n,c,1)}}function lD(n,e,t){for(let r=0;r<e.length;r++)XM(n,e[r],t)}function _p(n,e){let t=Zw()?64:1088;for(n[tn].changeDetectionScheduler?.notify(e);n;){n[W]|=t;let r=Ur(n);if(Wh(n)&&!r)return n;n=r}return null}var $r=class{get rootNodes(){let e=this._lView,t=e[Y];return ou(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[et];if(Sn(e)){let t=e[Zc],r=t?t.indexOf(this):-1;r>-1&&(Ro(e,r),Kc(t,r))}this._attachedToViewContainer=!1}Tu(this._lView[Y],this._lView)}onDestroy(e){Gw(this._lView,e)}markForCheck(){_p(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Qh(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,aD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wh(this._lView),t=this._lView[Fr];t!==null&&!e&&fp(t,this._lView),PE(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Wh(this._lView),r=this._lView[Fr];r!==null&&!t&&OE(r,this._lView),Qh(this._lView)}},Mo=(()=>{class n{static{this.__NG_ELEMENT_ID__=nx}}return n})(),ex=Mo,tx=class extends ex{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Ru(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new $r(i)}};function nx(){return Ip(gt(),pe())}function Ip(n,e){return n.type&4?new tx(e,n,es(n,e)):null}var m4=new RegExp(`^(\\d+)*(${FN}|${LN})*(.*)`);var rx=()=>null;function xo(n,e){return rx(n,e)}var qi=class{},Mu=new $("",{providedIn:"root",factory:()=>!1});var dD=new $(""),hD=new $(""),hf=class{},au=class{};function ix(n){let e=Error(`No component factory found for ${wt(n)}.`);return e[sx]=n,e}var sx="ngComponent";var ff=class{resolveComponentFactory(e){throw ix(e)}},Gi=class{static{this.NULL=new ff}},Wi=class{},qr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ox()}}return n})();function ox(){let n=pe(),e=gt(),t=cr(e.index,n);return(rr(t)?t:n)[tt]}var ax=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>null})}}return n})();function pf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=SI(i,c);else if(s==2){let u=c,l=e[++o];r=SI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var cu=class extends Gi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=sr(e);return new Ki(t,this.ngModule)}};function XI(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:ir.None;e?t.push({propName:o,templateName:r,isSignal:(c&ir.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function cx(n){let e=n.toLowerCase();return e==="svg"?OR:e==="math"?kR:null}var Ki=class extends au{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=XI(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return XI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=fR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=se(null);try{i=i||this.ngModule;let o=i instanceof Et?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Zh(e,o):e,u=c.get(Wi,null);if(u===null)throw new B(407,!1);let l=c.get(ax,null),f=c.get(qi,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?gM(y,r,this.componentDef.encapsulation,c):xE(y,I,cx(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;S!==null&&(R=lp(S,c,!0));let k=mp(0,null,null,1,0,null,null,null,null,null,null),V=Cu(null,k,null,N,null,null,p,y,c,null,R);Yf(V);let z,ie,Ae=null;try{let J=this.componentDef,D,m=null;J.findHostDirectiveDefs?(D=[],m=new Map,J.findHostDirectiveDefs(J,D,m),D.push(J)):D=[J];let v=ux(V,S);Ae=lx(v,S,J,D,V,p,y),ie=Gf(k,pt),S&&fx(y,J,S,r),t!==void 0&&px(ie,this.ngContentSelectors,t),z=hx(Ae,J,D,m,V,[gx]),vp(k,V,null)}catch(J){throw Ae!==null&&of(Ae),of(V),J}finally{Zf()}return new gf(this.componentType,z,es(ie,V),V,ie)}finally{se(s)}}},gf=class extends hf{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $r(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;yp(s[Y],s,i,e,t),this.previousInputValues.set(e,t);let o=cr(this._tNode.index,s);_p(o,1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ux(n,e){let t=n[Y],r=pt;return n[r]=e,Su(t,r,2,"#host",null)}function lx(n,e,t,r,i,s,o){let c=i[Y];dx(r,n,e,o);let u=null;e!==null&&(u=lp(e,i[Bi]));let l=s.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=Cu(i,KE(t),null,f,i[n.index],n,s,l,null,null,u);return c.firstCreatePass&&uf(c,n,r.length-1),Au(i,p),i[n.index]=p}function dx(n,e,t,r){for(let i of n)e.mergedAttrs=Bf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pf(e,e.mergedAttrs,!0),t!==null&&UE(r,t,e))}function hx(n,e,t,r,i,s){let o=gt(),c=i[Y],u=xt(o,i);YE(c,i,o,t,null,r);for(let f=0;f<t.length;f++){let p=o.directiveStart+f,y=zi(i,c,p,o);Br(y,i)}ZE(c,i,o),u&&Br(u,i);let l=zi(i,c,o.directiveStart+o.componentOffset,o);if(n[Je]=i[Je]=l,s!==null)for(let f of s)f(l,e);return qE(c,o,i),l}function fx(n,e,t,r){if(r)$h(n,t,["ng-version","18.2.6"]);else{let{attrs:i,classes:s}=pR(e.selectors[0]);i&&$h(n,t,i),s&&s.length>0&&VE(n,t,s.join(" "))}}function px(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function gx(){let n=gt();ep(pe()[Y],n)}var ns=(()=>{class n{static{this.__NG_ELEMENT_ID__=mx}}return n})();function mx(){let n=gt();return pD(n,pe())}var yx=ns,fD=class extends yx{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=tp(this._hostTNode,this._hostLView);if(aE(e)){let t=eu(e,this._hostLView),r=Xc(e),i=t[Y].data[r+8];return new kr(i,t)}else return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ew(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=xo(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,No(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!NR(e),c;if(o)c=t;else{let S=t||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Ki(sr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(Et,null);N&&(s=N)}let f=sr(u.componentType??{}),p=xo(this._lContainer,f?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,s);return this.insertImpl(I.hostView,c,No(this._hostTNode,p)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(VR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[et],l=new fD(u,u[Ht],u[et]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Nu(o,i,s,r),e.attachToViewContainerRef(),_w(Lh(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ew(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ro(this._lContainer,t);r&&(Kc(Lh(this._lContainer),t),Tu(r[Y],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ro(this._lContainer,t);return r&&Kc(Lh(this._lContainer),t)!=null?new $r(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ew(n){return n[Zc]}function Lh(n){return n[Zc]||(n[Zc]=[])}function pD(n,e){let t,r=e[n.index];return Sn(r)?t=r:(t=JE(r,e,null,n),e[n.index]=t,Au(e,t)),_x(t,e,n,r),new fD(t,n,e)}function vx(n,e){let t=n[tt],r=t.createComment(""),i=xt(e,n),s=LE(t,i);return su(t,s,r,iM(t,i),!1),r}var _x=Ex,Ix=()=>!1;function wx(n,e,t){return Ix(n,e,t)}function Ex(n,e,t,r){if(n[Vr])return;let i;t.type&8?i=nn(r):i=vx(e,t),n[Vr]=i}var mf=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},yf=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)wp(e,t).matches!==null&&this.queries[t].setDirty()}},vf=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Nx(e):this.predicate=e}},_f=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},If=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,Dx(t,s)),this.matchTNodeWithReadOption(e,t,Hc(t,e,s,!1,!1))}else r===Mo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===ns||i===Mo&&t.type&4)this.addMatch(t.index,-2);else{let s=Hc(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Dx(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Tx(n,e){return n.type&11?es(n,e):n.type&4?Ip(n,e):null}function bx(n,e,t,r){return t===-1?Tx(e,n):t===-2?Cx(n,e,r):zi(n,n[Y],t,e)}function Cx(n,e,t){if(t===zt)return es(e,n);if(t===Mo)return Ip(e,n);if(t===ns)return pD(e,n)}function gD(n,e,t,r){let i=e[Tn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(bx(e,f,o[u+1],t.metadata.read))}}i.matches=c}return i.matches}function wf(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=gD(n,e,i,t);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let p=Xe;p<f.length;p++){let y=f[p];y[Fr]===y[et]&&wf(y[Y],y,l,r)}if(f[$i]!==null){let p=f[$i];for(let y=0;y<p.length;y++){let I=p[y];wf(I[Y],I,l,r)}}}}}return r}function Sx(n,e){return n[Tn].queries[e].queryList}function Ax(n,e,t){let r=new sf((t&4)===4);return vM(n,e,r,r.destroy),(e[Tn]??=new yf).queries.push(new mf(r))-1}function Rx(n,e,t,r){let i=Pt();if(i.firstCreatePass){let s=gt();Mx(i,new vf(e,t,r),s.index),xx(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Ax(i,pe(),t)}function Nx(n){return n.split(",").map(e=>e.trim())}function Mx(n,e,t){n.queries===null&&(n.queries=new _f),n.queries.track(new If(e,t))}function xx(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function wp(n,e){return n.queries.getByIndex(e)}function Px(n,e){let t=n[Y],r=wp(t,e);return r.crossesNgTemplate?wf(t,n,e,[]):gD(t,n,r,e)}var tw=new Set;function rs(n){tw.has(n)||(tw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Ep(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var or=class{},Po=class{};var Ef=class extends or{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cu(this);let s=Rw(e);this._bootstrapComponents=ME(s.bootstrap),this._r3Injector=yE(e,t,[{provide:or,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Df=class extends Po{constructor(e){super(),this.moduleType=e}create(e){return new Ef(this.moduleType,e,[])}};var uu=class extends or{constructor(e){super(),this.componentFactoryResolver=new cu(this),this.instance=null;let t=new bo([...e.providers,{provide:or,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver}],e.parent||zf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xu(n,e,t=null){return new uu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function mD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function yD(n,e,t){return n[e]=t}function Ox(n,e){return n[e]}function is(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function kx(n){return(n.flags&32)===32}function Lx(n,e,t,r,i,s,o,c,u){let l=e.consts,f=Su(e,n,4,o||null,c||null);QE(e,t,f,Hi(l,u)),ep(e,f);let p=f.tView=mp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Tf(n,e,t,r,i,s,o,c,u,l){let f=t+pt,p=e.firstCreatePass?Lx(f,e,n,r,i,s,o,c,u):e.data[f];Vo(p,!1);let y=Fx(e,n,p,t);Jf()&&pp(e,n,y,p),Br(y,n);let I=JE(y,n,y,p);return n[f]=I,Au(n,I),wx(I,p,n),qf(p)&&GE(e,n,p),u!=null&&WE(n,p,l),p}function Pu(n,e,t,r,i,s,o,c){let u=pe(),l=Pt(),f=Hi(l.consts,s);return Tf(u,l,n,e,t,r,i,f,o,c),Pu}var Fx=Vx;function Vx(n,e,t,r){return Xf(!0),e[tt].createComment("")}var Fi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Fi||{}),vD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})(),bf=class n{constructor(){this.ngZone=P(me),this.scheduler=P(qi),this.errorHandler=P(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Fi.EarlyRead,Fi.Write,Fi.MixedReadWrite,Fi.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}},Cf=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Dp(n,e){!e?.injector&&RR(Dp);let t=e?.injector??P(nt);return GN(t)?(rs("NgAfterNextRender"),jx(n,t,e,!0)):Bx}function Ux(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function jx(n,e,t,r){let i=e.get(vD);i.impl??=e.get(bf);let s=t?.phase??Fi.MixedReadWrite,o=new Cf(i.impl,Ux(n,s),r,e.get(ip));return i.impl.register(o),o}var Bx={destroy(){}};function Tp(n,e,t,r){let i=pe(),s=Uo();if(is(i,s,e)){let o=Pt(),c=iE();OM(c,i,n,e,t,r)}return Tp}function $x(n,e,t,r){return is(n,Uo(),t)?e+pu(t)+r:zr}function jo(n,e,t){let r=pe(),i=Uo();if(is(r,i,e)){let s=Pt(),o=iE();EM(s,o,r,n,e,r[tt],t,!1)}return jo}function nw(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";yp(n,t,s[o],o,r)}var Sf=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function Fh(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Hx(n,e,t){let r,i,s=0,o=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=n.at(s),f=e[s],p=Fh(s,l,s,f,t);if(p!==0){p<0&&n.updateValue(s,f),s++;continue}let y=n.at(o),I=e[u],S=Fh(o,y,u,I,t);if(S!==0){S<0&&n.updateValue(o,I),o--,u--;continue}let N=t(s,l),R=t(o,y),k=t(s,f);if(Object.is(k,R)){let V=t(u,I);Object.is(V,N)?(n.swap(s,o),n.updateValue(o,I),u--,o--):n.move(o,s),n.updateValue(s,f),s++;continue}if(r??=new lu,i??=iw(n,s,o,t),Af(n,r,s,k))n.updateValue(s,f),s++,o++;else if(i.has(k))r.set(N,n.detach(s)),o--;else{let V=n.create(s,e[s]);n.attach(s,V),s++,o++}}for(;s<=u;)rw(n,r,t,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let f=n.at(s),p=l.value,y=Fh(s,f,s,p,t);if(y!==0)y<0&&n.updateValue(s,p),s++,l=u.next();else{r??=new lu,i??=iw(n,s,o,t);let I=t(s,p);if(Af(n,r,s,I))n.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(I))n.attach(s,n.create(s,p)),s++,o++,l=u.next();else{let S=t(s,f);r.set(S,n.detach(s)),o--}}}for(;!l.done;)rw(n,r,t,n.length,l.value),l=u.next()}for(;s<=o;)n.destroy(n.detach(o--));r?.forEach(u=>{n.destroy(u)})}function Af(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function rw(n,e,t,r,i){if(Af(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function iw(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var lu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function _D(n,e){rs("NgControlFlow");let t=pe(),r=Uo(),i=t[r]!==zr?t[r]:-1,s=i!==-1?du(t,pt+i):void 0,o=0;if(is(t,r,n)){let c=se(null);try{if(s!==void 0&&iD(s,o),n!==-1){let u=pt+n,l=du(t,u),f=xf(t[Y],u),p=xo(l,f.tView.ssrId),y=Ru(t,f,e,{dehydratedView:p});Nu(l,y,o,No(f,p))}}finally{se(c)}}else if(s!==void 0){let c=rD(s,o);c!==void 0&&(c[Je]=e)}}var Rf=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Xe}};function ID(n){return n}var Nf=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function wD(n,e,t,r,i,s,o,c,u,l,f,p,y){rs("NgControlFlow");let I=pe(),S=Pt(),N=u!==void 0,R=pe(),k=c?o.bind(R[$t][Je]):o,V=new Nf(N,k);R[pt+n]=V,Tf(I,S,n+1,e,t,r,i,Hi(S.consts,s)),N&&Tf(I,S,n+2,u,l,f,p,Hi(S.consts,y))}var Mf=class extends Sf{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Xe}at(e){return this.getLView(e)[Je].$implicit}attach(e,t){let r=t[Co];this.needsIndexUpdate||=e!==this.length,Nu(this.lContainer,t,e,No(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,zx(this.lContainer,e)}create(e,t){let r=xo(this.lContainer,this.templateTNode.tView.ssrId),i=Ru(this.hostLView,this.templateTNode,new Rf(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Tu(e[Y],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Je].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Je].$index=e}getLView(e){return qx(this.lContainer,e)}};function ED(n){let e=se(null),t=wu();try{let r=pe(),i=r[Y],s=r[t],o=t+1,c=du(r,o);if(s.liveCollection===void 0){let l=xf(i,o);s.liveCollection=new Mf(c,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(Hx(u,n,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=Uo(),f=u.length===0;if(is(r,l,f)){let p=t+2,y=du(r,p);if(f){let I=xf(i,p),S=xo(y,I.tView.ssrId),N=Ru(r,I,void 0,{dehydratedView:S});Nu(y,N,0,No(I,S))}else iD(y,0)}}}finally{se(e)}}function du(n,e){return n[e]}function zx(n,e){return Ro(n,e)}function qx(n,e){return rD(n,e)}function xf(n,e){return Gf(n,e)}function Gx(n,e,t,r,i,s){let o=e.consts,c=Hi(o,i),u=Su(e,n,2,r,c);return QE(e,t,u,Hi(o,s)),u.attrs!==null&&pf(u,u.attrs,!1),u.mergedAttrs!==null&&pf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Ee(n,e,t,r){let i=pe(),s=Pt(),o=pt+n,c=i[tt],u=s.firstCreatePass?Gx(o,s,i,e,t,r):s.data[o],l=Wx(s,i,u,c,e,n);i[o]=l;let f=qf(u);return Vo(u,!0),UE(c,l,u),!kx(u)&&Jf()&&pp(s,i,l,u),BR()===0&&Br(l,i),$R(),f&&(GE(s,i,u),qE(s,u,i)),r!==null&&WE(i,u),Ee}function De(){let n=gt();Yw()?KR():(n=n.parent,Vo(n,!1));let e=n;qR(e)&&GR(),HR();let t=Pt();return t.firstCreatePass&&(ep(t,n),Vw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&oN(e)&&nw(t,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aN(e)&&nw(t,e,pe(),e.stylesWithoutHost,!1),De}function it(n,e,t,r){return Ee(n,e,t,r),De(),it}var Wx=(n,e,t,r,i,s)=>(Xf(!0),xE(r,i,nN()));function Ou(){return pe()}var hu="en-US";var Kx=hu;function Qx(n){typeof n=="string"&&(Kx=n.toLowerCase().replace(/_/g,"-"))}var Yx=(n,e,t)=>{};function Dt(n,e,t,r){let i=pe(),s=Pt(),o=gt();return Jx(s,i,i[tt],o,n,e,r),Dt}function Zx(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[Yc],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function Jx(n,e,t,r,i,s,o){let c=qf(r),l=n.firstCreatePass&&tD(n),f=e[Je],p=eD(e),y=!0;if(r.type&3||o){let N=xt(r,e),R=o?o(N):N,k=p.length,V=o?ie=>o(nn(ie[r.index])):r.index,z=null;if(!o&&c&&(z=Zx(n,e,i,r.index)),z!==null){let ie=z.__ngLastListenerFn__||z;ie.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,y=!1}else{s=ow(r,e,f,s),Yx(N,i,s);let ie=t.listen(R,i,s);p.push(s,ie),l&&l.push(i,V,k,k+1)}}else s=ow(r,e,f,s);let I=r.outputs,S;if(y&&I!==null&&(S=I[i])){let N=S.length;if(N)for(let R=0;R<N;R+=2){let k=S[R],V=S[R+1],Ae=e[k][V].subscribe(s),J=p.length;p.push(s,Ae),l&&l.push(i,r.index,J,-(J+1))}}}function sw(n,e,t,r){let i=se(null);try{return Jt(6,e,t),t(r)!==!1}catch(s){return nD(n,s),!1}finally{Jt(7,e,t),se(i)}}function ow(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?cr(n.index,e):e;_p(o,5);let c=sw(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=sw(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function DD(n=1){return tN(n)}function TD(n,e,t,r){Rx(n,e,t,r)}function bD(n){let e=pe(),t=Pt(),r=Jw();Qf(r+1);let i=wp(t,r);if(n.dirty&&FR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=Px(e,r);n.reset(s,RN),n.notifyOnChanges()}return!0}return!1}function CD(){return Sx(pe(),Jw())}function Xx(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ku(n){let e=QR();return Hw(e,pt+n)}function st(n,e=""){let t=pe(),r=Pt(),i=n+pt,s=r.firstCreatePass?Su(r,i,1,e,null):r.data[i],o=eP(r,t,s,e,n);t[i]=o,Jf()&&pp(r,t,o,s),Vo(s,!1)}var eP=(n,e,t,r,i)=>(Xf(!0),KN(e[tt],r));function Lu(n){return SD("",n,""),Lu}function SD(n,e,t){let r=pe(),i=$x(r,n,e,t);return i!==zr&&VM(r,wu(),i),SD}var tP=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=xw(!1,t.type),i=r.length>0?xu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(K(Et))})}}return n})();function Ot(n){rs("NgStandalone"),n.getStandaloneInjector=e=>e.get(tP).getOrCreateStandaloneInjector(n)}function AD(n,e,t){let r=Kf()+n,i=pe();return i[r]===zr?yD(i,r,t?e.call(t):e()):Ox(i,r)}function bp(n,e,t,r){return RD(pe(),Kf(),n,e,t,r)}function nP(n,e){let t=n[e];return t===zr?void 0:t}function RD(n,e,t,r,i,s){let o=e+t;return is(n,o,i)?yD(n,o+1,s?r.call(s,i):r(i)):nP(n,o+1)}function ND(n,e){let t=Pt(),r,i=n+pt;t.firstCreatePass?(r=rP(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Lr(r.type,!0)),o,c=ft(we);try{let u=tu(!1),l=s();return tu(u),Xx(t,pe(),i,l),l}finally{ft(c)}}function rP(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function MD(n,e,t){let r=n+pt,i=pe(),s=Hw(i,r);return iP(i,r)?RD(i,Kf(),e,s.transform,t,s):s.transform(t)}function iP(n,e){return n[Y].data[e].pure}var ar=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},xD=new ar("18.2.6");var Fu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var PD=new $("");function ss(n){return!!n&&typeof n.then=="function"}function Cp(n){return!!n&&typeof n.subscribe=="function"}var Vu=new $(""),OD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=P(Vu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(ss(s))t.push(s);else if(Cp(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uu=new $("");function sP(){J_(()=>{throw new B(600,!1)})}function oP(n){return n.isBoundToModule}var aP=10;function cP(n,e,t){try{let r=t();return ss(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Gr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(SN),this.afterRenderManager=P(vD),this.zonelessEnabled=P(Mu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=P(Xi).hasPendingTasks.pipe(re(t=>!t)),this._injector=P(Et)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof au;if(!this._injector.get(OD).done){let y=!i&&Aw(t),I=!1;throw new B(405,I)}let o;i?o=t:o=this._injector.get(Gi).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=oP(o)?void 0:this._injector.get(or),u=r||o.selector,l=o.create(nt.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(PD,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),zc(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let t=se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,se(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Wi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<aP;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)uP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>_u(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Uu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uP(n,e,t,r){if(!t&&!_u(n))return;aD(n,e,t&&!r?0:1)}var Pf=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ju=(()=>{class n{compileModuleSync(t){return new Df(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Rw(t),s=ME(i.declarations).reduce((o,c)=>{let u=sr(c);return u&&o.push(new Ki(u)),o},[]);return new Pf(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lP=(()=>{class n{constructor(){this.zone=P(me),this.changeDetectionScheduler=P(qi),this.applicationRef=P(Gr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dP=new $("",{factory:()=>!1});function kD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new me(be(L({},FD()),{scheduleInRootZone:t})),[{provide:me,useFactory:n},{provide:ji,multi:!0,useFactory:()=>{let r=P(lP,{optional:!0});return()=>r.initialize()}},{provide:ji,multi:!0,useFactory:()=>{let r=P(hP);return()=>{r.initialize()}}},e===!0?{provide:dD,useValue:!0}:[],{provide:hD,useValue:t??vE}]}function LD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=kD({ngZoneFactory:()=>{let i=FD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&rs("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return rn([{provide:dP,useValue:!0},{provide:Mu,useValue:!1},r])}function FD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var hP=(()=>{class n{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=P(me),this.pendingTasks=P(Xi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fP=(()=>{class n{constructor(){this.appRef=P(Gr),this.taskService=P(Xi),this.ngZone=P(me),this.zonelessEnabled=P(Mu),this.disableScheduling=P(dD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ru):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(hD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zI:_E;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ru+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pP(){return typeof $localize<"u"&&$localize.locale||hu}var Sp=new $("",{providedIn:"root",factory:()=>P(Sp,ne.Optional|ne.SkipSelf)||pP()});var VD=new $("");function Uc(n){return!!n.platformInjector}function gP(n){let e=Uc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(me);return t.run(()=>{Uc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(bn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Uc(n)){let s=()=>e.destroy(),o=n.platformInjector.get(VD);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{zc(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return cP(r,t,()=>{let s=e.get(OD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Sp,hu);if(Qx(o||hu),Uc(n)){let c=e.get(Gr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return mP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function mP(n,e){let t=n.injector.get(Gr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new B(-403,!1);e.push(n)}var qc=null;function yP(n=[],e){return nt.create({name:e,providers:[{provide:mu,useValue:"platform"},{provide:VD,useValue:new Set([()=>qc=null])},...n]})}function vP(n=[]){if(qc)return qc;let e=yP(n);return qc=e,sP(),_P(e),e}function _P(n){n.get(cp,null)?.forEach(t=>t())}var Wr=(()=>{class n{static{this.__NG_ELEMENT_ID__=IP}}return n})();function IP(n){return wP(gt(),pe(),(n&16)===16)}function wP(n,e,t){if(vu(n)&&!t){let r=cr(n.index,e);return new $r(r,r)}else if(n.type&175){let r=e[$t];return new $r(r,e)}return null}var Of=class{constructor(){}supports(e){return e instanceof Map||mD(e)}create(){return new kf}},kf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||mD(e)))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Lf(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Lf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function aw(){return new Ap([new Of])}var Ap=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:aw})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aw()),deps:[[n,new Uf,new rt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new B(901,!1)}}return n})();function UD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=vP(r),s=[kD({}),{provide:qi,useExisting:fP},...t||[]],o=new uu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return gP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var jD=new $("");function Bo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Rp(n){let e=se(null);try{return n()}finally{se(e)}}function BD(n){let e=sr(n);if(!e)return null;let t=new Ki(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qD=null;function os(){return qD}function GD(n){qD??=n}var Bu=class{};var dt=new $(""),kp=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(EP),providedIn:"platform"})}}return n})(),WD=new $(""),EP=(()=>{class n extends kp{constructor(){super(),this._doc=P(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return os().getBaseHref(this._doc)}onPopState(t){let r=os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=os().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Lp(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function $D(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function An(n){return n&&n[0]!=="?"?"?"+n:n}var Rn=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(Fp),providedIn:"root"})}}return n})(),KD=new $(""),Fp=(()=>{class n extends Rn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+An(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+An(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+An(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(kp),K(KD,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QD=(()=>{class n extends Rn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Lp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+An(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+An(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(kp),K(KD,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),as=(()=>{class n{constructor(t){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=bP($D(HD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+An(r))}normalize(t){return n.stripTrailingSlash(TP(this._basePath,HD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+An(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+An(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=An}static{this.joinWithSlash=Lp}static{this.stripTrailingSlash=$D}static{this.\u0275fac=function(r){return new(r||n)(K(Rn))}}static{this.\u0275prov=j({token:n,factory:()=>DP(),providedIn:"root"})}}return n})();function DP(){return new as(K(Rn))}function TP(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function HD(n){return n.replace(/\/index.html$/,"")}function bP(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function YD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Np=/\s+/,zD=[],ZD=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=zD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Np):zD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Np):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Np).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(we(zt),we(qr))}}static{this.\u0275dir=Hr({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var JD=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:ur.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(we(zt),we(Ap),we(qr))}}static{this.\u0275dir=Hr({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function CP(n,e){return new B(2100,!1)}var Mp=class{createSubscription(e,t){return Rp(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Rp(()=>e.unsubscribe())}},xp=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},SP=new xp,AP=new Mp,XD=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ss(t))return SP;if(Cp(t))return AP;throw CP(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(we(Wr,16))}}static{this.\u0275pipe=bw({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var $o=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Lo({type:n})}static{this.\u0275inj=ko({})}}return n})(),Vp="browser",RP="server";function NP(n){return n===Vp}function Up(n){return n===RP}var eT=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>NP(P(on))?new Pp(P(dt),window):new Op})}}return n})(),Pp=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=MP(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function MP(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Op=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},$u=class{};var Hp=class extends Bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zp=class n extends Hp{static makeCurrent(){GD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xP();return t==null?null:PP(t)}resetBaseElement(){Ho=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return YD(document.cookie,e)}},Ho=null;function xP(){return Ho=Ho||document.querySelector("base"),Ho?Ho.getAttribute("href"):null}function PP(n){return new URL(n,document.baseURI).pathname}var OP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Hu=new $(""),iT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(K(Hu),K(me))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),zo=class{constructor(e){this._doc=e}},Bp="ng-app-id",sT=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Up(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Bp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Bp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Bp,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(K(dt),K(ap),K(up,8),K(on))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),$p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gp=/%COMP%/g,oT="%COMP%",kP=`_nghost-${oT}`,LP=`_ngcontent-${oT}`,FP=!0,VP=new $("",{providedIn:"root",factory:()=>FP});function UP(n){return LP.replace(Gp,n)}function jP(n){return kP.replace(Gp,n)}function aT(n,e){return e.map(t=>t.replace(Gp,n))}var tT=(()=>{class n{constructor(t,r,i,s,o,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Up(c),this.defaultRenderer=new qo(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===en.ShadowDom&&(r=be(L({},r),{encapsulation:en.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof zu?i.applyToHost(t):i instanceof Go&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case en.Emulated:s=new zu(u,l,r,this.appId,f,o,c,p);break;case en.ShadowDom:return new qp(u,l,t,r,o,c,this.nonce,p);default:s=new Go(u,l,r,f,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(K(iT),K(sT),K(ap),K(VP),K(dt),K(on),K(me),K(up))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),qo=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS($p[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=$p[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=$p[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(t,r,i&ur.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=os().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function nT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var qp=class extends qo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=aT(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends qo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?aT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zu=class extends Go{constructor(e,t,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,t,r,s,o,c,u,l),this.contentAttr=UP(l),this.hostAttr=jP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},BP=(()=>{class n extends zo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(dt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),$P=(()=>{class n extends zo{constructor(t){super(t),this.delegate=P(jD,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(dt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),rT=["alt","control","meta","shift"],HP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},qP=(()=>{class n extends zo{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>os().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),rT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=HP[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),rT.forEach(o=>{if(o!==i){let c=zP[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(K(dt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function cT(n,e){return UD(L({rootComponent:n},GP(e)))}function GP(n){return{appProviders:[...ZP,...n?.providers??[]],platformProviders:YP}}function WP(){zp.makeCurrent()}function KP(){return new bn}function QP(){return CE(document),document}var YP=[{provide:on,useValue:Vp},{provide:cp,useValue:WP,multi:!0},{provide:dt,useFactory:QP,deps:[]}];var ZP=[{provide:mu,useValue:"root"},{provide:bn,useFactory:KP,deps:[]},{provide:Hu,useClass:BP,multi:!0,deps:[dt,me,on]},{provide:Hu,useClass:qP,multi:!0,deps:[dt]},{provide:Hu,useClass:$P,multi:!0},tT,sT,iT,{provide:Wi,useExisting:tT},{provide:$u,useClass:OP,deps:[]},[]];var uT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(K(dt))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var te="primary",aa=Symbol("RouteTitle"),Zp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function fs(n){return new Zp(n)}function XP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function eO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cn(n[t],e[t]))return!1;return!0}function cn(n,e){let t=n?Jp(n):void 0,r=e?Jp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!IT(n[i],e[i]))return!1;return!0}function Jp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function IT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function wT(n){return n.length>0?n[n.length-1]:null}function hr(n){return bh(n)?n:ss(n)?Se(Promise.resolve(n)):q(n)}var tO={exact:DT,subset:TT},ET={exact:nO,subset:rO,ignored:()=>!0};function lT(n,e,t){return tO[t.paths](n.root,e.root,t.matrixParams)&&ET[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function nO(n,e){return cn(n,e)}function DT(n,e,t){if(!Qr(n.segments,e.segments)||!Wu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!DT(n.children[r],e.children[r],t))return!1;return!0}function rO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IT(n[t],e[t]))}function TT(n,e,t){return bT(n,e,e.segments,t)}function bT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Qr(i,t)||e.hasChildren()||!Wu(i,t,r))}else if(n.segments.length===t.length){if(!Qr(n.segments,t)||!Wu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!TT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Qr(n.segments,i)||!Wu(n.segments,i,r)||!n.children[te]?!1:bT(n.children[te],e,s,r)}}function Wu(n,e,t){return e.every((r,i)=>ET[t](n[i].parameters,r.parameters))}var Mn=class{constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fs(this.queryParams),this._queryParamMap}toString(){return oO.serialize(this)}},ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ku(this)}},Kr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=fs(this.parameters),this._parameterMap}toString(){return ST(this)}};function iO(n,e){return Qr(n,e)&&n.every((t,r)=>cn(t.parameters,e[r].parameters))}function Qr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function sO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var ca=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>new ps,providedIn:"root"})}}return n})(),ps=class{parse(e){let t=new eg(e);return new Mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wo(e.root,!0)}`,r=uO(e.queryParams),i=typeof e.fragment=="string"?`#${aO(e.fragment)}`:"";return`${t}${r}${i}`}},oO=new ps;function Ku(n){return n.segments.map(e=>ST(e)).join("/")}function Wo(n,e){if(!n.hasChildren())return Ku(n);if(e){let t=n.children[te]?Wo(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${Wo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=sO(n,(r,i)=>i===te?[Wo(n.children[te],!1)]:[`${i}:${Wo(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${Ku(n)}/${t[0]}`:`${Ku(n)}/(${t.join("//")})`}}function CT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qu(n){return CT(n).replace(/%3B/gi,";")}function aO(n){return encodeURI(n)}function Xp(n){return CT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qu(n){return decodeURIComponent(n)}function dT(n){return Qu(n.replace(/\+/g,"%20"))}function ST(n){return`${Xp(n.path)}${cO(n.parameters)}`}function cO(n){return Object.entries(n).map(([e,t])=>`;${Xp(e)}=${Xp(t)}`).join("")}function uO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${qu(t)}=${qu(i)}`).join("&"):`${qu(t)}=${qu(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var lO=/^[^\/()?;#]+/;function Wp(n){let e=n.match(lO);return e?e[0]:""}var dO=/^[^\/()?;=#]+/;function hO(n){let e=n.match(dO);return e?e[0]:""}var fO=/^[^=?&#]+/;function pO(n){let e=n.match(fO);return e?e[0]:""}var gO=/^[^&#]+/;function mO(n){let e=n.match(gO);return e?e[0]:""}var eg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new ye(e,t)),r}parseSegment(){let e=Wp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Kr(Qu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=hO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Wp(this.remaining);i&&(r=i,this.capture(r))}e[Qu(t)]=Qu(r)}parseQueryParam(e){let t=pO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=mO(this.remaining);o&&(r=o,this.capture(r))}let i=dT(t),s=dT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[te]:new ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function AT(n){return n.segments.length>0?new ye([],{[te]:n}):n}function RT(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=RT(i);if(r===te&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ye(n.segments,e);return yO(t)}function yO(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new ye(n.segments.concat(e.segments),e.children)}return n}function Yr(n){return n instanceof Mn}function vO(n,e,t=null,r=null){let i=NT(n);return MT(i,e,t,r)}function NT(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let c=new ye(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=AT(r);return e??i}function MT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Kp(i,i,i,t,r);let s=_O(e);if(s.toRoot())return Kp(i,i,new ye([],{}),t,r);let o=IO(s,i,n),c=o.processChildren?Yo(o.segmentGroup,o.index,s.commands):PT(o.segmentGroup,o.index,s.commands);return Kp(i,o.segmentGroup,c,t,r)}function Yu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xo(n){return typeof n=="object"&&n!=null&&n.outlets}function Kp(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;n===e?o=t:o=xT(n,e,t);let c=AT(RT(o));return new Mn(c,s,i)}function xT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=xT(s,e,t)}),new ye(n.segments,r)}var Zu=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yu(r[0]))throw new B(4003,!1);let i=r.find(Xo);if(i&&i!==wT(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _O(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Zu(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Zu(t,e,r)}var ls=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function IO(n,e,t){if(n.isAbsolute)return new ls(e,!0,0);if(!t)return new ls(e,!1,NaN);if(t.parent===null)return new ls(t,!0,0);let r=Yu(n.commands[0])?0:1,i=t.segments.length-1+r;return wO(t,i,n.numberOfDoubleDots)}function wO(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new ls(r,!1,i-s)}function EO(n){return Xo(n[0])?n[0].outlets:{[te]:n}}function PT(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return Yo(n,e,t);let r=DO(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ye(n.segments.slice(0,r.pathIndex),{});return s.children[te]=new ye(n.segments.slice(r.pathIndex),n.children),Yo(s,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?tg(n,e,t):r.match?Yo(n,0,i):tg(n,e,t)}function Yo(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=EO(t),i={};if(Object.keys(r).some(s=>s!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let s=Yo(n.children[te],e,t);return new ye(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=PT(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(n.segments,i)}}function DO(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(Xo(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!fT(u,l,o))return s;r+=2}else{if(!fT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Xo(s)){let u=TO(s.outlets);return new ye(r,u)}if(i===0&&Yu(t[0])){let u=n.segments[e];r.push(new Kr(u.path,hT(t[0]))),i++;continue}let o=Xo(s)?s.outlets[te]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Yu(c)?(r.push(new Kr(o,hT(c))),i+=2):(r.push(new Kr(o,{})),i++)}return new ye(r,{})}function TO(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=tg(new ye([],{}),0,r))}),e}function hT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function fT(n,e,t){return n==t.path&&cn(e,t.parameters)}var Zo="imperative",Be=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Be||{}),kt=class{constructor(e,t){this.id=e,this.url=t}},gs=class extends kt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Be.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends kt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(bt||{}),Ju=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ju||{}),Nn=class extends kt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lr=class extends kt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Be.NavigationSkipped}},ea=class extends kt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xu=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rg=class extends kt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ig=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends kt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ag=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cg=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ug=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e){this.snapshot=e,this.type=Be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dg=class{constructor(e){this.snapshot=e,this.type=Be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},el=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Be.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ta=class{},ms=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function bO(n,e){return n.providers&&!n._injector&&(n._injector=xu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qt(n){return n.outlet||te}function CO(n,e){let t=n.filter(r=>qt(r)===e);return t.push(...n.filter(r=>qt(r)!==e)),t}function ua(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hg=class{get injector(){return ua(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new la(this.rootInjector),this.attachRef=null}},la=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(K(Et))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=fg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=fg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=pg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pg(e,this._root).map(t=>t.value)}};function fg(n,e){if(n===e.value)return e;for(let t of e.children){let r=fg(n,t);if(r)return r}return null}function pg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=pg(n,t);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function us(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var nl=class extends tl{constructor(e,t){super(e),this.snapshot=t,Dg(this,e)}toString(){return this.snapshot.toString()}};function OT(n){let e=SO(n),t=new Le([new Kr("",{})]),r=new Le({}),i=new Le({}),s=new Le({}),o=new Le(""),c=new dr(t,r,s,o,i,te,n,e.root);return c.snapshot=e.root,new nl(new Tt(c,[]),e)}function SO(n){let e={},t={},r={},i="",s=new ds([],e,r,i,t,te,n,null,{});return new il("",new Tt(s,[]))}var dr=class{constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[aa]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>fs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>fs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&LT(i)&&(r.resolve[aa]=i.title),r}var ds=class{get title(){return this.data?.[aa]}constructor(e,t,r,i,s,o,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},il=class extends tl{constructor(e,t){super(t),this.url=e,Dg(this,t)}toString(){return kT(this._root)}};function Dg(n,e){e.value._routerState=n,e.children.forEach(t=>Dg(n,t))}function kT(n){let e=n.children.length>0?` { ${n.children.map(kT).join(", ")} } `:"";return`${n.value}${e}`}function Qp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cn(e.params,t.params)||n.paramsSubject.next(t.params),eO(e.url,t.url)||n.urlSubject.next(t.url),cn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function gg(n,e){let t=cn(n.params,e.params)&&iO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||gg(n.parent,e.parent))}function LT(n){return typeof n.title=="string"||n.title===null}var Tg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=P(la),this.location=P(ns),this.changeDetector=P(Wr),this.inputBinder=P(ul,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new mg(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Hr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yi]})}}return n})(),mg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dr?this.route:e===la?this.childContexts:this.parent.get(e,t)}},ul=new $(""),pT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=_o([r.queryParams,r.params,r.data]).pipe(At(([s,o,c],u)=>(c=L(L(L({},s),o),c),u===0?q(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=BD(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of o.inputs)t.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function AO(n,e,t){let r=na(n,e._root,t?t._root:void 0);return new nl(r,e)}function na(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=RO(n,e,t);return new Tt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>na(n,c)),o}}let r=NO(e.value),i=e.children.map(s=>na(n,s));return new Tt(r,i)}}function RO(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return na(n,r,i);return na(n,r)})}function NO(n){return new dr(new Le(n.url),new Le(n.params),new Le(n.queryParams),new Le(n.fragment),new Le(n.data),n.outlet,n.component,n)}var ra=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},FT="ngNavigationCancelingError";function sl(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VT(!1,bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function VT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[FT]=!0,t.cancellationCode=e,t}function MO(n){return UT(n)&&Yr(n.url)}function UT(n){return!!n&&n[FT]}var xO=(n,e,t,r)=>re(i=>(new yg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),yg=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=us(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=us(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ug(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Qp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Qp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ol=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hs=class{constructor(e,t){this.component=e,this.route=t}};function PO(n,e,t){let r=n._root,i=e?e._root:null;return Ko(r,i,t,[r.value])}function OO(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function vs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!hw(n)?n:e.get(n):r}function Ko(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=us(e);return n.children.forEach(o=>{kO(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Jo(c,t.getContext(o),i)),i}function kO(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=LO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ol(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ko(n,e,c?c.children:null,r,i):Ko(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new hs(c.outlet.component,o))}else o&&Jo(e,c,i),i.canActivateChecks.push(new ol(r)),s.component?Ko(n,null,c?c.children:null,r,i):Ko(n,null,t,r,i);return i}function LO(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Qr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(n.url,e.url)||!cn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gg(n,e)||!cn(n.queryParams,e.queryParams);case"paramsChange":default:return!gg(n,e)}}function Jo(n,e,t){let r=us(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Jo(o,e.children.getContext(s),t):Jo(o,null,t):Jo(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hs(e.outlet.component,i)):t.canDeactivateChecks.push(new hs(null,i)):t.canDeactivateChecks.push(new hs(null,i))}function da(n){return typeof n=="function"}function FO(n){return typeof n=="boolean"}function VO(n){return n&&da(n.canLoad)}function UO(n){return n&&da(n.canActivate)}function jO(n){return n&&da(n.canActivateChild)}function BO(n){return n&&da(n.canDeactivate)}function $O(n){return n&&da(n.canMatch)}function jT(n){return n instanceof En||n?.name==="EmptyError"}var Gu=Symbol("INITIAL_VALUE");function ys(){return At(n=>_o(n.map(e=>e.pipe(Dn(1),Lc(Gu)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===Gu)return Gu;if(t===!1||HO(t))return t}return!0}),It(e=>e!==Gu),Dn(1)))}function HO(n){return Yr(n)||n instanceof ra}function zO(n,e){return Pe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?q(be(L({},t),{guardsResult:!0})):qO(o,r,i,n).pipe(Pe(c=>c&&FO(c)?GO(r,s,n,e):q(c)),re(c=>be(L({},t),{guardsResult:c})))})}function qO(n,e,t,r){return Se(n).pipe(Pe(i=>ZO(i.component,i.route,t,e,r)),Yt(i=>i!==!0,!0))}function GO(n,e,t,r){return Se(e).pipe(Or(i=>xi(KO(i.route.parent,r),WO(i.route,r),YO(n,i.path,t),QO(n,i.route,t))),Yt(i=>i!==!0,!0))}function WO(n,e){return n!==null&&e&&e(new lg(n)),q(!0)}function KO(n,e){return n!==null&&e&&e(new cg(n)),q(!0)}function QO(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(s=>Pc(()=>{let o=ua(e)??t,c=vs(s,o),u=UO(c)?c.canActivate(e,n):sn(o,()=>c(e,n));return hr(u).pipe(Yt())}));return q(i).pipe(ys())}function YO(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>OO(o)).filter(o=>o!==null).map(o=>Pc(()=>{let c=o.guards.map(u=>{let l=ua(o.node)??t,f=vs(u,l),p=jO(f)?f.canActivateChild(r,n):sn(l,()=>f(r,n));return hr(p).pipe(Yt())});return q(c).pipe(ys())}));return q(s).pipe(ys())}function ZO(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return q(!0);let o=s.map(c=>{let u=ua(e)??i,l=vs(c,u),f=BO(l)?l.canDeactivate(n,e,t,r):sn(u,()=>l(n,e,t,r));return hr(f).pipe(Yt())});return q(o).pipe(ys())}function JO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let s=i.map(o=>{let c=vs(o,n),u=VO(c)?c.canLoad(e,t):sn(n,()=>c(e,t));return hr(u)});return q(s).pipe(ys(),BT(r))}function BT(n){return vc(Fe(e=>{if(typeof e!="boolean")throw sl(n,e)}),re(e=>e===!0))}function XO(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let s=i.map(o=>{let c=vs(o,n),u=$O(c)?c.canMatch(e,t):sn(n,()=>c(e,t));return hr(u)});return q(s).pipe(ys(),BT(r))}var ia=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function cs(n){return Mi(new ia(n))}function ek(n){return Mi(new B(4e3,!1))}function tk(n){return Mi(VT(!1,bt.GuardRejected))}var vg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[te])return ek(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:I,data:S,title:N}=i,R=sn(s,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:N}));if(R instanceof Mn)throw new sa(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new sa(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Mn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},_g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nk(n,e,t,r,i){let s=$T(n,e,t);return s.matched?(r=bO(e,r),XO(r,e,t,i).pipe(re(o=>o===!0?s:L({},_g)))):q(s)}function $T(n,e,t){if(e.path==="**")return rk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},_g):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||XP)(t,n,e);if(!i)return L({},_g);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?L(L({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rk(n){return{matched:!0,parameters:n.length>0?wT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function gT(n,e,t,r){return t.length>0&&ok(n,t,r)?{segmentGroup:new ye(e,sk(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&ak(n,t,r)?{segmentGroup:new ye(n.segments,ik(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function ik(n,e,t,r){let i={};for(let s of t)if(ll(n,e,s)&&!r[qt(s)]){let o=new ye([],{});i[qt(s)]=o}return L(L({},r),i)}function sk(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&qt(r)!==te){let i=new ye([],{});t[qt(r)]=i}return t}function ok(n,e,t){return t.some(r=>ll(n,e,r)&&qt(r)!==te)}function ak(n,e,t){return t.some(r=>ll(n,e,r))}function ll(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ck(n,e,t){return e.length===0&&!n.children[t]}var Ig=class{};function uk(n,e,t,r,i,s,o="emptyOnly"){return new wg(n,e,t,r,i,o,s).recognize()}var lk=31,wg=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new vg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=gT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let i=new Tt(r,t),s=new il("",i),o=vO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new ds([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(re(r=>({children:r,rootSnapshot:t})),Xn(r=>{if(r instanceof sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ia?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(re(o=>o instanceof Tt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Or(o=>{let c=r.children[o],u=CO(t,o);return this.processSegmentGroup(e,u,c,o,i)}),kc((o,c)=>(o.push(...c),o)),er(null),Sh(),Pe(o=>{if(o===null)return cs(r);let c=HT(o);return dk(c),q(c)}))}processSegment(e,t,r,i,s,o,c){return Se(t).pipe(Or(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,c).pipe(Xn(l=>{if(l instanceof ia)return q(null);throw l}))),Yt(u=>!!u),Xn(u=>{if(jT(u))return ck(r,i,s)?q(new Ig):cs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,u){return qt(r)!==o&&(o===te||!ll(i,s,r))?cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=$T(t,i,s);if(!u)return cs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lk&&(this.allowRedirects=!1));let I=new ds(s,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,mT(i),qt(i),i.component??i._loadedComponent??null,i,yT(i)),S=rl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Pe(R=>this.processSegment(e,r,t,R.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=nk(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(At(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:I}=u,S=new ds(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,mT(r),qt(r),r.component??r._loadedComponent??null,r,yT(r)),N=rl(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:k}=gT(t,y,I,l);if(k.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(re(z=>new Tt(S,z)));if(l.length===0&&k.length===0)return q(new Tt(S,[]));let V=qt(r)===s;return this.processSegment(f,l,R,k,V?te:s,!0,S).pipe(re(z=>new Tt(S,z instanceof Tt?[z]:[])))}))):cs(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):JO(e,t,r,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(e,t).pipe(Fe(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):tk(t))):q({routes:[],injector:e})}};function dk(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function hk(n){let e=n.value.routeConfig;return e&&e.path===""}function HT(n){let e=[],t=new Set;for(let r of n){if(!hk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=HT(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!t.has(r))}function mT(n){return n.data||{}}function yT(n){return n.resolve||{}}function fk(n,e,t,r,i,s){return Pe(o=>uk(n,e,t,r,o.extractedUrl,i,s).pipe(re(({state:c,tree:u})=>be(L({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function pk(n,e){return Pe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of zT(u))o.add(l);let c=0;return Se(o).pipe(Or(u=>s.has(u)?gk(u,r,n,e):(u.data=rl(u,u.parent,n).resolve,q(void 0))),Fe(()=>c++),Pi(1),Pe(u=>c===o.size?q(t):_t))})}function zT(n){let e=n.children.map(t=>zT(t)).flat();return[n,...e]}function gk(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!LT(i)&&(s[aa]=i.title),mk(s,n,e,r).pipe(re(o=>(n._resolvedData=o,n.data=rl(n,n.parent,t).resolve,null)))}function mk(n,e,t,r){let i=Jp(n);if(i.length===0)return q({});let s={};return Se(i).pipe(Pe(o=>yk(n[o],e,t,r).pipe(Yt(),Fe(c=>{if(c instanceof ra)throw sl(new ps,c);s[o]=c}))),Pi(1),Ch(s),Xn(o=>jT(o)?_t:Mi(o)))}function yk(n,e,t,r){let i=ua(e)??r,s=vs(n,i),o=s.resolve?s.resolve(e,t):sn(i,()=>s(e,t));return hr(o)}function Yp(n){return At(e=>{let t=n(e);return t?Se(t).pipe(re(()=>e)):q(e)})}var qT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[aa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(vk),providedIn:"root"})}}return n})(),vk=(()=>{class n extends qT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(K(uT))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ha=new $("",{providedIn:"root",factory:()=>({})}),_k=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Mt({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ot],decls:1,vars:0,template:function(r,i){r&1&&it(0,"router-outlet")},dependencies:[Tg],encapsulation:2})}}return n})();function bg(n){let e=n.children&&n.children.map(bg),t=e?be(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=_k),t}var oa=new $(""),Cg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(ju)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=hr(t.loadComponent()).pipe(re(GT),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Io(()=>{this.componentLoaders.delete(t)})),i=new Si(r,()=>new Ze).pipe(Ci());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Ik(r,this.compiler,t,this.onLoadEndListener).pipe(Io(()=>{this.childrenLoaders.delete(r)})),o=new Si(s,()=>new Ze).pipe(Ci());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ik(n,e,t,r){return hr(n.loadChildren()).pipe(re(GT),Pe(i=>i instanceof Po||Array.isArray(i)?q(i):Se(e.compileModuleAsync(i))),re(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(oa,[],{optional:!0,self:!0}).flat()),{routes:o.map(bg),injector:s}}))}function wk(n){return n&&typeof n=="object"&&"default"in n}function GT(n){return wk(n)?n.default:n}var Sg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(Ek),providedIn:"root"})}}return n})(),Ek=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WT=new $(""),KT=new $("");function Dk(n,e,t){let r=n.get(KT),i=n.get(dt);return n.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),Tk(n))),{onViewTransitionCreated:u}=r;return u&&sn(n,()=>u({transition:c,from:e,to:t})),o})}function Tk(n){return new Promise(e=>{Dp({read:()=>setTimeout(e)},{injector:n})})}var bk=new $(""),Ag=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze,this.transitionAbortSubject=new Ze,this.configLoader=P(Cg),this.environmentInjector=P(Et),this.urlSerializer=P(ca),this.rootContexts=P(la),this.location=P(as),this.inputBindingEnabled=P(ul,{optional:!0})!==null,this.titleStrategy=P(qT),this.options=P(ha,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Sg),this.createViewTransition=P(WT,{optional:!0}),this.navigationErrorHandler=P(bk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let t=i=>this.events.next(new og(i)),r=i=>this.events.next(new ag(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(be(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Le({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(s=>s.id!==0),re(s=>be(L({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),At(s=>{let o=!1,c=!1;return q(s).pipe(At(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),_t;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?be(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new lr(u.id,this.urlSerializer.serialize(u.rawUrl),p,Ju.IgnoredSameUrlNavigation)),u.resolve(!1),_t}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(At(p=>{let y=this.transitions?.getValue();return this.events.next(new gs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?_t:Promise.resolve(p)}),fk(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=be(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new Xu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:I,restoredState:S,extras:N}=u,R=new gs(p,this.urlSerializer.serialize(y),I,S);this.events.next(R);let k=OT(this.rootComponentType).snapshot;return this.currentTransition=s=be(L({},u),{targetSnapshot:k,urlAfterRedirects:y,extras:be(L({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,q(s)}else{let p="";return this.events.next(new lr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Ju.IgnoredByUrlHandlingStrategy)),u.resolve(!1),_t}}),Fe(u=>{let l=new ng(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),re(u=>(this.currentTransition=s=be(L({},u),{guards:PO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),zO(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw sl(this.urlSerializer,u.guardsResult);let l=new rg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),It(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",bt.GuardRejected),!1)),Yp(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Fe(l=>{let f=new ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),At(l=>{let f=!1;return q(l).pipe(pk(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",bt.NoDataFromResolver)}}))}),Fe(l=>{let f=new sg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),Yp(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Fe(y=>{f.component=y}),re(()=>{})));for(let y of f.children)p.push(...l(y));return p};return _o(l(u.targetSnapshot.root)).pipe(er(null),Dn(1))}),Yp(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Se(f).pipe(re(()=>s)):q(s)}),re(u=>{let l=AO(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=be(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new ta)}),xO(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dn(1),Fe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Ah(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),Io(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(u=>{if(c=!0,UT(u))this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),MO(u)?this.events.next(new ms(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new ea(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=sn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof ra){let{message:p,cancellationCode:y}=sl(this.urlSerializer,f);this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new ms(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);s.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return _t}))}))}cancelNavigationTransition(t,r,i){let s=new Nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ck(n){return n!==Zo}var Sk=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(Ak),providedIn:"root"})}}return n})(),Eg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Ak=(()=>{class n extends Eg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=np(n)))(i||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),QT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(Rk),providedIn:"root"})}}return n})(),Rk=(()=>{class n extends QT{constructor(){super(...arguments),this.location=P(as),this.urlSerializer=P(ca),this.options=P(ha,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Sg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=OT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof gs)this.stateMemento=this.createStateMemento();else if(t instanceof lr)this.rawUrlTree=r.initialUrl;else if(t instanceof Xu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ta?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Nn&&(t.code===bt.GuardRejected||t.code===bt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ea?this.restoreHistory(r,!0):t instanceof Gt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Mn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=L(L({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=np(n)))(i||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qo||{});function YT(n,e){n.events.pipe(It(t=>t instanceof Gt||t instanceof Nn||t instanceof ea||t instanceof lr),re(t=>t instanceof Gt||t instanceof lr?Qo.COMPLETE:(t instanceof Nn?t.code===bt.Redirect||t.code===bt.SupersededByNewNavigation:!1)?Qo.REDIRECTING:Qo.FAILED),It(t=>t!==Qo.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function Nk(n){throw n}var Mk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Fu),this.stateManager=P(QT),this.options=P(ha,{optional:!0})||{},this.pendingTasks=P(Xi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Ag),this.urlSerializer=P(ca),this.location=P(as),this.urlHandlingStrategy=P(Sg),this._events=new Ze,this.errorHandler=this.options.errorHandler||Nk,this.navigated=!1,this.routeReuseStrategy=P(Sk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(oa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(ul,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Nn&&r.code!==bt.Redirect&&r.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gt)this.navigated=!0;else if(r instanceof ms){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ck(i.source)},o);this.scheduleNavigation(c,Zo,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ok(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=NT(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return MT(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Yr(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Zo,null,r)}navigate(t,r={skipLocationChange:!1}){return Pk(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},Mk):r===!1?i=L({},xk):i=r,Yr(t))return lT(this.currentUrlTree,t,i);let s=this.parseUrl(t);return lT(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return YT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Pk(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}function Ok(n){return!(n instanceof ta)&&!(n instanceof ms)}var al=(()=>{class n{constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:RE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(we(un),we(dr),rp("tabindex"),we(qr),we(zt),we(Rn))}}static{this.\u0275dir=Hr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Dt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Tp("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bo],replaceUrl:[2,"replaceUrl","replaceUrl",Bo],routerLink:"routerLink"},standalone:!0,features:[Ep,Yi]})}}return n})(),ZT=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new qe,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Gt&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Jn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(t).pipe(Jn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=kk(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(we(un),we(zt),we(qr),we(Wr),we(al,8))}}static{this.\u0275dir=Hr({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&TD(s,al,5),r&2){let o;bD(o=CD())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yi]})}}return n})();function kk(n){return!!n.paths}var cl=class{};var Lk=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(It(t=>t instanceof Gt),Or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=xu(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Se(i).pipe(Jn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let s=i.pipe(Pe(o=>o===null?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Se([s,o]).pipe(Jn())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(K(un),K(ju),K(Et),K(cl),K(Cg))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JT=new $(""),Fk=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof lr&&t.code===Ju.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof el&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new el(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){BE()}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function XT(n,...e){return rn([{provide:oa,multi:!0,useValue:n},[],{provide:dr,useFactory:eb,deps:[un]},{provide:Uu,multi:!0,useFactory:tb},e.map(t=>t.\u0275providers)])}function eb(n){return n.routerState.root}function fa(n,e){return{\u0275kind:n,\u0275providers:e}}function tb(){let n=P(nt);return e=>{let t=n.get(Gr);if(e!==t.components[0])return;let r=n.get(un),i=n.get(nb);n.get(Rg)===1&&r.initialNavigation(),n.get(rb,null,ne.Optional)?.setUpPreloading(),n.get(JT,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nb=new $("",{factory:()=>new Ze}),Rg=new $("",{providedIn:"root",factory:()=>1});function Vk(){return fa(2,[{provide:Rg,useValue:0},{provide:Vu,multi:!0,deps:[nt],useFactory:e=>{let t=e.get(WD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(un),s=e.get(nb);YT(i,()=>{r(!0)}),e.get(Ag).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}])}function Uk(){return fa(3,[{provide:Vu,multi:!0,useFactory:()=>{let e=P(un);return()=>{e.setUpLocationChangeListener()}}},{provide:Rg,useValue:2}])}var rb=new $("");function jk(n){return fa(0,[{provide:rb,useExisting:Lk},{provide:cl,useExisting:n}])}function Bk(){return fa(8,[pT,{provide:ul,useExisting:pT}])}function $k(n){let e=[{provide:WT,useValue:Dk},{provide:KT,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return fa(9,e)}var vT=new $("ROUTER_FORROOT_GUARD"),Hk=[as,{provide:ca,useClass:ps},un,la,{provide:dr,useFactory:eb,deps:[un]},Cg,[]],ib=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Hk,[],{provide:oa,multi:!0,useValue:t},{provide:vT,useFactory:Wk,deps:[[un,new rt,new Uf]]},{provide:ha,useValue:r||{}},r?.useHash?qk():Gk(),zk(),r?.preloadingStrategy?jk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Kk(r):[],r?.bindToComponentInputs?Bk().\u0275providers:[],r?.enableViewTransitions?$k().\u0275providers:[],Qk()]}}static forChild(t){return{ngModule:n,providers:[{provide:oa,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(K(vT,8))}}static{this.\u0275mod=Lo({type:n})}static{this.\u0275inj=ko({})}}return n})();function zk(){return{provide:JT,useFactory:()=>{let n=P(eT),e=P(me),t=P(ha),r=P(Ag),i=P(ca);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Fk(i,r,n,e,t)}}}function qk(){return{provide:Rn,useClass:QD}}function Gk(){return{provide:Rn,useClass:Fp}}function Wk(n){return"guarded"}function Kk(n){return[n.initialNavigation==="disabled"?Uk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Vk().\u0275providers:[]]}var _T=new $("");function Qk(){return[{provide:_T,useFactory:tb},{provide:Uu,multi:!0,useExisting:_T}]}var ob=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Zk=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(y=64)),r.push(t[f],t[p],t[y],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ob(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Zk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Mg;let y=s<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Mg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Jk=function(n){let e=ob(n);return ab.encodeByteArray(e,!0)},pa=function(n){return Jk(n).replace(/\./g,"")},Pg=function(n){try{return ab.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var e1=()=>Xk().__FIREBASE_DEFAULTS__,t1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Pg(n[1]);return e&&JSON.parse(e)},hl=()=>{try{return e1()||t1()||n1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Og=n=>{var e,t;return(t=(e=hl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cb=n=>{let e=Og(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kg=()=>{var n;return(n=hl())===null||n===void 0?void 0:n.config},Lg=n=>{var e;return(e=hl())===null||e===void 0?void 0:e[`_${n}`]};var dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ub(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pa(JSON.stringify(t)),pa(JSON.stringify(o)),""].join(".")}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function r1(){var n;let e=(n=hl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function db(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pb(){let n=$e();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gb(){return!r1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fg(){try{return typeof indexedDB=="object"}catch{return!1}}function mb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var i1="FirebaseError",Ct=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=i1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?s1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ct(i,c,r)}};function s1(n,e){return n.replace(o1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var o1=/\{\$([^}]+)}/g;function yb(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(sb(s)&&sb(o)){if(!Zr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function sb(n){return n!==null&&typeof n=="object"}function ga(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vb(n,e){let t=new xg(n,e);return t.subscribe.bind(t)}var xg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");a1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ng),i.error===void 0&&(i.error=Ng),i.complete===void 0&&(i.complete=Ng);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function a1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ng(){}var MG=4*60*60*1e3;function mt(n){return n&&n._delegate?n._delegate:n}var Lt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Jr="[DEFAULT]";var Vg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new dl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u1(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function c1(n){return n===Jr?void 0:n}function u1(n){return n.instantiationMode==="EAGER"}var fl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Vg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var l1=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),d1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},h1=ae.INFO,f1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},p1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=f1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=h1,this._logHandler=p1,this._userLogHandler=null,l1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var g1=(n,e)=>e.some(t=>n instanceof t),_b,Ib;function m1(){return _b||(_b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y1(){return Ib||(Ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wb=new WeakMap,jg=new WeakMap,Eb=new WeakMap,Ug=new WeakMap,$g=new WeakMap;function v1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ln(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&wb.set(t,n)}).catch(()=>{}),$g.set(e,n),e}function _1(n){if(jg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});jg.set(n,e)}var Bg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Eb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ln(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Db(n){Bg=n(Bg)}function I1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(pl(this),e,...t);return Eb.set(r,e.sort?e.sort():[e]),ln(r)}:y1().includes(n)?function(...e){return n.apply(pl(this),e),ln(wb.get(this))}:function(...e){return ln(n.apply(pl(this),e))}}function w1(n){return typeof n=="function"?I1(n):(n instanceof IDBTransaction&&_1(n),g1(n,m1())?new Proxy(n,Bg):n)}function ln(n){if(n instanceof IDBRequest)return v1(n);if(Ug.has(n))return Ug.get(n);let e=w1(n);return e!==n&&(Ug.set(n,e),$g.set(e,n)),e}var pl=n=>$g.get(n);function bb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=ln(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ln(o.result),u.oldVersion,u.newVersion,ln(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var E1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],Hg=new Map;function Tb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=D1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E1.includes(t)))return;let s=function(o,...c){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Hg.set(e,s),s}Db(n=>be(L({},n),{get:(e,t,r)=>Tb(e,t)||n.get(e,t,r),has:(e,t)=>!!Tb(e,t)||n.has(e,t)}));var qg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(T1(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function T1(n){let e=n.getComponent();return e?.type==="VERSION"}var Gg="@firebase/app",Cb="0.10.11";var Pn=new fr("@firebase/app"),b1="@firebase/app-compat",C1="@firebase/analytics-compat",S1="@firebase/analytics",A1="@firebase/app-check-compat",R1="@firebase/app-check",N1="@firebase/auth",M1="@firebase/auth-compat",x1="@firebase/database",P1="@firebase/database-compat",O1="@firebase/functions",k1="@firebase/functions-compat",L1="@firebase/installations",F1="@firebase/installations-compat",V1="@firebase/messaging",U1="@firebase/messaging-compat",j1="@firebase/performance",B1="@firebase/performance-compat",$1="@firebase/remote-config",H1="@firebase/remote-config-compat",z1="@firebase/storage",q1="@firebase/storage-compat",G1="@firebase/firestore",W1="@firebase/vertexai-preview",K1="@firebase/firestore-compat",Q1="firebase",Y1="10.13.2";var Wg="[DEFAULT]",Z1={[Gg]:"fire-core",[b1]:"fire-core-compat",[S1]:"fire-analytics",[C1]:"fire-analytics-compat",[R1]:"fire-app-check",[A1]:"fire-app-check-compat",[N1]:"fire-auth",[M1]:"fire-auth-compat",[x1]:"fire-rtdb",[P1]:"fire-rtdb-compat",[O1]:"fire-fn",[k1]:"fire-fn-compat",[L1]:"fire-iid",[F1]:"fire-iid-compat",[V1]:"fire-fcm",[U1]:"fire-fcm-compat",[j1]:"fire-perf",[B1]:"fire-perf-compat",[$1]:"fire-rc",[H1]:"fire-rc-compat",[z1]:"fire-gcs",[q1]:"fire-gcs-compat",[G1]:"fire-fst",[K1]:"fire-fst-compat",[W1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};var ma=new Map,J1=new Map,Kg=new Map;function Sb(n,e){try{n.container.addComponent(e)}catch(t){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gr(n){let e=n.name;if(Kg.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,n);for(let t of ma.values())Sb(t,n);for(let t of J1.values())Sb(t,n);return!0}function va(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n.settings!==void 0}var X1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new xn("app","Firebase",X1);var Qg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var mr=Y1;function Jg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(t||(t=kg()),!t)throw pr.create("no-options");let s=ma.get(i);if(s){if(Zr(t,s.options)&&Zr(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}let o=new fl(i);for(let u of Kg.values())o.addComponent(u);let c=new Qg(t,r,o);return ma.set(i,c),c}function _s(n=Wg){let e=ma.get(n);if(!e&&n===Wg&&kg())return Jg();if(!e)throw pr.create("no-app",{appName:n});return e}function gl(){return Array.from(ma.values())}function Ve(n,e,t){var r;let i=(r=Z1[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(c.join(" "));return}gr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var eL="firebase-heartbeat-database",tL=1,ya="firebase-heartbeat-store",zg=null;function Mb(){return zg||(zg=bb(eL,tL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ya)}catch(t){console.warn(t)}}}}).catch(n=>{throw pr.create("idb-open",{originalErrorMessage:n.message})})),zg}function nL(n){return w(this,null,function*(){try{let t=(yield Mb()).transaction(ya),r=yield t.objectStore(ya).get(xb(n));return yield t.done,r}catch(e){if(e instanceof Ct)Pn.warn(e.message);else{let t=pr.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(t.message)}}})}function Ab(n,e){return w(this,null,function*(){try{let r=(yield Mb()).transaction(ya,"readwrite");yield r.objectStore(ya).put(e,xb(n)),yield r.done}catch(t){if(t instanceof Ct)Pn.warn(t.message);else{let r=pr.create("idb-set",{originalErrorMessage:t?.message});Pn.warn(r.message)}}})}function xb(n){return`${n.name}!${n.options.appId}`}var rL=1024,iL=30*24*60*60*1e3,Yg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Zg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=iL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Rb(),{heartbeatsToSend:r,unsentEntries:i}=sL(this._heartbeatsCache.heartbeats),s=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Pn.warn(t),""}})}};function Rb(){return new Date().toISOString().substring(0,10)}function sL(n,e=rL){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nb(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Nb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Zg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Fg()?mb().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield nL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ab(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ab(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Nb(n){return pa(JSON.stringify({version:2,heartbeats:n})).length}function oL(n){gr(new Lt("platform-logger",e=>new qg(e),"PRIVATE")),gr(new Lt("heartbeat",e=>new Yg(e),"PRIVATE")),Ve(Gg,Cb,n),Ve(Gg,Cb,"esm2017"),Ve("fire-js","")}oL("");var aL="firebase",cL="10.13.2";Ve(aL,cL,"app");var ei=new ar("ANGULARFIRE2_VERSION");function yl(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var _a=(n,e)=>{let t=e?[e]:gl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ws=class{constructor(){return _a(uL)}},uL="app-check";function Is(){}var ml=class{zone;delegate;constructor(e,t=Dh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Xg=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Is,{},Is,Is)),t.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Es=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=t.run(()=>new ml(Zone.current,Eh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(me))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vl(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function lL(n){return vl().ngZone.runOutsideAngular(()=>n())}function Xr(n){return vl().ngZone.run(()=>n())}function dL(n){return hL(vl())(n)}function hL(n){return function(t){return t=t.lift(new Xg(n.ngZone)),t.pipe(Zn(n.outsideAngular),Yn(n.insideAngular))}}var fL=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xr(()=>n.apply(void 0,r))},yr=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Xr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Is,{},Is,Is))),r[s]=fL(r[s],t));let i=lL(()=>n.apply(this,r));if(!e)if(i instanceof ue){let s=vl();return i.pipe(Zn(s.outsideAngular),Yn(s.insideAngular))}else return Xr(()=>i);return i instanceof ue?i.pipe(dL):i instanceof Promise?Xr(()=>new Promise((s,o)=>i.then(c=>Xr(()=>s(c)),c=>Xr(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Xr(()=>i)};var kn=class{constructor(e){return e}},ti=class{constructor(){return gl()}};function pL(n){return n&&n.length===1?n[0]:new kn(_s())}var em=new $("angularfire2._apps"),gL={provide:kn,useFactory:pL,deps:[[new rt,em]]},mL={provide:ti,deps:[[new rt,em]]};function yL(n){return(e,t)=>{let r=t.get(on);Ve("angularfire",ei.full,"core"),Ve("angularfire",ei.full,"app"),Ve("angular",xD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new kn(i)}}function Pb(n,...e){return rn([gL,mL,{provide:em,useFactory:yL(n),multi:!0,deps:[me,nt,Es,...e]}])}var Ob=yr(Jg,!0);function Qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Yb=Qb,Zb=new xn("auth","Firebase",Qb());var Tl=new fr("@firebase/auth");function vL(n,...e){Tl.logLevel<=ae.WARN&&Tl.warn(`Auth (${mr}): ${n}`,...e)}function Il(n,...e){Tl.logLevel<=ae.ERROR&&Tl.error(`Auth (${mr}): ${n}`,...e)}function _r(n,...e){throw Im(n,...e)}function ri(n,...e){return Im(n,...e)}function Jb(n,e,t){let r=Object.assign(Object.assign({},Yb()),{[e]:t});return new xn("auth","Firebase",r).create(e,{appName:n.name})}function ni(n){return Jb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Zb.create(n,...e)}function Q(n,e,...t){if(!n)throw Im(e,...t)}function Ln(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Il(e),new Error(e)}function Ir(n,e){n||Ln(e)}function im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _L(){return kb()==="http:"||kb()==="https:"}function kb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function IL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||hb()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ii=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=lb()||fb()}get(){return IL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wm(n,e){Ir(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var bl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var EL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var DL=new ii(3e4,6e4);function Em(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ts(s,o,c,u){return w(this,arguments,function*(n,e,t,r,i={}){return Xb(n,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=ga(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:y},l);return db()||(I.referrerPolicy="no-referrer"),bl.fetch()(eC(n,n.config.apiHost,t,p),I)}))})}function Xb(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},EL),e);try{let i=new sm(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw _l(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _l(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw _l(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Jb(n,f,l);_r(n,f)}}catch(i){if(i instanceof Ct)throw i;_r(n,"network-request-failed",{message:String(i)})}})}function TL(s,o,c,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield Ts(n,e,t,r,i);return"mfaPendingCredential"in l&&_r(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function eC(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?wm(n.config,i):`${n.config.apiScheme}://${i}`}var sm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),DL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _l(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ri(n,e,r);return i.customData._tokenResponse=t,i}function bL(n,e){return w(this,null,function*(){return Ts(n,"POST","/v1/accounts:delete",e)})}function tC(n,e){return w(this,null,function*(){return Ts(n,"POST","/v1/accounts:lookup",e)})}function Ia(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Dm(n,e=!1){return w(this,null,function*(){let t=mt(n),r=yield t.getIdToken(e),i=Tm(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ia(tm(i.auth_time)),issuedAtTime:Ia(tm(i.iat)),expirationTime:Ia(tm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function tm(n){return Number(n)*1e3}function Tm(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{let i=Pg(t);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Lb(n){let e=Tm(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ea(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ct&&CL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function CL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var om=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Da=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ia(this.lastLoginAt),this.creationTime=Ia(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cl(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ea(n,tC(t,{idToken:r}));Q(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nC(s.providerUserInfo):[],c=SL(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Da(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function bm(n){return w(this,null,function*(){let e=mt(n);yield Cl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function SL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nC(n){return n.map(e=>{var{providerId:t}=e,r=Th(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AL(n,e){return w(this,null,function*(){let t=yield Xb(n,{},()=>w(this,null,function*(){let r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=eC(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",bl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function RL(n,e){return w(this,null,function*(){return Ts(n,"POST","/v2/accounts:revokeToken",Em(n,e))})}var wa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=Lb(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield AL(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ln("not implemented")}};function vr(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ds=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Th(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new om(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Da(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Ea(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Dm(this,e)}reload(){return bm(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Cl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(On(this.auth.app))return Promise.reject(ni(this.auth));let e=yield this.getIdToken();return yield Ea(this,bL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,I=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=t.photoURL)!==null&&o!==void 0?o:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,V=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:ie,isAnonymous:Ae,providerData:J,stsTokenManager:D}=t;Q(z&&D,e,"internal-error");let m=wa.fromJSON(this.name,D);Q(typeof z=="string",e,"internal-error"),vr(p,e.name),vr(y,e.name),Q(typeof ie=="boolean",e,"internal-error"),Q(typeof Ae=="boolean",e,"internal-error"),vr(I,e.name),vr(S,e.name),vr(N,e.name),vr(R,e.name),vr(k,e.name),vr(V,e.name);let v=new n({uid:z,auth:e,email:y,emailVerified:ie,displayName:p,isAnonymous:Ae,photoURL:S,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:k,lastLoginAt:V});return J&&Array.isArray(J)&&(v.providerData=J.map(E=>Object.assign({},E))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new wa;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?nC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new wa;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Da(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var Fb=new Map;function Fn(n){Ir(n instanceof Function,"Expected a class definition");let e=Fb.get(n);return e?(Ir(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fb.set(n,e),e)}var NL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),am=NL;function wl(n,e,t){return`firebase:${n}:${e}:${t}`}var Sl=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=wl(this.userKey,i.apiKey,s),this.fullPersistenceKey=wl("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Fn(am),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Fn(am),o=wl(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(o);if(f){let p=Ds._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function Vb(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cC(e))return"Blackberry";if(uC(e))return"Webos";if(iC(e))return"Safari";if((e.includes("chrome/")||sC(e))&&!e.includes("edge/"))return"Chrome";if(aC(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rC(n=$e()){return/firefox\//i.test(n)}function iC(n=$e()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sC(n=$e()){return/crios\//i.test(n)}function oC(n=$e()){return/iemobile/i.test(n)}function aC(n=$e()){return/android/i.test(n)}function cC(n=$e()){return/blackberry/i.test(n)}function uC(n=$e()){return/webos/i.test(n)}function Cm(n=$e()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ML(n=$e()){var e;return Cm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xL(){return pb()&&document.documentMode===10}function lC(n=$e()){return Cm(n)||aC(n)||uC(n)||cC(n)||/windows phone/i.test(n)||oC(n)}function dC(n,e=[]){let t;switch(n){case"Browser":t=Vb($e());break;case"Worker":t=`${Vb($e())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mr}/${r}`}var cm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function PL(t){return w(this,arguments,function*(n,e={}){return Ts(n,"GET","/v2/passwordPolicy",Em(n,e))})}var OL=6,um=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:OL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var lm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Al(this),this.idTokenSubscription=new Al(this),this.beforeStateQueue=new cm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fn(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield tC(this,{idToken:e}),r=yield Ds._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(On(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Cl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(On(this.app))return Promise.reject(ni(this));let t=e?mt(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return On(this.app)?Promise.reject(ni(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return On(this.app)?Promise.reject(ni(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield PL(this),t=new um(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield RL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Fn(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield Sl.create(this,[Fn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&vL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Sm(n){return mt(n)}var Al=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vb(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Am={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kL(n){Am=n}function LL(n){return Am.loadJS(n)}function FL(){return Am.gapiScript}function hC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Rm(n,e){let t=va(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Zr(s,e??{}))return i;_r(i,"already-initialized")}return t.initialize({options:e})}function VL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Nm(n,e,t){let r=Sm(n);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=fC(e),{host:o,port:c}=UL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||jL()}function fC(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UL(n){let e=fC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Ub(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Ub(o)}}}function Ub(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function jL(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Rl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,t){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}};function nm(n,e){return w(this,null,function*(){return TL(n,"POST","/v1/accounts:signInWithIdp",Em(n,e))})}var Nl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var dm=class extends Nl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ta=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let s=yield Ds._fromIdTokenResponse(e,r,i),o=jb(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jb(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function jb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var hm=class n extends Ct{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function pC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(n,s,e,r):s})}function BL(n,e,t=!1){return w(this,null,function*(){let r=yield Ea(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ta._forOperation(n,"link",r)})}function $L(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(On(r.app))return Promise.reject(ni(r));let i="reauthenticate";try{let s=yield Ea(n,pC(r,i,e,n),t);Q(s.idToken,r,"internal-error");let o=Tm(s.idToken);Q(o,r,"internal-error");let{sub:c}=o;return Q(n.uid===c,r,"user-mismatch"),Ta._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&_r(r,"user-mismatch"),s}})}function HL(n,e,t=!1){return w(this,null,function*(){if(On(n.app))return Promise.reject(ni(n));let r="signIn",i=yield pC(n,r,e),s=yield Ta._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Mm(n,e,t,r){return mt(n).onIdTokenChanged(e,t,r)}function xm(n,e,t){return mt(n).beforeAuthStateChanged(e,t)}var Ml="__sak";var xl=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ml,"1"),this.storage.removeItem(Ml),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zL=1e3,qL=10,GL=(()=>{class n extends xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);xL()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,qL):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Kn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Kn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Kn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),gC=GL;var WL=(()=>{class n extends xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Pm=WL;function KL(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var QL=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,o)})),l=yield KL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function mC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var fm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=mC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function dn(){return window}function YL(n){dn().location.href=n}function yC(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function ZL(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function JL(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function XL(){return yC()?self:null}var vC="firebaseLocalStorageDb",eF=1,Pl="firebaseLocalStorage",_C="fbase_key",si=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function kl(n,e){return n.transaction([Pl],e?"readwrite":"readonly").objectStore(Pl)}function tF(){let n=indexedDB.deleteDatabase(vC);return new si(n).toPromise()}function pm(){let n=indexedDB.open(vC,eF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Pl,{keyPath:_C})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Pl)?e(r):(r.close(),yield tF(),e(yield pm()))}))})}function Bb(n,e,t){return w(this,null,function*(){let r=kl(n,!0).put({[_C]:e,value:t});return new si(r).toPromise()})}function nF(n,e){return w(this,null,function*(){let t=kl(n,!1).get(e),r=yield new si(t).toPromise();return r===void 0?null:r.value})}function $b(n,e){let t=kl(n,!0).delete(e);return new si(t).toPromise()}var rF=800,iF=3,sF=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield pm(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>iF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return yC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=QL._getInstance(XL()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield ZL(),!this.activeServiceWorker)return;this.sender=new fm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||JL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield pm();return yield Bb(t,Ml,"1"),yield $b(t,Ml),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>Bb(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>nF(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>$b(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(s=>{let o=kl(s,!1).getAll();return new si(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),IC=sF;var C9=hC("rcb"),S9=new ii(3e4,6e4);function oF(n,e){return e?Fn(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ba=class extends Rl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nm(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function aF(n){return HL(n.auth,new ba(n),n.bypassAuthState)}function cF(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),$L(t,new ba(n),n.bypassAuthState)}function uF(n){return w(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),BL(t,new ba(n),n.bypassAuthState)})}var gm=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aF;case"linkViaPopup":case"linkViaRedirect":return uF;case"reauthViaPopup":case"reauthViaRedirect":return cF;default:_r(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var A9=new ii(2e3,1e4);var lF="pendingRedirect",El=new Map,mm=class n extends gm{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=El.get(this.auth._key());if(!e){try{let r=(yield dF(this.resolver,this.auth))?yield Kn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}El.set(this.auth._key(),e)}return this.bypassAuthState||El.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Kn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Kn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function dF(n,e){return w(this,null,function*(){let t=pF(e),r=fF(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function hF(n,e){El.set(n._key(),e)}function fF(n){return Fn(n._redirectPersistence)}function pF(n){return wl(lF,n.config.apiKey,n.name)}function gF(n,e,t=!1){return w(this,null,function*(){if(On(n.app))return Promise.reject(ni(n));let r=Sm(n),i=oF(r,e),o=yield new mm(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var mF=10*60*1e3,ym=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mF&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hb(e))}saveEventToCache(e){this.cachedEventUids.add(Hb(e)),this.lastProcessedEventTime=Date.now()}};function Hb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function yF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wC(n);default:return!1}}function vF(t){return w(this,arguments,function*(n,e={}){return Ts(n,"GET","/v1/projects",e)})}var _F=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IF=/^https?/;function wF(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield vF(n);for(let t of e)try{if(EF(t))return}catch{}_r(n,"unauthorized-domain")})}function EF(n){let e=im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!IF.test(t))return!1;if(_F.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var DF=new ii(3e4,6e4);function zb(){let n=dn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function TF(n){return new Promise((e,t)=>{var r,i,s;function o(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),t(ri(n,"network-request-failed"))},timeout:DF.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=dn().gapi)===null||s===void 0)&&s.load)o();else{let c=hC("iframefcb");return dn()[c]=()=>{gapi.load?o():t(ri(n,"network-request-failed"))},LL(`${FL()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Dl=null,e})}var Dl=null;function bF(n){return Dl=Dl||TF(n),Dl}var CF=new ii(5e3,15e3),SF="__/auth/iframe",AF="emulator/auth/iframe",RF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MF(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?wm(e,AF):`https://${n.config.authDomain}/${SF}`,r={apiKey:e.apiKey,appName:n.name,v:mr},i=NF.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ga(r).slice(1)}`}function xF(n){return w(this,null,function*(){let e=yield bF(n),t=dn().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:MF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RF,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ri(n,"network-request-failed"),c=dn().setTimeout(()=>{s(o)},CF.get());function u(){dn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var PF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OF=500,kF=600,LF="_blank",FF="http://localhost",Ol=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function VF(n,e,t,r=OF,i=kF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},PF),{width:r.toString(),height:i.toString(),top:s,left:o}),l=$e().toLowerCase();t&&(c=sC(l)?LF:t),rC(l)&&(e=e||FF,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[I,S])=>`${y}${I}=${S},`,"");if(ML(l)&&c!=="_self")return UF(e||"",c),new Ol(null);let p=window.open(e||"",c,f);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new Ol(p)}function UF(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var jF="__/auth/handler",BF="emulator/auth/handler",$F=encodeURIComponent("fac");function qb(n,e,t,r,i,s){return w(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mr,eventId:i};if(e instanceof Nl){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",yb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof dm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),l=u?`#${$F}=${encodeURIComponent(u)}`:"";return`${HF(n)}?${ga(c).slice(1)}${l}`})}function HF({config:n}){return n.emulator?wm(n,BF):`https://${n.authDomain}/${jF}`}var rm="webStorageSupport",vm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pm,this._completeRedirectFn=gF,this._overrideRedirectResult=hF}_openPopup(e,t,r,i){return w(this,null,function*(){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield qb(e,t,r,im(),i);return VF(e,o,mC())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield qb(e,t,r,im(),i);return YL(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield xF(e),r=new ym(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rm,{type:rm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[rm];o!==void 0&&t(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lC()||iC()||Cm()}},EC=vm;var Gb="@firebase/auth",Wb="1.7.9";var _m=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qF(n){gr(new Lt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dC(n)},l=new lm(r,i,s,u);return VL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gr(new Lt("auth-internal",e=>{let t=Sm(e.getProvider("auth").getImmediate());return(r=>new _m(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(Gb,Wb,zF(n)),Ve(Gb,Wb,"esm2017")}var GF=5*60,WF=Lg("authIdTokenMaxAge")||GF,Kb=null,KF=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>WF)return;let i=t?.token;Kb!==i&&(Kb=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Om(n=_s()){let e=va(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Rm(n,{popupRedirectResolver:EC,persistence:[IC,gC,Pm]}),r=Lg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=KF(s.toString());xm(t,o,()=>o(t.currentUser)),Mm(t,c=>o(c))}}let i=Og("auth");return i&&Nm(t,`http://${i}`),t}function QF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=ri("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",QF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qF("Browser");var DC="auth",Ca=class{constructor(e){return e}},Sa=class{constructor(){return _a(DC)}};var km=new $("angularfire2.auth-instances");function HV(n,e){let t=yl(DC,n,e);return t&&new Ca(t)}function zV(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ca(r)}}var qV={provide:Sa,deps:[[new rt,km]]},GV={provide:Ca,useFactory:HV,deps:[[new rt,km],kn]};function TC(n,...e){return Ve("angularfire",ei.full,"auth"),rn([GV,qV,{provide:km,useFactory:zV(n),multi:!0,deps:[me,nt,Es,ti,[new rt,ws],...e]}])}var bC=yr(Om,!0);var CC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SC={};var wr,Lm;(function(){var n;function e(D,m){function v(){}v.prototype=m.prototype,D.D=m.prototype,D.prototype=new v,D.prototype.constructor=D,D.C=function(E,T,C){for(var _=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)_[_n-2]=arguments[_n];return m.prototype[T].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,v){v||(v=0);var E=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)E[T]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(T=0;16>T;++T)E[T]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=D.g[0],v=D.g[1],T=D.g[2];var C=D.g[3],_=m+(C^v&(T^C))+E[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=C+(T^m&(v^T))+E[1]+3905402710&4294967295,C=m+(_<<12&4294967295|_>>>20),_=T+(v^C&(m^v))+E[2]+606105819&4294967295,T=C+(_<<17&4294967295|_>>>15),_=v+(m^T&(C^m))+E[3]+3250441966&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(C^v&(T^C))+E[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(T^m&(v^T))+E[5]+1200080426&4294967295,C=m+(_<<12&4294967295|_>>>20),_=T+(v^C&(m^v))+E[6]+2821735955&4294967295,T=C+(_<<17&4294967295|_>>>15),_=v+(m^T&(C^m))+E[7]+4249261313&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(C^v&(T^C))+E[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(T^m&(v^T))+E[9]+2336552879&4294967295,C=m+(_<<12&4294967295|_>>>20),_=T+(v^C&(m^v))+E[10]+4294925233&4294967295,T=C+(_<<17&4294967295|_>>>15),_=v+(m^T&(C^m))+E[11]+2304563134&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(C^v&(T^C))+E[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(T^m&(v^T))+E[13]+4254626195&4294967295,C=m+(_<<12&4294967295|_>>>20),_=T+(v^C&(m^v))+E[14]+2792965006&4294967295,T=C+(_<<17&4294967295|_>>>15),_=v+(m^T&(C^m))+E[15]+1236535329&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(T^C&(v^T))+E[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^T&(m^v))+E[6]+3225465664&4294967295,C=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(C^m))+E[11]+643717713&4294967295,T=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(T^C))+E[0]+3921069994&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^C&(v^T))+E[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^T&(m^v))+E[10]+38016083&4294967295,C=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(C^m))+E[15]+3634488961&4294967295,T=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(T^C))+E[4]+3889429448&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^C&(v^T))+E[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^T&(m^v))+E[14]+3275163606&4294967295,C=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(C^m))+E[3]+4107603335&4294967295,T=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(T^C))+E[8]+1163531501&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^C&(v^T))+E[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^T&(m^v))+E[2]+4243563512&4294967295,C=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(C^m))+E[7]+1735328473&4294967295,T=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(T^C))+E[12]+2368359562&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(v^T^C)+E[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^T)+E[8]+2272392833&4294967295,C=m+(_<<11&4294967295|_>>>21),_=T+(C^m^v)+E[11]+1839030562&4294967295,T=C+(_<<16&4294967295|_>>>16),_=v+(T^C^m)+E[14]+4259657740&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^C)+E[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^T)+E[4]+1272893353&4294967295,C=m+(_<<11&4294967295|_>>>21),_=T+(C^m^v)+E[7]+4139469664&4294967295,T=C+(_<<16&4294967295|_>>>16),_=v+(T^C^m)+E[10]+3200236656&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^C)+E[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^T)+E[0]+3936430074&4294967295,C=m+(_<<11&4294967295|_>>>21),_=T+(C^m^v)+E[3]+3572445317&4294967295,T=C+(_<<16&4294967295|_>>>16),_=v+(T^C^m)+E[6]+76029189&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^C)+E[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^T)+E[12]+3873151461&4294967295,C=m+(_<<11&4294967295|_>>>21),_=T+(C^m^v)+E[15]+530742520&4294967295,T=C+(_<<16&4294967295|_>>>16),_=v+(T^C^m)+E[2]+3299628645&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(T^(v|~C))+E[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~T))+E[7]+1126891415&4294967295,C=m+(_<<10&4294967295|_>>>22),_=T+(m^(C|~v))+E[14]+2878612391&4294967295,T=C+(_<<15&4294967295|_>>>17),_=v+(C^(T|~m))+E[5]+4237533241&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~C))+E[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~T))+E[3]+2399980690&4294967295,C=m+(_<<10&4294967295|_>>>22),_=T+(m^(C|~v))+E[10]+4293915773&4294967295,T=C+(_<<15&4294967295|_>>>17),_=v+(C^(T|~m))+E[1]+2240044497&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~C))+E[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~T))+E[15]+4264355552&4294967295,C=m+(_<<10&4294967295|_>>>22),_=T+(m^(C|~v))+E[6]+2734768916&4294967295,T=C+(_<<15&4294967295|_>>>17),_=v+(C^(T|~m))+E[13]+1309151649&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~C))+E[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~T))+E[11]+3174756917&4294967295,C=m+(_<<10&4294967295|_>>>22),_=T+(m^(C|~v))+E[2]+718787259&4294967295,T=C+(_<<15&4294967295|_>>>17),_=v+(C^(T|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var v=m-this.blockSize,E=this.B,T=this.h,C=0;C<m;){if(T==0)for(;C<=v;)i(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<m;)if(E[T++]=D.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<m;)if(E[T++]=D[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var v=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=v&255,v/=256;for(this.u(D),D=Array(16),m=v=0;4>m;++m)for(var E=0;32>E;E+=8)D[v++]=this.g[m]>>>E&255;return D};function s(D,m){var v=c;return Object.prototype.hasOwnProperty.call(v,D)?v[D]:v[D]=m(D)}function o(D,m){this.h=m;for(var v=[],E=!0,T=D.length-1;0<=T;T--){var C=D[T]|0;E&&C==m||(v[T]=C,E=!1)}this.g=v}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var m=[],v=1,E=0;D>=v;E++)m[E]=D/v|0,v*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),E=p,T=0;T<D.length;T+=8){var C=Math.min(8,D.length-T),_=parseInt(D.substring(T,T+C),m);8>C?(C=l(Math.pow(m,C)),E=E.j(C).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var p=u(0),y=u(1),I=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-R(this).m();for(var D=0,m=1,v=0;v<this.g.length;v++){var E=this.i(v);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var m=l(Math.pow(D,6)),v=this,E="";;){var T=ie(v,m).g;v=k(v,T.j(m));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(D);if(v=T,S(v))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}n.l=function(D){return D=k(this,D),N(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,v=[],E=0;E<m;E++)v[E]=~D.g[E];return new o(v,~D.h).add(y)}n.abs=function(){return N(this)?R(this):this},n.add=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0,T=0;T<=m;T++){var C=E+(this.i(T)&65535)+(D.i(T)&65535),_=(C>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=_>>>16,C&=65535,_&=65535,v[T]=_<<16|C}return new o(v,v[v.length-1]&-2147483648?-1:0)};function k(D,m){return D.add(R(m))}n.j=function(D){if(S(this)||S(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,v=[],E=0;E<2*m;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var C=this.i(E)>>>16,_=this.i(E)&65535,_n=D.i(T)>>>16,Zs=D.i(T)&65535;v[2*E+2*T]+=_*Zs,V(v,2*E+2*T),v[2*E+2*T+1]+=C*Zs,V(v,2*E+2*T+1),v[2*E+2*T+1]+=_*_n,V(v,2*E+2*T+1),v[2*E+2*T+2]+=C*_n,V(v,2*E+2*T+2)}for(E=0;E<m;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=m;E<2*m;E++)v[E]=0;return new o(v,0)};function V(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function z(D,m){this.g=D,this.h=m}function ie(D,m){if(S(m))throw Error("division by zero");if(S(D))return new z(p,p);if(N(D))return m=ie(R(D),m),new z(R(m.g),R(m.h));if(N(m))return m=ie(D,R(m)),new z(R(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=m;0>=E.l(D);)v=Ae(v),E=Ae(E);var T=J(v,1),C=J(E,1);for(E=J(E,2),v=J(v,2);!S(E);){var _=C.add(E);0>=_.l(D)&&(T=T.add(v),C=_),E=J(E,1),v=J(v,1)}return m=k(D,T.j(m)),new z(T,m)}for(T=p;0<=D.l(m);){for(v=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(v),_=C.j(m);N(_)||0<_.l(D);)v-=E,C=l(v),_=C.j(m);S(C)&&(C=y),T=T.add(C),D=k(D,_)}return new z(T,D)}n.A=function(D){return ie(this,D).h},n.and=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)&D.i(E);return new o(v,this.h&D.h)},n.or=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)|D.i(E);return new o(v,this.h|D.h)},n.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)^D.i(E);return new o(v,this.h^D.h)};function Ae(D){for(var m=D.g.length+1,v=[],E=0;E<m;E++)v[E]=D.i(E)<<1|D.i(E-1)>>>31;return new o(v,D.h)}function J(D,m){var v=m>>5;m%=32;for(var E=D.g.length-v,T=[],C=0;C<E;C++)T[C]=0<m?D.i(C+v)>>>m|D.i(C+v+1)<<32-m:D.i(C+v);return new o(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lm=SC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,wr=SC.Integer=o}).apply(typeof CC<"u"?CC:typeof self<"u"?self:typeof window<"u"?window:{});var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vn={};var Fm,Vm,bs,Um,Aa,Fl,jm,Bm,$m;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,A){for(var O=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)O[ve-2]=arguments[ve];return d.prototype[b].apply(g,O)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,A=g.length||0;a.length=b+A;for(let O=0;O<A;O++)a[b+O]=g[O]}else a.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(a){return/^[\s\xa0]*$/.test(a)}function z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ie(a){return ie[" "](a),a}ie[" "]=function(){};var Ae=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Pd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class _n{constructor(){this.h=this.g=null}add(d,h){let g=Zs.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Zs=new k(()=>new D0,a=>a.reset());class D0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Js,Xs=!1,Pd=new _n,Gv=()=>{let a=c.Promise.resolve(void 0);Js=()=>{a.then(T0)}};var T0=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=Zs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Xs=!1};function zn(){this.s=this.s,this.C=this.C}zn.prototype.s=!1,zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function We(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}We.prototype.h=function(){this.defaultPrevented=!0};var b0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function eo(a,d){if(We.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ae){e:{try{ie(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:C0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&eo.aa.h.call(this)}}S(eo,We);var C0={2:"touch",3:"pen",4:"mouse"};eo.prototype.h=function(){eo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var to="closure_listenable_"+(1e6*Math.random()|0),S0=0;function A0(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++S0,this.da=this.fa=!1}function Za(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ja(a){this.src=a,this.g={},this.h=0}Ja.prototype.add=function(a,d,h,g,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var O=kd(a,d,g,b);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new A0(d,this.src,A,!!g,b),d.fa=h,a.push(d)),d};function Od(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Za(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function kd(a,d,h,g){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var Ld="closure_lm_"+(1e6*Math.random()|0),Fd={};function Wv(a,d,h,g,b){if(g&&g.once)return Qv(a,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Wv(a,d[A],h,g,b);return null}return h=Bd(h),a&&a[to]?a.K(d,h,l(g)?!!g.capture:!!g,b):Kv(a,d,h,!1,g,b)}function Kv(a,d,h,g,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,ve=Ud(a);if(ve||(a[Ld]=ve=new Ja(a)),h=ve.add(d,h,g,O,A),h.proxy)return h;if(g=R0(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)b0||(b=O),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(Zv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function R0(){function a(h){return d.call(a.src,a.listener,h)}let d=N0;return a}function Qv(a,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Qv(a,d[A],h,g,b);return null}return h=Bd(h),a&&a[to]?a.L(d,h,l(g)?!!g.capture:!!g,b):Kv(a,d,h,!0,g,b)}function Yv(a,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)Yv(a,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=Bd(h),a&&a[to]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=kd(A,h,g,b),-1<h&&(Za(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ud(a))&&(d=a.g[d.toString()],a=-1,d&&(a=kd(d,h,g,b)),(h=-1<a?d[a]:null)&&Vd(h))}function Vd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[to])Od(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Zv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Ud(d))?(Od(h,a),h.h==0&&(h.src=null,d[Ld]=null)):Za(a)}}}function Zv(a){return a in Fd?Fd[a]:Fd[a]="on"+a}function N0(a,d){if(a.da)a=!0;else{d=new eo(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Vd(a),a=h.call(g,d)}return a}function Ud(a){return a=a[Ld],a instanceof Ja?a:null}var jd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bd(a){return typeof a=="function"?a:(a[jd]||(a[jd]=function(d){return a.handleEvent(d)}),a[jd])}function Ke(){zn.call(this),this.i=new Ja(this),this.M=this,this.F=null}S(Ke,zn),Ke.prototype[to]=!0,Ke.prototype.removeEventListener=function(a,d,h,g){Yv(this,a,d,h,g)};function ut(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new We(d,a);else if(d instanceof We)d.target=d.target||a;else{var b=d;d=new We(g,a),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];b=Xa(O,g,!0,d)&&b}if(O=d.g=a,b=Xa(O,g,!0,d)&&b,b=Xa(O,g,!1,d)&&b,h)for(A=0;A<h.length;A++)O=d.g=h[A],b=Xa(O,g,!1,d)&&b}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Za(h[g]);delete a.g[d],a.h--}}this.F=null},Ke.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ke.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Xa(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var ve=O.listener,ze=O.ha||O.src;O.fa&&Od(a.i,O),b=ve.call(ze,g)!==!1&&b}}return b&&!g.defaultPrevented}function Jv(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Xv(a){a.g=Jv(()=>{a.g=null,a.i&&(a.i=!1,Xv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class M0 extends zn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Xv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(a){zn.call(this),this.h=a,this.g={}}S(no,zn);var e_=[];function t_(a){J(a.g,function(d,h){this.g.hasOwnProperty(h)&&Vd(d)},a),a.g={}}no.prototype.N=function(){no.aa.N.call(this),t_(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $d=c.JSON.stringify,x0=c.JSON.parse,P0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Hd(){}Hd.prototype.h=null;function n_(a){return a.h||(a.h=a.i())}function r_(){}var ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zd(){We.call(this,"d")}S(zd,We);function qd(){We.call(this,"c")}S(qd,We);var Cr={},i_=null;function ec(){return i_=i_||new Ke}Cr.La="serverreachability";function s_(a){We.call(this,Cr.La,a)}S(s_,We);function io(a){let d=ec();ut(d,new s_(d))}Cr.STAT_EVENT="statevent";function o_(a,d){We.call(this,Cr.STAT_EVENT,a),this.stat=d}S(o_,We);function lt(a){let d=ec();ut(d,new o_(d,a))}Cr.Ma="timingevent";function a_(a,d){We.call(this,Cr.Ma,a),this.size=d}S(a_,We);function so(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function O0(a,d,h,g,b,A){a.info(function(){if(a.g)if(A)for(var O="",ve=A.split("&"),ze=0;ze<ve.length;ze++){var fe=ve[ze].split("=");if(1<fe.length){var Qe=fe[0];fe=fe[1];var Ye=Qe.split("_");O=2<=Ye.length&&Ye[1]=="type"?O+(Qe+"="+fe+"&"):O+(Qe+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+O})}function k0(a,d,h,g,b,A,O){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+O})}function yi(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+F0(a,h)+(g?" "+g:"")})}function L0(a,d){a.info(function(){return"TIMEOUT: "+d})}oo.prototype.info=function(){};function F0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return $d(h)}catch{return d}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},c_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gd;function nc(){}S(nc,Hd),nc.prototype.g=function(){return new XMLHttpRequest},nc.prototype.i=function(){return{}},Gd=new nc;function qn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new u_}function u_(){this.i=null,this.g="",this.h=!1}var l_={},Wd={};function Kd(a,d,h){a.L=1,a.v=oc(In(d)),a.m=h,a.P=!0,d_(a,null)}function d_(a,d){a.F=Date.now(),rc(a),a.A=In(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),b_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new u_,a.g=H_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new M0(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(e_[0]=b.toString()),b=e_);for(var A=0;A<b.length;A++){var O=Wv(h,b[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),io(),O0(a.i,a.u,a.A,a.l,a.R,a.m)}qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&wn(a)==3?d.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)e:{let Ye=wn(this.g);var d=this.g.Ba();let Ii=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||x_(this.g)))){this.J||Ye!=4||d==7||(d==8||0>=Ii?io(3):io(2)),Qd(this);var h=this.g.Z();this.X=h;t:if(h_(this)){var g=x_(this.g);a="";var b=g.length,A=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),ao(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,k0(this.i,this.u,this.A,this.l,this.R,Ye,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,ze=this.g;if((ve=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ve)){var fe=ve;break t}}fe=null}if(h=fe)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yd(this,h);else{this.o=!1,this.s=3,lt(12),Sr(this),ao(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<O.length;)if(Vt=V0(this,O),Vt==Wd){Ye==4&&(this.s=4,lt(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==l_){this.s=4,lt(15),yi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,Vt,null),Yd(this,Vt);if(h_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||O.length!=0||this.h.h||(this.s=1,lt(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,O,"[Invalid Chunked Response]"),Sr(this),ao(this);else if(0<O.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),nh(Qe),Qe.M=!0,lt(11))}}else yi(this.i,this.l,O,null),Yd(this,O);Ye==4&&Sr(this),this.o&&!this.J&&(Ye==4?U_(this.j,this):(this.o=!1,rc(this)))}else tA(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Sr(this),ao(this)}}}catch{}finally{}};function h_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function V0(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Wd:(h=Number(d.substring(h,g)),isNaN(h)?l_:(g+=1,g+h>d.length?Wd:(d=d.slice(g,g+h),a.C=g+h,d)))}qn.prototype.cancel=function(){this.J=!0,Sr(this)};function rc(a){a.S=Date.now()+a.I,f_(a,a.I)}function f_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=so(y(a.ba,a),d)}function Qd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(L0(this.i,this.A),this.L!=2&&(io(),lt(17)),Sr(this),this.s=2,ao(this)):f_(this,this.S-a)};function ao(a){a.j.G==0||a.J||U_(a.j,a)}function Sr(a){Qd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,t_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Yd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Zd(h.h,a))){if(!a.K&&Zd(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)dc(h),uc(h);else break e;th(h),lt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=so(y(h.Za,h),6e3));if(1>=m_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Rr(h,11)}else if((a.K||h.g==a)&&dc(h),!V(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let fe=b[d];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let Qe=fe[3];Qe!=null&&(h.la=Qe,h.j.info("VER="+h.la));let Ye=fe[4];Ye!=null&&(h.Aa=Ye,h.j.info("SVER="+h.Aa));let Ii=fe[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(g=1.5*Ii,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Vt=a.g;if(Vt){let fc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var A=g.h;A.g||fc.indexOf("spdy")==-1&&fc.indexOf("quic")==-1&&fc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Jd(A,A.h),A.h=null))}if(g.D){let rh=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;rh&&(g.ya=rh,Te(g.I,g.D,rh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var O=a;if(g.qa=$_(g,g.J?g.ia:null,g.W),O.K){y_(g.h,O);var ve=O,ze=g.L;ze&&(ve.I=ze),ve.B&&(Qd(ve),rc(ve)),g.g=O}else F_(g);0<h.i.length&&lc(h)}else fe[0]!="stop"&&fe[0]!="close"||Rr(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Rr(h,7):eh(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}io(4)}catch{}}var U0=class{constructor(a,d){this.g=a,this.map=d}};function p_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function g_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function m_(a){return a.h?1:a.g?a.g.size:0}function Zd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Jd(a,d){a.g?a.g.add(d):a.h=d}function y_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}p_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function v_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function j0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function B0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function __(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=B0(a),g=j0(a),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],a)}var I_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $0(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var A=a[h].substring(0,g);b=a[h].substring(g+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Ar(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ar){this.h=a.h,ic(this,a.j),this.o=a.o,this.g=a.g,sc(this,a.s),this.l=a.l;var d=a.i,h=new lo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),w_(this,h),this.m=a.m}else a&&(d=String(a).match(I_))?(this.h=!1,ic(this,d[1]||"",!0),this.o=co(d[2]||""),this.g=co(d[3]||"",!0),sc(this,d[4]),this.l=co(d[5]||"",!0),w_(this,d[6]||"",!0),this.m=co(d[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}Ar.prototype.toString=function(){var a=[],d=this.j;d&&a.push(uo(d,E_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(uo(d,E_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(uo(h,h.charAt(0)=="/"?q0:z0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",uo(h,W0)),a.join("")};function In(a){return new Ar(a)}function ic(a,d,h){a.j=h?co(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function sc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function w_(a,d,h){d instanceof lo?(a.i=d,K0(a.i,a.h)):(h||(d=uo(d,G0)),a.i=new lo(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function oc(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function co(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function uo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,H0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function H0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var E_=/[#\/\?@]/g,z0=/[#\?:]/g,q0=/[#\?]/g,G0=/[#\?@]/g,W0=/#/g;function lo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Gn(a){a.g||(a.g=new Map,a.h=0,a.i&&$0(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=lo.prototype,n.add=function(a,d){Gn(this),this.i=null,a=vi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function D_(a,d){Gn(a),d=vi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function T_(a,d){return Gn(a),d=vi(a,d),a.g.has(d)}n.forEach=function(a,d){Gn(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},n.na=function(){Gn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},n.V=function(a){Gn(this);let d=[];if(typeof a=="string")T_(this,a)&&(d=d.concat(this.g.get(vi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Gn(this),this.i=null,a=vi(this,a),T_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function b_(a,d,h){D_(a,d),0<h.length&&(a.i=null,a.g.set(vi(a,d),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=A;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),a.push(b)}}return this.i=a.join("&")};function vi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function K0(a,d){d&&!a.j&&(Gn(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(D_(this,g),b_(this,b,h))},a)),a.j=d}function Q0(a,d){let h=new oo;if(c.Image){let g=new Image;g.onload=I(Wn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Wn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(Wn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Wn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function Y0(a,d){let h=new oo,g=new AbortController,b=setTimeout(()=>{g.abort(),Wn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Wn(h,"TestPingServer: ok",!0,d):Wn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Wn(h,"TestPingServer: error",!1,d)})}function Wn(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function Z0(){this.g=new P0}function J0(a,d,h){let g=h||"";try{__(a,function(b,A){let O=b;l(b)&&(O=$d(b)),d.push(g+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ho(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ho,Hd),ho.prototype.g=function(){return new ac(this.l,this.j)},ho.prototype.i=function(a){return function(){return a}}({});function ac(a,d){Ke.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ac,Ke),n=ac.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,po(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;C_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function C_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?fo(this):po(this),this.readyState==3&&C_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,fo(this))},n.Qa=function(a){this.g&&(this.response=a,fo(this))},n.ga=function(){this.g&&fo(this)};function fo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,po(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function po(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ac.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function S_(a){let d="";return J(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Xd(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=S_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Re(a){Ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Re,Ke);var X0=/^https?$/i,eA=["POST","PUT"];n=Re.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gd.g(),this.v=this.o?n_(this.o):n_(Gd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){A_(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eA,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{M_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){A_(this,A)}};function A_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,R_(a),cc(a)}function R_(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),cc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cc(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?N_(this):this.bb())},n.bb=function(){N_(this)};function N_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)Jv(a.Ea,0,a);else if(ut(a,"readystatechange"),wn(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=O===0){var b=String(a.D).match(I_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!X0.test(b?b.toLowerCase():"")}h=g}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var A=2<wn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",R_(a)}}finally{cc(a)}}}}function cc(a,d){if(a.g){M_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{h.onreadystatechange=g}catch{}}}function M_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),x0(d)}};function x_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tA(a){let d={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(V(a[g]))continue;var h=T(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function P_(a){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=go("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=go("baseRetryDelayMs",5e3,a),this.cb=go("retryDelaySeedMs",1e4,a),this.Wa=go("forwardChannelMaxRetries",2,a),this.wa=go("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new p_(a&&a.concurrentRequestLimit),this.Da=new Z0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=P_.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){lt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=$_(this,null,this.W),lc(this)};function eh(a){if(O_(a),a.G==3){var d=a.U++,h=In(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),mo(a,h),d=new qn(a,a.j,d),d.L=2,d.v=oc(In(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=H_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rc(d)}B_(a)}function uc(a){a.g&&(nh(a),a.g.cancel(),a.g=null)}function O_(a){uc(a),a.u&&(c.clearTimeout(a.u),a.u=null),dc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function lc(a){if(!g_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Js||Gv(),Xs||(Js(),Xs=!0),Pd.add(d,a),a.B=0}}function nA(a,d){return m_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=so(y(a.Ga,a,d),j_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new qn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=L_(this,b,d),h=In(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),mo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(S_(A)))+"&"+d:this.m&&Xd(h,this.m,A)),Jd(this.h,b),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),b.T=!0,Kd(b,h,null)):Kd(b,h,d),this.G=2}}else this.G==3&&(a?k_(this,a):this.i.length==0||g_(this.h)||k_(this))};function k_(a,d){var h;d?h=d.l:h=a.U++;let g=In(a.I);Te(g,"SID",a.K),Te(g,"RID",h),Te(g,"AID",a.T),mo(a,g),a.m&&a.o&&Xd(g,a.m,a.o),h=new qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=L_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Jd(a.h,h),Kd(h,g,d)}function mo(a,d){a.H&&J(a.H,function(h,g){Te(d,g,h)}),a.l&&__({},function(h,g){Te(d,g,h)})}function L_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let ve=!0;for(let ze=0;ze<h;ze++){let fe=b[ze].g,Qe=b[ze].map;if(fe-=A,0>fe)A=Math.max(0,b[ze].g-100),ve=!1;else try{J0(Qe,O,"req"+fe+"_")}catch{g&&g(Qe)}}if(ve){g=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function F_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Js||Gv(),Xs||(Js(),Xs=!0),Pd.add(d,a),a.v=0}}function th(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=so(y(a.Fa,a),j_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,V_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=so(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),uc(this),V_(this))};function nh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function V_(a){a.g=new qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=In(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),mo(a,d),a.m&&a.o&&Xd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=oc(In(d)),h.m=null,h.P=!0,d_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,uc(this),th(this),lt(19))};function dc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function U_(a,d){var h=null;if(a.g==d){dc(a),nh(a),a.g=null;var g=2}else if(Zd(a.h,d))h=d.D,y_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=ec(),ut(g,new a_(g,h)),lc(a)}else F_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&nA(a,d)||g==2&&th(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Rr(a,5);break;case 4:Rr(a,10);break;case 3:Rr(a,6);break;default:Rr(a,2)}}}function j_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Rr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let b=!g;g=new Ar(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ic(g,"https"),oc(g),b?Q0(g.toString(),h):Y0(g.toString(),h)}else lt(2);a.G=0,a.l&&a.l.sa(d),B_(a),O_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function B_(a){if(a.G=0,a.ka=[],a.l){let d=v_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function $_(a,d,h){var g=h instanceof Ar?In(h):new Ar(h);if(g.g!="")d&&(g.g=d+"."+g.g),sc(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Ar(null);g&&ic(A,g),d&&(A.g=d),b&&sc(A,b),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Te(g,h,d),Te(g,"VER",a.la),mo(a,g),g}function H_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new ho({eb:h})):new Re(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function z_(){}n=z_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hc(){}hc.prototype.g=function(a,d){return new yt(a,d)};function yt(a,d){Ke.call(this),this.g=new P_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!V(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new _i(this)}S(yt,Ke),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){eh(this.g)},yt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=$d(a),a=h);d.i.push(new U0(d.Ya++,a)),d.G==3&&lc(d)},yt.prototype.N=function(){this.g.l=null,delete this.j,eh(this.g),delete this.g,yt.aa.N.call(this)};function q_(a){zd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(q_,zd);function G_(){qd.call(this),this.status=1}S(G_,qd);function _i(a){this.g=a}S(_i,z_),_i.prototype.ua=function(){ut(this.g,"a")},_i.prototype.ta=function(a){ut(this.g,new q_(a))},_i.prototype.sa=function(a){ut(this.g,new G_)},_i.prototype.ra=function(){ut(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,$m=Vn.createWebChannelTransport=function(){return new hc},Bm=Vn.getStatEventTarget=function(){return ec()},jm=Vn.Event=Cr,Fl=Vn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,Aa=Vn.ErrorCode=tc,c_.COMPLETE="complete",Um=Vn.EventType=c_,r_.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,bs=Vn.WebChannel=r_,Vm=Vn.FetchXmlHttpFactory=ho,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Fm=Vn.XhrIo=Re}).apply(typeof Ll<"u"?Ll:typeof self<"u"?self:typeof window<"u"?window:{});var AC="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var Gs="10.13.2";var li=new fr("@firebase/firestore");function Ra(){return li.logLevel}function F(n,...e){if(li.logLevel<=ae.DEBUG){let t=e.map(bv);li.debug(`Firestore (${Gs}): ${n}`,...t)}}function jn(n,...e){if(li.logLevel<=ae.ERROR){let t=e.map(bv);li.error(`Firestore (${Gs}): ${n}`,...t)}}function xs(n,...e){if(li.logLevel<=ae.WARN){let t=e.map(bv);li.warn(`Firestore (${Gs}): ${n}`,...t)}}function bv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function G(n="Unexpected state"){let e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+n;throw jn(e),new Error(e)}function Ie(n,e){n||G()}function Z(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Ct{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var $l=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(He.UNAUTHENTICATED))}shutdown(){}},Km=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Qm=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new $l(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new He(e)}},Ym=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Zm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ym(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string"),this.R=t.token,new Jm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function WV(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Hl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=WV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function Ps(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ge=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ge(0,0))}static max(){return new n(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(),r===void 0?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Me=class n extends zl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},KV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class n extends zl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return KV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Me.fromString(e))}static fromName(e){return new n(Me.fromString(e).popFirst(5))}static empty(){return new n(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Me(e.slice()))}};var ey=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ey.UNKNOWN_ID=-1;function QV(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ge(t+1,0):new Ge(t,r));return new di(i,H.empty(),e)}function YV(n){return new di(n.readTime,n.key,-1)}var di=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),H.empty(),-1)}static max(){return new n(ee.max(),H.empty(),-1)}};function ZV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var JV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ty=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Wa(n){return w(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==JV)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function XV(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ka(n){return n.name==="IndexedDbTransactionError"}var oS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function _d(n){return n==null}function La(n){return n===0&&1/n==-1/0}function eU(n){return typeof n=="number"&&Number.isInteger(n)&&!La(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var tU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],S3=[...tU,"documentOverlays"],nU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rU=nU,iU=[...rU,"indexConfiguration","indexState","indexEntries"];var A3=[...iU,"globals"];function RC(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rs(this.root,e,this.comparator,!0)}},Rs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,r,i,s){return this}insert(e,t,r){return new pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ql(this.data.getIterator())}getIteratorFrom(e){return new ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ql=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class n{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new n([])}unionWith(e){let t=new at(St.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Gl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gl("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var sU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bn(n){if(Ie(!!n),typeof n=="string"){let e=0,t=sU.exec(n);if(Ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dr(n){return typeof n=="string"?ct.fromBase64String(n):ct.fromUint8Array(n)}function Cv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Sv(n){let e=n.mapValue.fields.__previous_value__;return Cv(e)?Sv(e):e}function Fa(n){let e=Bn(n.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}var ny=class{constructor(e,t,r,i,s,o,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Wl=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cv(n)?4:uS(n)?9007199254740991:cS(n)?10:11:G()}function yn(n,e){if(n===e)return!0;let t=hi(n);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fa(n).isEqual(Fa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Bn(i.timestampValue),c=Bn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Dr(i.bytesValue).isEqual(Dr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ce(i.doubleValue),c=Ce(s.doubleValue);return o===c?La(o)===La(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Ps(n.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(RC(o)!==RC(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!yn(o[u],c[u])))return!1;return!0}(n,e);default:return G()}}function Va(n,e){return(n.values||[]).find(t=>yn(t,e))!==void 0}function Os(n,e){if(n===e)return 0;let t=hi(n),r=hi(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ce(s.integerValue||s.doubleValue),u=Ce(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return NC(n.timestampValue,e.timestampValue);case 4:return NC(Fa(n),Fa(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return function(s,o){let c=Dr(s),u=Dr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ge(c[l],u[l]);if(f!==0)return f}return ge(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ge(Ce(s.latitude),Ce(o.latitude));return c!==0?c:ge(Ce(s.longitude),Ce(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return MC(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},y=o.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=y.value)===null||u===void 0?void 0:u.arrayValue,N=ge(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:MC(I,S)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Vl.mapValue&&o===Vl.mapValue)return 0;if(s===Vl.mapValue)return 1;if(o===Vl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=ge(u[p],f[p]);if(y!==0)return y;let I=Os(c[u[p]],l[f[p]]);if(I!==0)return I}return ge(u.length,f.length)}(n.mapValue,e.mapValue);default:throw G()}}function NC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=Bn(n),r=Bn(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function MC(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Os(t[i],r[i]);if(s)return s}return ge(t.length,r.length)}function ks(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Bn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Dr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=ry(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${ry(t.fields[o])}`;return i+"}"}(n.mapValue):G()}function iy(n){return!!n&&"integerValue"in n}function Av(n){return!!n&&"arrayValue"in n}function xC(n){return!!n&&"nullValue"in n}function PC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jl(n){return!!n&&"mapValue"in n}function cS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ma(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ma(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ma(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Wt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Ma(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());jl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Ma(this.value))}};function lS(n){let e=[];return Ws(n.fields,(t,r)=>{let i=new St([t]);if(jl(r)){let s=lS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}var Kt=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ls=class{constructor(e,t){this.position=e,this.inclusive=t}};function OC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),t.key):r=Os(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yn(n.position[t],e.position[t]))return!1;return!0}var Fs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function oU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Kl=class{},Ue=class n extends Kl{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oy(e,t,r):t==="array-contains"?new uy(e,r):t==="in"?new ly(e,r):t==="not-in"?new dy(e,r):t==="array-contains-any"?new hy(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ay(e,r):new cy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Os(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(Os(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class n extends Kl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return dS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function dS(n){return n.op==="and"}function hS(n){return aU(n)&&dS(n)}function aU(n){for(let e of n.filters)if(e instanceof vn)return!1;return!0}function sy(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+ks(n.value);if(hS(n))return n.filters.map(e=>sy(e)).join(",");{let e=n.filters.map(t=>sy(t)).join(",");return`${n.op}(${e})`}}function fS(n,e){return n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)}(n,e):n instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&fS(o,i.filters[c]),!0):!1}(n,e):void G()}function pS(n){return n instanceof Ue?function(t){return`${t.field.canonicalString()} ${t.op} ${ks(t.value)}`}(n):n instanceof vn?function(t){return t.op.toString()+" {"+t.getFilters().map(pS).join(" ,")+"}"}(n):"Filter"}var oy=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},ay=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=gS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},cy=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=gS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function gS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var uy=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Av(t)&&Va(t.arrayValue,this.value)}},ly=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Va(this.value.arrayValue,t)}},dy=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Va(this.value.arrayValue,t)}},hy=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Av(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Va(this.value.arrayValue,r))}};var fy=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function LC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new fy(n,e,t,r,i,s,o)}function Rv(n){let e=Z(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ks(r)).join(",")),e.ue=t}return e.ue}function Nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kC(n.startAt,e.startAt)&&kC(n.endAt,e.endAt)}function py(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vs=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function cU(n,e,t,r,i,s,o,c){return new Vs(n,e,t,r,i,s,o,c)}function Mv(n){return new Vs(n)}function FC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uU(n){return n.collectionGroup!==null}function xa(n){let e=Z(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new at(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fs(s,r))}),t.has(St.keyField().canonicalString())||e.ce.push(new Fs(St.keyField(),r))}return e.ce}function gn(n){let e=Z(n);return e.le||(e.le=lU(e,xa(n))),e.le}function lU(n,e){if(n.limitType==="F")return LC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fs(i.field,s)});let t=n.endAt?new Ls(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ls(n.startAt.position,n.startAt.inclusive):null;return LC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gy(n,e,t){return new Vs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return Nv(gn(n),gn(e))&&n.limitType===e.limitType}function mS(n){return`${Rv(gn(n))}|lt:${n.limitType}`}function Cs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>pS(i)).join(", ")}]`),_d(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ks(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(gn(n))}; limitType=${n.limitType})`}function wd(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of xa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=OC(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,xa(r),i)||r.endAt&&!function(o,c,u){let l=OC(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,xa(r),i))}(n,e)}function dU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yS(n){return(e,t)=>{let r=!1;for(let i of xa(n)){let s=hU(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hU(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?Os(u,l):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Tr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return aS(this.inner)}size(){return this.innerSize}};var fU=new xe(H.comparator);function $n(){return fU}var vS=new xe(H.comparator);function Na(...n){let e=vS;for(let t of n)e=e.insert(t.key,t);return e}function _S(n){let e=vS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function oi(){return Pa()}function IS(){return Pa()}function Pa(){return new Tr(n=>n.toString(),(n,e)=>n.isEqual(e))}var pU=new xe(H.comparator),gU=new at(H.comparator);function ce(...n){let e=gU;for(let t of n)e=e.add(t);return e}var mU=new at(ge);function yU(){return mU}function xv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(e)?"-0":e}}function wS(n){return{integerValue:""+n}}function vU(n,e){return eU(e)?wS(e):xv(n,e)}var Us=class{constructor(){this._=void 0}};function _U(n,e,t){return n instanceof js?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Cv(s)&&(s=Sv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof fi?DS(n,e):n instanceof pi?TS(n,e):function(i,s){let o=ES(i,s),c=VC(o)+VC(i.Pe);return iy(o)&&iy(i.Pe)?wS(c):xv(i.serializer,c)}(n,e)}function IU(n,e,t){return n instanceof fi?DS(n,e):n instanceof pi?TS(n,e):t}function ES(n,e){return n instanceof Bs?function(r){return iy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var js=class extends Us{},fi=class extends Us{constructor(e){super(),this.elements=e}};function DS(n,e){let t=bS(e);for(let r of n.elements)t.some(i=>yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var pi=class extends Us{constructor(e){super(),this.elements=e}};function TS(n,e){let t=bS(e);for(let r of n.elements)t=t.filter(i=>!yn(i,r));return{arrayValue:{values:t}}}var Bs=class extends Us{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function VC(n){return Ce(n.integerValue||n.doubleValue)}function bS(n){return Av(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fi&&i instanceof fi||r instanceof pi&&i instanceof pi?Ps(r.elements,i.elements,yn):r instanceof Bs&&i instanceof Bs?yn(r.Pe,i.Pe):r instanceof js&&i instanceof js}(n.transform,e.transform)}var my=class{constructor(e,t){this.version=e,this.transformResults=t}},ui=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var $s=class{};function CS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ql(n.key,ui.none()):new gi(n.key,n.data,ui.none());{let t=n.data,r=Wt.empty(),i=new at(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Hn(n.key,r,new fn(i.toArray()),ui.none())}}function EU(n,e,t){n instanceof gi?function(i,s,o){let c=i.value.clone(),u=jC(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Hn?function(i,s,o){if(!Bl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=jC(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(SS(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Oa(n,e,t,r){return n instanceof gi?function(s,o,c,u){if(!Bl(s.precondition,o))return c;let l=s.value.clone(),f=BC(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hn?function(s,o,c,u){if(!Bl(s.precondition,o))return c;let l=BC(s.fieldTransforms,u,o),f=o.data;return f.setAll(SS(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,c){return Bl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function DU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=ES(r.transform,i||null);s!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,s))}return t||null}function UC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ps(r,i,(s,o)=>wU(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var gi=class extends $s{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Hn=class extends $s{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function SS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function jC(n,e,t){let r=new Map;Ie(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,IU(o,c,t[i]))}return r}function BC(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,_U(s,o,e))}return r}var Ql=class extends $s{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yy=class extends $s{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&EU(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Oa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Oa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=IS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=CS(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(t,r)=>UC(t,r))&&Ps(this.baseMutations,e.baseMutations,(t,r)=>UC(t,r))}},_y=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length);let i=function(){return pU}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Iy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,he;function TU(n){switch(n){default:return G();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function AS(n){if(n===void 0)return jn("GRPC error has no .code"),M.UNKNOWN;switch(n){case Oe.OK:return M.OK;case Oe.CANCELLED:return M.CANCELLED;case Oe.UNKNOWN:return M.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return M.INTERNAL;case Oe.UNAVAILABLE:return M.UNAVAILABLE;case Oe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Oe.NOT_FOUND:return M.NOT_FOUND;case Oe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Oe.ABORTED:return M.ABORTED;case Oe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Oe.DATA_LOSS:return M.DATA_LOSS;default:return G()}}(he=Oe||(Oe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var $C=null;function bU(){return new TextEncoder}var CU=new wr([4294967295,4294967295],0);function HC(n){let e=bU().encode(n),t=new Lm;return t.update(e),new Uint8Array(t.digest())}function zC(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wr([t,r],0),new wr([i,s],0)]}var Ey=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ai(`Invalid padding: ${t}`);if(r<0)throw new ai(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ai(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ai(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=wr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(wr.fromNumber(r)));return i.compare(CU)===1&&(i=new wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=HC(e),[r,i]=zC(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=HC(e),[r,i]=zC(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ai=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yl=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new xe(ge),$n(),ce())}},Ua=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var Ns=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Zl=class{constructor(e,t){this.targetId=e,this.me=t}},Jl=class{constructor(e,t,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Xl=class{constructor(){this.fe=0,this.ge=GC(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),t=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ua(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=GC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Dy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=$n(),this.qe=qC(),this.Qe=new xe(ge)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(py(s))if(r===0){let o=new H(s.path);this.Ue(t,o,Kt.newNoDocument(o,ee.min()))}else Ie(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}$C?.et(function(f,p,y,I,S){var N,R,k,V,z,ie;let Ae={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Ae.bloomFilter={applied:S===0,hashCount:(N=J?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(V=(k=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&V!==void 0?V:0,padding:(ie=(z=J?.bits)===null||z===void 0?void 0:z.padding)!==null&&ie!==void 0?ie:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Ae}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=Dr(r).toUint8Array()}catch(u){if(u instanceof Gl)return xs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Ey(o,i,s)}catch(u){return xs(u instanceof ai?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&py(c.target)){let u=new H(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Kt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ce();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Yl(e,t,this.Qe,this.ke,r);return this.ke=$n(),this.qe=qC(),this.Qe=new xe(ge),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Xl,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new at(ge),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xl),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function qC(){return new xe(H.comparator)}function GC(){return new xe(H.comparator)}var SU={asc:"ASCENDING",desc:"DESCENDING"},AU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RU={and:"AND",or:"OR"},Ty=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function by(n,e){return n.useProto3Json||_d(e)?e:{value:e}}function ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NU(n,e){return ed(n,e.toTimestamp())}function mn(n){return Ie(!!n),ee.fromTimestamp(function(t){let r=Bn(t);return new Ge(r.seconds,r.nanos)}(n))}function Pv(n,e){return Cy(n,e).canonicalString()}function Cy(n,e){let t=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function NS(n){let e=Me.fromString(n);return Ie(kS(e)),e}function Sy(n,e){return Pv(n.databaseId,e.path)}function Hm(n,e){let t=NS(e);if(t.get(1)!==n.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(xS(t))}function MS(n,e){return Pv(n.databaseId,e)}function MU(n){let e=NS(n);return e.length===4?Me.emptyPath():xS(e)}function Ay(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xS(n){return Ie(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function WC(n,e,t){return{name:Sy(n,e),fields:t.value.mapValue.fields}}function xU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Ie(f===void 0||typeof f=="string"),ct.fromBase64String(f||"")):(Ie(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ct.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?M.UNKNOWN:AS(l.code);return new U(f,l.message||"")}(o);t=new Jl(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Hm(n,r.document.name),s=mn(r.document.updateTime),o=r.document.createTime?mn(r.document.createTime):ee.min(),c=new Wt({mapValue:{fields:r.document.fields}}),u=Kt.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Ns(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Hm(n,r.document),s=r.readTime?mn(r.readTime):ee.min(),o=Kt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Ns([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Hm(n,r.document),s=r.removedTargetIds||[];t=new Ns([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new wy(i,s),c=r.targetId;t=new Zl(c,o)}}return t}function PU(n,e){let t;if(e instanceof gi)t={update:WC(n,e.key,e.value)};else if(e instanceof Ql)t={delete:Sy(n,e.key)};else if(e instanceof Hn)t={update:WC(n,e.key,e.data),updateMask:$U(e.fieldMask)};else{if(!(e instanceof yy))return G();t={verify:Sy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof js)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(n,e.precondition)),t}function OU(n,e){return n&&n.length>0?(Ie(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?mn(i.updateTime):mn(s);return o.isEqual(ee.min())&&(o=mn(s)),new my(o,i.transformResults||[])}(t,e))):[]}function kU(n,e){return{documents:[MS(n,e.path)]}}function LU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MS(n,i);let s=function(l){if(l.length!==0)return OS(vn.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Ss(y.field),direction:UU(y.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=by(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function FU(n){let e=MU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ie(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){let y=PS(p);return y instanceof vn&&hS(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(y=>function(S){return new Fs(As(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,_d(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new Ls(I,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new Ls(I,y)}(t.endAt)),cU(e,i,o,s,c,"F",u,l)}function VU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=As(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=As(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=As(t.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=As(t.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):n.fieldFilter!==void 0?function(t){return Ue.create(As(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vn.create(t.compositeFilter.filters.map(r=>PS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(t.compositeFilter.op))}(n):G()}function UU(n){return SU[n]}function jU(n){return AU[n]}function BU(n){return RU[n]}function Ss(n){return{fieldPath:n.canonicalString()}}function As(n){return St.fromServerFormat(n.fieldPath)}function OS(n){return n instanceof Ue?function(t){if(t.op==="=="){if(PC(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NAN"}};if(xC(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(PC(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NOT_NAN"}};if(xC(t.value))return{unaryFilter:{field:Ss(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(t.field),op:jU(t.op),value:t.value}}}(n):n instanceof vn?function(t){let r=t.getFilters().map(i=>OS(i));return r.length===1?r[0]:{compositeFilter:{op:BU(t.op),filters:r}}}(n):G()}function $U(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ja=class n{constructor(e,t,r,i,s=ee.min(),o=ee.min(),c=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ry=class{constructor(e){this.ct=e}};function HU(n){let e=FU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gy(e,e.limit,"L"):e}var td=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),La(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Bn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Dr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?uS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):cS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):G()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ce(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};td.vt=new td;var Ny=class{constructor(){this.un=new My}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(di.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},My=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Me.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Me.comparator)).toArray()}};var N3=new Uint8Array(0);var hn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var Ba=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var xy=class{constructor(){this.changes=new Tr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Py=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Oy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Oa(r.mutation,i,fn.empty(),Ge.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=oi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Na();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=oi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=$n(),o=Pa(),c=function(){return Pa()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Hn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),Oa(f.mutation,l,f.mutation.getFieldMask(),Ge.now())):o.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new Py(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Pa(),i=new xe((o,c)=>o-c),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||fn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=IS();f.forEach(y=>{if(!s.has(y)){let I=CS(t.get(y),r.get(y));I!==null&&p.set(y,I),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):x.resolve(oi()),c=-1,u=s;return o.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ce())).next(f=>({batchId:c,changes:_S(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=Na();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Na();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let l=function(p,y){return new Vs(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Kt.newInvalidDocument(f)))});let c=Na();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&Oa(f.mutation,l,fn.empty(),Ge.now()),wd(t,l)&&(c=c.insert(u,l))}),c})}};var ky=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:HU(i.bundledQuery),readTime:mn(i.readTime)}}(t)),x.resolve()}};var Ly=class{constructor(){this.overlays=new xe(H.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=oi();return x.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=oi(),s=t.length+1,o=new H(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new xe((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=oi(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Iy(t,r));let s=this.Ir.get(t);s===void 0&&(s=ce(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Fy=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var $a=class{constructor(){this.Tr=new at(ke.Er),this.dr=new at(ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ke(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ke(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new Me([])),r=new ke(t,e),i=new ke(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new Me([])),r=new ke(t,e),i=new ke(t,e+1),s=ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new ke(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ke=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||ge(e.wr,t.wr)}static Ar(e,t){return ge(e.wr,t.wr)||H.comparator(e.key,t.key)}};var Vy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new at(ke.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new vy(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new ke(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ke(t,0),i=new ke(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(ge);return t.forEach(i=>{let s=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new ke(new H(s),0),c=new at(ge);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(t.mutations,i=>{let s=new ke(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ke(t,0),i=this.br.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Uy=class{constructor(e){this.Mr=e,this.docs=function(){return new xe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let r=$n();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=$n(),o=t.path,c=new H(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||ZV(YV(f),r)<=0||(i.has(f.key)||wd(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,t,r,i){G()}Or(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jy(this)}getSize(e){return x.resolve(this.size)}},jy=class extends xy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var By=class{constructor(e){this.persistence=e,this.Nr=new Tr(t=>Rv(t),Nv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $a,this.targetCount=0,this.kr=Ba.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ba(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var $y=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new oS(0),this.Kr=!1,this.Kr=!0,this.$r=new Fy,this.referenceDelegate=e(this),this.Ur=new By(this),this.indexManager=new Ny,this.remoteDocumentCache=function(i){return new Uy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ry(t),this.Gr=new ky(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ly,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Vy(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new Hy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Hy=class extends ty{constructor(e){super(),this.currentSequenceNumber=e}},zy=class n{constructor(e){this.persistence=e,this.Jr=new $a,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var qy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ce(),i=ce();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Gy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Wy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gb()?8:XV($e())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Gy;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ra()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Cs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ra()<=ae.DEBUG&&F("QueryEngine","Query:",Cs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ra()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Cs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(t))):x.resolve())}Yi(e,t){if(FC(t))return x.resolve(null);let r=gn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gy(t,null,"F"),r=gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ce(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,o,u.readTime)?this.Yi(e,gy(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return FC(t)||i.isEqual(ee.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?x.resolve(null):(Ra()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(t)),this.rs(e,o,t,QV(i,-1)).next(c=>c))})}ts(e,t){let r=new at(yS(e));return t.forEach((i,s)=>{wd(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Ra()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Cs(t)),this.Ji.getDocumentsMatchingQuery(e,t,di.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ky=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new xe(ge),this._s=new Tr(s=>Rv(s),Nv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function zU(n,e,t,r){return new Ky(n,e,t,r)}function LS(n,e){return w(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ce();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function qU(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),I=x.resolve();return y.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);Ie(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FS(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function GU(n,e){let t=Z(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,p)));let I=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(ct.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(y,I,f)&&c.push(t.Ur.updateTargetData(s,I))});let u=$n(),l=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(WU(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ee.min())){let f=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function WU(n,e,t){let r=ce(),i=ce();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=$n();return t.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function KU(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QU(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new ja(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Qy(n,e,t){return w(this,null,function*(){let r=Z(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ka(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function KC(n,e,t){let r=Z(n),i=ee.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Z(u),y=p._s.get(f);return y!==void 0?x.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,o,gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ee.min(),t?s:ce())).next(c=>(YU(r,dU(e),c),{documents:c,Ts:s})))}function YU(n,e,t){let r=n.us.get(e)||ee.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var nd=class{constructor(){this.activeTargetIds=yU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Yy=class{constructor(){this.so=new nd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Zy=class{_o(e){}shutdown(){}};var rd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ul=null;function zm(){return Ul===null?Ul=function(){return 268435456+Math.round(2147483648*Math.random())}():Ul++,"0x"+Ul.toString(16)}var ZU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Jy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",Xy=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=zm(),u=this.xo(t,r.toUriEncodedString());F("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(f=>(F("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw xs("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=ZU[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=zm();return new Promise((o,c)=>{let u=new Fm;u.setWithCredentials(!0),u.listenOnce(Um.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Aa.NO_ERROR:let f=u.getResponseJson();F(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Aa.TIMEOUT:F(ot,`RPC '${e}' ${s} timed out`),c(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:let p=u.getStatus();if(F(ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(R){let k=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(k)>=0?k:M.UNKNOWN}(I.status);c(new U(S,I.message))}else c(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(M.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(ot,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=zm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$m(),c=Bm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Vm({})),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=s.join("");F(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),y=!1,I=!1,S=new Jy({Io:R=>{I?F(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(F(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),F(ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,k,V)=>{R.listen(k,z=>{try{V(z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return N(p,bs.EventType.OPEN,()=>{I||(F(ot,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,bs.EventType.CLOSE,()=>{I||(I=!0,F(ot,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,bs.EventType.ERROR,R=>{I||(I=!0,xs(ot,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,bs.EventType.MESSAGE,R=>{var k;if(!I){let V=R.data[0];Ie(!!V);let z=V,ie=z.error||((k=z[0])===null||k===void 0?void 0:k.error);if(ie){F(ot,`RPC '${e}' stream ${i} received error:`,ie);let Ae=ie.status,J=function(v){let E=Oe[v];if(E!==void 0)return AS(E)}(Ae),D=ie.message;J===void 0&&(J=M.INTERNAL,D="Unknown error status: "+Ae+" with message "+ie.message),I=!0,S.So(new U(J,D)),p.close()}else F(ot,`RPC '${e}' stream ${i} received:`,V),S.bo(V)}}),N(c,jm.STAT_EVENT,R=>{R.stat===Fl.PROXY?F(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Fl.NOPROXY&&F(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function qm(){return typeof document<"u"?document:null}function Ed(n){return new Ty(n,!0)}var id=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sd=class{constructor(e,t,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new id(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(jn(t.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ev=class extends sd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=xU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?mn(o.readTime):ee.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Ay(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=py(u)?{documents:kU(s,u)}:{query:LU(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=RS(s,o.resumeToken);let l=by(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){c.readTime=ed(s,o.snapshotVersion.toTimestamp());let l=by(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=VU(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Ay(this.serializer),t.removeTarget=e,this.a_(t)}},tv=class extends sd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=OU(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Ay(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>PU(this.serializer,r))};this.a_(t)}};var nv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Cy(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Cy(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},rv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jn(t),this.D_=!1):F("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var iv=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){mi(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield Qa(l),l.q_.set("Unknown"),l.L_.delete(4),yield Dd(l)})}(this))}))}),this.q_=new rv(r,i)}};function Dd(n){return w(this,null,function*(){if(mi(n))for(let e of n.B_)yield e(!0)})}function Qa(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function VS(n,e){let t=Z(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Fv(t)?Lv(t):Ks(t).r_()&&kv(t,e))}function Ov(n,e){let t=Z(n),r=Ks(t);t.N_.delete(e),r.r_()&&US(t,e),t.N_.size===0&&(r.r_()?r.o_():mi(t)&&t.q_.set("Unknown"))}function kv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ks(n).A_(e)}function US(n,e){n.Q_.xe(e),Ks(n).R_(e)}function Lv(n){n.Q_=new Dy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ks(n).start(),n.q_.v_()}function Fv(n){return mi(n)&&!Ks(n).n_()&&n.N_.size>0}function mi(n){return Z(n).L_.size===0}function jS(n){n.Q_=void 0}function JU(n){return w(this,null,function*(){n.q_.set("Online")})}function XU(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{kv(n,e)})})}function ej(n,e){return w(this,null,function*(){jS(n),Fv(n)?(n.q_.M_(e),Lv(n)):n.q_.set("Unknown")})}function tj(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof Jl&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield od(n,r)}else if(e instanceof Ns?n.Q_.Ke(e):e instanceof Zl?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ee.min()))try{let r=yield FS(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),US(s,u);let p=new ja(f.target,u,l,f.sequenceNumber);kv(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield od(n,r)}})}function od(n,e,t){return w(this,null,function*(){if(!Ka(e))throw e;n.L_.add(1),yield Qa(n),n.q_.set("Offline"),t||(t=()=>FS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Dd(n)}))})}function BS(n,e){return e().catch(t=>od(n,t,e))}function Td(n){return w(this,null,function*(){let e=Z(n),t=br(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nj(e);)try{let i=yield KU(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,rj(e,i)}catch(i){yield od(e,i)}$S(e)&&HS(e)})}function nj(n){return mi(n)&&n.O_.length<10}function rj(n,e){n.O_.push(e);let t=br(n);t.r_()&&t.V_&&t.m_(e.mutations)}function $S(n){return mi(n)&&!br(n).n_()&&n.O_.length>0}function HS(n){br(n).start()}function ij(n){return w(this,null,function*(){br(n).p_()})}function sj(n){return w(this,null,function*(){let e=br(n);for(let t of n.O_)e.m_(t.mutations)})}function oj(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=_y.from(r,e,t);yield BS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Td(n)})}function aj(n,e){return w(this,null,function*(){e&&br(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return TU(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();br(r).s_(),yield BS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Td(r)}})}(n,e)),$S(n)&&HS(n)})}function QC(n,e){return w(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=mi(t);t.L_.add(3),yield Qa(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Dd(t)})}function cj(n,e){return w(this,null,function*(){let t=Z(n);e?(t.L_.delete(2),yield Dd(t)):e||(t.L_.add(2),yield Qa(t),t.q_.set("Unknown"))})}function Ks(n){return n.K_||(n.K_=function(t,r,i){let s=Z(t);return s.w_(),new ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:JU.bind(null,n),Ro:XU.bind(null,n),mo:ej.bind(null,n),d_:tj.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),Fv(n)?Lv(n):n.q_.set("Unknown")):(yield n.K_.stop(),jS(n))}))),n.K_}function br(n){return n.U_||(n.U_=function(t,r,i){let s=Z(t);return s.w_(),new tv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ij.bind(null,n),mo:aj.bind(null,n),f_:sj.bind(null,n),g_:oj.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield Td(n)):(yield n.U_.stop(),n.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var sv=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Vv(n,e){if(jn("AsyncQueue",`${e}: ${n}`),Ka(n))return new U(M.UNAVAILABLE,`${e}: ${n}`);throw n}var ad=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=Na(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var cd=class{constructor(){this.W_=new xe(H.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Hs=class n{constructor(e,t,r,i,s,o,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,ad.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var ov=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},av=class{constructor(){this.queries=YC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Z(t),s=i.queries;i.queries=YC(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function YC(){return new Tr(n=>mS(n),Id)}function uj(n,e){return w(this,null,function*(){let t=Z(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new ov,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=Vv(o,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Uv(t)})}function lj(n,e){return w(this,null,function*(){let t=Z(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function dj(n,e){let t=Z(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Uv(t)}function hj(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Uv(n){n.Y_.forEach(e=>{e.next()})}var cv,ZC;(ZC=cv||(cv={})).ea="default",ZC.Cache="cache";var uv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cv.Cache}};var ud=class{constructor(e){this.key=e}},ld=class{constructor(e){this.key=e}},lv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=yS(e),this.Ra=new ad(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new cd,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),I=wd(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;y&&I?y.data.isEqual(I.data)?S!==N&&(r.track({type:3,doc:I}),R=!0):this.ga(y,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),R=!0):y&&!I&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(I?(o=o.add(I),s=N?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(I,S){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return N(I)-N(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Hs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new ld(r))}),this.da.forEach(r=>{e.has(r)||t.push(new ud(r))}),t}ba(e){this.Ta=e.Ts,this.da=ce();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},dv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},hv=class{constructor(e){this.key=e,this.va=!1}},fv=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Tr(c=>mS(c),Id),this.Ma=new Map,this.xa=new Set,this.Oa=new xe(H.comparator),this.Na=new Map,this.La=new $a,this.Ba={},this.ka=new Map,this.qa=Ba.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function fj(n,e,t=!0){return w(this,null,function*(){let r=QS(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield zS(r,e,t,!0),i})}function pj(n,e){return w(this,null,function*(){let t=QS(n);yield zS(t,e,!0,!1)})}function zS(n,e,t,r){return w(this,null,function*(){let i=yield QU(n.localStore,gn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield gj(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&VS(n.remoteStore,i),c})}function gj(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,y,I)=>function(N,R,k,V){return w(this,null,function*(){let z=R.view.ma(k);z.ns&&(z=yield KC(N.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let ie=V&&V.targetChanges.get(R.targetId),Ae=V&&V.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(z,N.isPrimaryClient,ie,Ae);return XC(N,R.targetId,J.wa),J.snapshot})}(n,p,y,I);let s=yield KC(n.localStore,e,!0),o=new lv(e,s.Ts),c=o.ma(s.documents),u=Ua.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);XC(n,t,l.wa);let f=new dv(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function mj(n,e,t){return w(this,null,function*(){let r=Z(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Id(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Qy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Ov(r.remoteStore,i.targetId),pv(r,i.targetId)}).catch(Wa))):(pv(r,i.targetId),yield Qy(r.localStore,i.targetId,!0))})}function yj(n,e){return w(this,null,function*(){let t=Z(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ov(t.remoteStore,r.targetId))})}function vj(n,e,t){return w(this,null,function*(){let r=bj(n);try{let i=yield function(o,c){let u=Z(o),l=Ge.now(),f=c.reduce((I,S)=>I.add(S.key),ce()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=$n(),N=ce();return u.cs.getEntries(I,f).next(R=>{S=R,S.forEach((k,V)=>{V.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let k=[];for(let V of c){let z=DU(V,p.get(V.key).overlayedDocument);z!=null&&k.push(new Hn(V.key,z,lS(z.value.mapValue),ui.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,k,c)}).next(R=>{y=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(I,R.batchId,k)})}).then(()=>({batchId:y.batchId,changes:_S(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new xe(ge)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Ya(r,i.changes),yield Td(r.remoteStore)}catch(i){let s=Vv(i,"Failed to persist write");t.reject(s)}})}function qS(n,e){return w(this,null,function*(){let t=Z(n);try{let r=yield GU(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ie(o.va):i.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),yield Ya(t,r,e)}catch(r){yield Wa(r)}})}function JC(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Z(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Uv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _j(n,e,t){return w(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new xe(H.comparator);o=o.insert(s,Kt.newNoDocument(s,ee.min()));let c=ce().add(s),u=new Yl(ee.min(),new Map,new xe(ge),o,c);yield qS(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),jv(r)}else yield Qy(r.localStore,e,!1).then(()=>pv(r,e,t)).catch(Wa)})}function Ij(n,e){return w(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield qU(t.localStore,e);WS(t,r,null),GS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ya(t,i)}catch(i){yield Wa(i)}})}function wj(n,e,t){return w(this,null,function*(){let r=Z(n);try{let i=yield function(o,c){let u=Z(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ie(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);WS(r,e,t),GS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ya(r,i)}catch(i){yield Wa(i)}})}function GS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function WS(n,e,t){let r=Z(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||KS(n,r)})}function KS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Ov(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),jv(n))}function XC(n,e,t){for(let r of t)r instanceof ud?(n.La.addReference(r.key,e),Ej(n,r)):r instanceof ld?(F("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||KS(n,r.key)):G()}function Ej(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(F("SyncEngine","New document in limbo: "+t),n.xa.add(r),jv(n))}function jv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new H(Me.fromString(e)),r=n.qa.next();n.Na.set(r,new hv(t)),n.Oa=n.Oa.insert(t,r),VS(n.remoteStore,new ja(gn(Mv(t.path)),r,"TargetPurposeLimboResolution",oS.oe))}}function Ya(n,e,t){return w(this,null,function*(){let r=Z(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=qy.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Z(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>x.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!Ka(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=f.os.get(y),S=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(y,N)}}})}(r.localStore,s))})}function Dj(n,e){return w(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield LS(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(M.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ya(t,r.hs)}})}function Tj(n,e){let t=Z(n),r=t.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function QS(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_j.bind(null,e),e.Ca.d_=dj.bind(null,e.eventManager),e.Ca.$a=hj.bind(null,e.eventManager),e}function bj(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}var dd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return zU(this.persistence,new Wy,e.initialUser,this.serializer)}createPersistence(e){return new $y(zy.Zr,this.serializer)}createSharedClientState(e){return new Yy}terminate(){return w(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var gv=class{initialize(e,t){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),yield cj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new av}()}createDatastore(e){let t=Ed(e.databaseInfo.databaseId),r=function(s){return new Xy(s)}(e.databaseInfo);return function(s,o,c,u){return new nv(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,c){return new iv(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,t=>JC(this.syncEngine,t,0),function(){return rd.D()?new rd:new Zy}())}createSyncEngine(e,t){return function(i,s,o,c,u,l,f){let p=new fv(i,s,o,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return w(this,null,function*(){var e,t;yield function(i){return w(this,null,function*(){let s=Z(i);F("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Qa(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var mv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var yv=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=Hl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>w(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Vv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gm(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield LS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function eS(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Sj(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>QC(e.remoteStore,i)),n._onlineComponents=e})}function Cj(n){return n.name==="FirebaseError"?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function Sj(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gm(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!Cj(t))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),yield Gm(n,new dd)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Gm(n,new dd);return n._offlineComponents})}function YS(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield eS(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield eS(n,new gv))),n._onlineComponents})}function Aj(n){return YS(n).then(e=>e.syncEngine)}function tS(n){return w(this,null,function*(){let e=yield YS(n),t=e.eventManager;return t.onListen=fj.bind(null,e.syncEngine),t.onUnlisten=mj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yj.bind(null,e.syncEngine),t})}function ZS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var nS=new Map;function JS(n,e,t){if(!t)throw new U(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Rj(n,e,t,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rS(n){if(!H.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iS(n){if(H.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G()}function ka(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Bv(n);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var hd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},zs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wm;switch(r.type){case"firstParty":return new Zm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=nS.get(t);r&&(F("ComponentProvider","Removing Datastore"),nS.delete(t),r.terminate())}(this),Promise.resolve()}};function XS(n,e,t,r={}){var i;let s=(n=ka(n,zs))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=He.MOCK_USER;else{c=ub(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new He(l)}n._authCredentials=new Km(new $l(c,u))}}var fd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Er=class n extends fd{constructor(e,t,r){super(e,t,Mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function e0(n,e,...t){if(n=mt(n),JS("collection","path",e),n instanceof zs){let r=Me.fromString(e,...t);return iS(r),new Er(n,null,r)}{if(!(n instanceof Ft||n instanceof Er))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return iS(r),new Er(n.firestore,null,r)}}function t0(n,e,...t){if(n=mt(n),arguments.length===1&&(e=Hl.newId()),JS("doc","path",e),n instanceof zs){let r=Me.fromString(e,...t);return rS(r),new Ft(n,null,new H(r))}{if(!(n instanceof Ft||n instanceof Er))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return rS(r),new Ft(n.firestore,n instanceof Er?n.converter:null,new H(r))}}var vv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new id(this,"async_queue_retry"),this.Eu=()=>{let t=qm();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=qm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Un;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ka(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let i=sv.createAndSchedule(this,e,t,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function sS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var qs=class extends zs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new vv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||i0(this),this._firestoreClient.terminate()}};function n0(n,e){let t=typeof n=="object"?n:_s(),r=typeof n=="string"?n:e||"(default)",i=va(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=cb("firestore");s&&XS(i,...s)}return i}function r0(n){return n._firestoreClient||i0(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function i0(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,l,f){return new ny(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ZS(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new yv(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ha=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ct.fromBase64String(e))}catch(t){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var za=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pd=class{constructor(e){this._methodName=e}};var qa=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var Ga=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Nj=/^__.*__$/,_v=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Hn(e,this.data,this.fieldMask,t,this.fieldTransforms):new gi(e,this.data,t,this.fieldTransforms)}};function s0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Iv=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return gd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(s0(this.wu)&&Nj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},wv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ed(e)}Nu(e,t,r,i=!1){return new Iv({wu:e,methodName:t,Ou:r,path:St.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Mj(n){let e=n._freezeSettings(),t=Ed(n._databaseId);return new wv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xj(n,e,t,r,i,s={}){let o=n.Nu(s.merge||s.mergeFields?2:0,e,t,i);u0("Data must be an object, but it was:",o,r);let c=a0(r,o),u,l;if(s.merge)u=new fn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let y=Pj(e,p,t);if(!o.contains(y))throw new U(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);kj(f,y)||f.push(y)}u=new fn(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new _v(new Wt(c),u,l)}function o0(n,e){if(c0(n=mt(n)))return u0("Unsupported field value:",e,n),a0(n,e);if(n instanceof pd)return function(r,i){if(!s0(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=o0(c,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ge.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof Ge){let s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof qa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ha)return{bytesValue:RS(i.serializer,r._byteString)};if(r instanceof Ft){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Pv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ga)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return xv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Bv(r)}`)}(n,e)}function a0(n,e){let t={};return aS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,(r,i)=>{let s=o0(i,e.bu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function c0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ge||n instanceof qa||n instanceof Ha||n instanceof Ft||n instanceof pd||n instanceof Ga)}function u0(n,e,t){if(!c0(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Bv(t);throw r==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+r)}}function Pj(n,e,t){if((e=mt(e))instanceof za)return e._internalPath;if(typeof e=="string")return l0(n,e);throw gd("Field path arguments must be of type string or ",n,!1,void 0,t)}var Oj=new RegExp("[~\\*/\\[\\]]");function l0(n,e,t){if(e.search(Oj)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new za(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gd(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,c+n+u)}function kj(n,e){return n.some(t=>t.isEqual(e))}var md=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ev(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(d0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ev=class extends md{data(){return super.data()}};function d0(n,e){return typeof e=="string"?l0(n,e):e instanceof za?e._internalPath:e._delegate._internalPath}function Lj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dv=class{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ws(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ce(o.doubleValue));return new Ga(s)}convertGeoPoint(e){return new qa(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Sv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){let t=Bn(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Me.fromString(e);Ie(kS(r));let i=new Wl(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Fj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ci=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yd=class extends md{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ms(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(d0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ms=class extends yd{data(e={}){return super.data(e)}},Tv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ci(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ms(this._firestore,this._userDataWriter,r.key,r,new ci(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new Ms(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ci(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new Ms(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ci(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:Vj(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Vj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var vd=class extends Dv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function $v(n,e){let t=ka(n.firestore,qs),r=t0(n),i=Fj(n.converter,e);return Uj(t,[xj(Mj(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then(()=>r)}function Hv(n,...e){var t,r,i;n=mt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||sS(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(sS(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof Ft)l=ka(n.firestore,qs),f=Mv(n._key.path),u={next:p=>{e[o]&&e[o](jj(l,n,p))},error:e[o+1],complete:e[o+2]};else{let p=ka(n,fd);l=ka(p.firestore,qs),f=p._query;let y=new vd(l);u={next:I=>{e[o]&&e[o](new Tv(l,y,p,I))},error:e[o+1],complete:e[o+2]},Lj(n._query)}return function(y,I,S,N){let R=new mv(N),k=new uv(I,R,S);return y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return uj(yield tS(y),k)})),()=>{R.za(),y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return lj(yield tS(y),k)}))}}(r0(l),f,c,u)}function Uj(n,e){return function(r,i){let s=new Un;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return vj(yield Aj(r),i,s)})),s.promise}(r0(n),e)}function jj(n,e,t){let r=t.docs.get(e._key),i=new vd(n);return new yd(n,i,e._key,r,new ci(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Gs=i})(mr),gr(new Lt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new qs(new Qm(r.getProvider("auth-internal")),new Xm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ve(AC,"4.7.2",e),Ve(AC,"4.7.2","esm2017")})();var bd=function(){return bd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bd.apply(this,arguments)};var Hj={includeMetadataChanges:!1};function h0(n,e){return e===void 0&&(e=Hj),new ue(function(t){var r=Hv(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function f0(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:bd(bd({},r),(t={},t[e.idField]=n.id,t))}function p0(n){return h0(n,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function g0(n,e){return e===void 0&&(e={}),p0(n).pipe(re(function(t){return t.map(function(r){return f0(r,e)})}))}var Qt=class{constructor(e){return e}},m0="firestore",zv=class{constructor(){return _a(m0)}};var qv=new $("angularfire2.firestore-instances");function zj(n,e){let t=yl(m0,n,e);return t&&new Qt(t)}function qj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Qt(r)}}var Gj={provide:zv,deps:[[new rt,qv]]},Wj={provide:Qt,useFactory:zj,deps:[[new rt,qv],kn]};function y0(n,...e){return Ve("angularfire",ei.full,"fst"),rn([Wj,Gj,{provide:qv,useFactory:qj(n),multi:!0,deps:[me,nt,Es,ti,[new rt,Sa],[new rt,ws],...e]}])}var Cd=yr(g0,!0);var Qs=yr(e0,!0);var v0=yr(n0,!0);function Qj(n,e){if(n&1){let t=Ou();Ee(0,"div",1)(1,"div",2)(2,"div")(3,"h5",3),st(4),De(),Ee(5,"p",3),st(6),De()(),Ee(7,"a",4),Dt("click",function(){let i=Zi(t).$implicit,s=DD(2);return Ji(s.flipCard(i))}),it(8,"img",5),De()()()}if(n&2){let t=e.$implicit;ts(4),Lu(t.front),ts(2),Lu(t.back)}}function Yj(n,e){n&1&&wD(0,Qj,9,2,"div",1,ID),n&2&&ED(e)}function Zj(n,e){n&1&&(Ee(0,"h1"),st(1,"Du hast noch keine Karteikarten erstellt!"),De())}var Sd=class n{constructor(e){this.firestore=e;let t=Qs(this.firestore,"karteikarten");this.karteikarten=Cd(t),console.log("Cards loaded...")}karteikarten;flipCard(e){e.flipped=!e.flipped}static \u0275fac=function(t){return new(t||n)(we(Qt))};static \u0275cmp=Mt({type:n,selectors:[["app-card-overview"]],standalone:!0,features:[Ot],decls:4,vars:3,consts:[["id","overview-page",1,"d-flex","flex-column","flex-lg-row","align-items-center","align-items-lg-start","justify-content-center"],[1,"card"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"btn","btn-primary","ms-3","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../assets/icon-settings.png","id","icon-button"]],template:function(t,r){if(t&1&&(Ee(0,"div",0),Pu(1,Yj,2,0),ND(2,"async"),Pu(3,Zj,2,0,"h1"),De()),t&2){let i;ts(),_D((i=MD(2,1,r.karteikarten))?1:3,i)}},dependencies:[$o,XD],styles:[".card[_ngcontent-%COMP%]{width:100%;min-width:18rem;max-width:20rem;max-height:10rem;margin:10px;cursor:pointer}.card[_ngcontent-%COMP%]:hover{background-color:#d6a2e033}#icon-button[_ngcontent-%COMP%]{max-width:15px;object-fit:cover;cursor:pointer}"]})};var Rd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Mt({type:n,selectors:[["app-card-decks"]],standalone:!0,features:[Ot],decls:2,vars:0,template:function(t,r){t&1&&(Ee(0,"p"),st(1,"card-decks works!"),De())}})};var _0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Rd},{path:"cards",component:Sd}];var I0={production:!0,firebase:{projectId:"karteikarten-marcokrooss",appId:"1:51557077833:web:a61181604ef4bf30118098",storageBucket:"karteikarten-marcokrooss.appspot.com",apiKey:"AIzaSyCS_Oir9t84yCwd0FFp3kAS7tLGm1qK5oQ",authDomain:"karteikarten-marcokrooss.firebaseapp.com",messagingSenderId:"51557077833"}};var w0={providers:[LD({eventCoalescing:!0}),XT(_0),Pb(()=>Ob(I0.firebase)),TC(()=>bC()),y0(()=>v0())]};var Ys=class n{showModalSource=new Le(!1);showModal$=this.showModalSource.asObservable();openModal(){this.showModalSource.next(!0)}closeModal(){this.showModalSource.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jj=()=>["/cards"],Nd=class n{constructor(e){this.modalService=e}onNewCardButtonClick(){console.log("Create new Card!"),this.modalService.openModal()}onSettingsButtonClick(){console.log("Go to settings!")}onListButtonClick(){console.log("All cards")}onUserButtonClick(){console.log("Go to UserAccount!")}static \u0275fac=function(t){return new(t||n)(we(Ys))};static \u0275cmp=Mt({type:n,selectors:[["app-header"]],standalone:!0,features:[Ot],decls:11,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid","d-flex","flex-column","flex-lg-row","justify-content-center","justify-content-lg-end"],[1,"container-fluid","d-flex","d-lg-block","justify-content-center","mb-3","mb-lg-0"],["src","../../assets/logo-panda.png","routerLink","/home",1,"header-logo","hidden","visible-lg"],["role","search",1,"d-flex"],["role","button",1,"btn","btn-primary","me-2",3,"click"],["src","../../assets/icon-add.png","id","header-icon-add"],["routerLinkActive","router-link-active","role","button",1,"btn","btn-secondary","me-2",3,"click","routerLink"],["src","../../assets/icon-list.png","id","header-icon-list"],["href","#","role","button",1,"btn","btn-dark","me-2",3,"click"],["src","../../assets/icon-account.png","id","header-icon-account"]],template:function(t,r){t&1&&(Ee(0,"nav",0)(1,"div",1)(2,"div",2),it(3,"img",3),De(),Ee(4,"form",4)(5,"a",5),Dt("click",function(){return r.onNewCardButtonClick()}),it(6,"img",6),De(),Ee(7,"a",7),Dt("click",function(){return r.onListButtonClick()}),it(8,"img",8),De(),Ee(9,"a",9),Dt("click",function(){return r.onUserButtonClick()}),it(10,"img",10),De()()()()),t&2&&(ts(7),jo("routerLink",AD(1,Jj)))},dependencies:[ib,al,ZT],styles:[".header-logo[_ngcontent-%COMP%]{width:100%;max-width:50px;margin-right:1%;cursor:pointer}#header-icon-add[_ngcontent-%COMP%], #header-icon-list[_ngcontent-%COMP%], #header-icon-settings[_ngcontent-%COMP%], #header-icon-account[_ngcontent-%COMP%]{width:100%;max-width:30px;object-fit:cover;cursor:pointer}"]})};var Xj=n=>({show:n}),e2=n=>({display:n}),Md=class n{constructor(e){this.modalService=e}showModal=!1;firestore=P(Qt);karteikartenCollection;ngOnInit(){this.modalService.showModal$.subscribe(e=>{this.showModal=e}),this.karteikartenCollection=Qs(this.firestore,"karteikarten")}onSave(e,t,r){if(this.karteikartenCollection)try{$v(this.karteikartenCollection,{front:e.value,back:t.value,topic:r.value,userId:"USERID"}),console.log("Card successfully saved!"),e.value="",t.value="",r.value=""}catch(i){console.error("Error saving card: ",i)}this.modalService.closeModal()}onCancel(){this.modalService.closeModal()}static \u0275fac=function(t){return new(t||n)(we(Ys))};static \u0275cmp=Mt({type:n,selectors:[["app-card-creation"]],standalone:!0,features:[Ot],decls:35,vars:6,consts:[["cardFront",""],["cardBack",""],["cardTopic",""],["tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade",3,"ngClass","ngStyle"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","card-front",1,"form-label"],["type","text","id","card-front","aria-describedby","frontHelp","maxlength","30",1,"form-control"],["id","frontHelp",1,"form-text"],["for","card-back",1,"form-label"],["type","text","id","card-back","aria-describedby","backHelp","maxlength","30",1,"form-control"],["id","backHelp",1,"form-text"],["for","card-topic",1,"form-label"],["type","text","id","card-topic","aria-describedby","topicHelp","maxlength","20",1,"form-control"],["id","topicHelp",1,"form-text"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){if(t&1){let i=Ou();Ee(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h5",7),st(5,"Erstelle deine Karteikarte:"),De(),Ee(6,"button",8),Dt("click",function(){return Zi(i),Ji(r.onCancel())}),De()(),Ee(7,"div",9)(8,"form")(9,"div",10)(10,"label",11),st(11,"Vorderseite"),De(),it(12,"input",12,0),Ee(14,"div",13),st(15,"Vorderseite deiner Karteikarte"),De()(),Ee(16,"div",10)(17,"label",14),st(18,"R\xFCckseite"),De(),it(19,"input",15,1),Ee(21,"div",16),st(22,"R\xFCckseite deiner Karteikarte"),De()(),Ee(23,"div",10)(24,"label",17),st(25,"Thema"),De(),it(26,"input",18,2),Ee(28,"div",19),st(29,"R\xFCckseite deiner Karteikarte"),De()()()(),Ee(30,"div",20)(31,"button",21),Dt("click",function(){return Zi(i),Ji(r.onCancel())}),st(32,"Abbrechen"),De(),Ee(33,"button",22),Dt("click",function(){Zi(i);let o=ku(13),c=ku(20),u=ku(27);return Ji(r.onSave(o,c,u))}),st(34,"Speichern"),De()()()()()}t&2&&jo("ngClass",bp(2,Xj,r.showModal))("ngStyle",bp(4,e2,r.showModal?"block":"none"))},dependencies:[$o,ZD,JD]})};var xd=class n{firestore=P(Qt);karteikarten$;title="karteikarten";current="";setCurrent(e){console.log("It's working",e),this.current=e}constructor(){let e=Qs(this.firestore,"karteikarten");this.karteikarten$=Cd(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Mt({type:n,selectors:[["app-root"]],standalone:!0,features:[Ot],decls:3,vars:0,template:function(t,r){t&1&&it(0,"app-header")(1,"router-outlet")(2,"app-card-creation")},dependencies:[Tg,Nd,Md]})};cT(xd,w0).catch(n=>console.error(n));
