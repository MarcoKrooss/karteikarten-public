var oA=Object.defineProperty,sA=Object.defineProperties;var aA=Object.getOwnPropertyDescriptors;var J_=Object.getOwnPropertySymbols,cA=Object.getPrototypeOf,uA=Object.prototype.hasOwnProperty,lA=Object.prototype.propertyIsEnumerable,dA=Reflect.get;var X_=(n,e,t)=>e in n?oA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})uA.call(e,t)&&X_(n,t,e[t]);if(J_)for(var t of J_(e))lA.call(e,t)&&X_(n,t,e[t]);return n},Ce=(n,e)=>sA(n,aA(e));var Kn=(n,e,t)=>dA(cA(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var uh=null;var ch=1,eI=Symbol("SIGNAL");function oe(n){let e=uh;return uh=n,e}function tI(){return uh}var lh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hA(n){if(!(gh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ch)){if(!n.producerMustRecompute(n)&&!hh(n)){n.dirty=!1,n.lastCleanEpoch=ch;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ch}}function dh(n){return n&&(n.nextProducerIndex=0),oe(n)}function nI(n,e){if(oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(gh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ph(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function hh(n){mh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(hA(t),r!==t.version))return!0}return!1}function fh(n){if(mh(n),gh(n))for(let e=0;e<n.producerNode.length;e++)ph(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ph(n,e){if(fA(n),n.liveConsumerNode.length===1&&pA(n))for(let r=0;r<n.producerNode.length;r++)ph(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];mh(i),i.producerIndexOfThis[r]=e}}function gh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function mh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function fA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function pA(n){return n.producerNode!==void 0}function gA(){throw new Error}var mA=gA;function rI(n){mA=n}function X(n){return typeof n=="function"}function Ti(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var mc=Ti(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function xr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof mc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{iI(o)}catch(s){e=e??[],s instanceof mc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)iI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&xr(t,e)}remove(e){let{_finalizers:t}=this;t&&xr(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var yh=Ne.EMPTY;function yc(n){return n instanceof Ne||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function iI(n){X(n)?n():n.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ci={setTimeout(n,e,...t){let{delegate:r}=Ci;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ci;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function vc(n){Ci.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(n);else throw n})}function _s(){}var oI=vh("C",void 0,void 0);function sI(n){return vh("E",void 0,n)}function aI(n){return vh("N",n,void 0)}function vh(n,e,t){return{kind:n,value:e,error:t}}var Pr=null;function bi(n){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!Pr;if(e&&(Pr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Pr;if(Pr=null,t)throw r}}else n()}function cI(n){Ut.useDeprecatedSynchronousErrorHandling&&Pr&&(Pr.errorThrown=!0,Pr.error=n)}var kr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yc(e)&&e.add(this)):this.destination=_A}static create(e,t,r){return new Si(e,t,r)}next(e){this.isStopped?Ih(aI(e),this):this._next(e)}error(e){this.isStopped?Ih(sI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ih(oI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yA=Function.prototype.bind;function _h(n,e){return yA.call(n,e)}var wh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_c(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_c(r)}else _c(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_c(t)}}},Si=class extends kr{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ut.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_h(e.next,o),error:e.error&&_h(e.error,o),complete:e.complete&&_h(e.complete,o)}):i=e}this.destination=new wh(i)}};function _c(n){Ut.useDeprecatedSynchronousErrorHandling?cI(n):vc(n)}function vA(n){throw n}function Ih(n,e){let{onStoppedNotification:t}=Ut;t&&Ci.setTimeout(()=>t(n,e))}var _A={closed:!0,next:_s,error:vA,complete:_s};var Ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(n){return n}function Ic(...n){return Eh(n)}function Eh(n){return n.length===0?wt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=wA(t)?t:new Si(t,r,i);return bi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=uI(r),new r((i,o)=>{let s=new Si({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ai](){return this}pipe(...t){return Eh(t)(this)}toPromise(t){return t=uI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function uI(n){var e;return(e=n??Ut.Promise)!==null&&e!==void 0?e:Promise}function IA(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function wA(n){return n&&n instanceof kr||IA(n)&&yc(n)}function Dh(n){return X(n?.lift)}function le(n){return e=>{if(Dh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Th(n,e,t,r,i)}var Th=class extends kr{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ri(){return le((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ni=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Dh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ri()(this)}};var lI=Ti(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new lI}next(t){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yh:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,xr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new wc(e,t),n})(),wc=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:yh}};var Fe=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ch={now(){return(Ch.delegate||Date).now()},delegate:void 0};var Ec=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var Is={setInterval(n,e,...t){let{delegate:r}=Is;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Is;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Mi=class extends Ec{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Is.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Is.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var xi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};xi.now=Ch.now;var Pi=class extends xi{constructor(e,t=xi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var bh=new Pi(Mi);var Dc=class extends Mi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Tc=class extends Pi{};var Sh=new Tc(Dc);var Et=new ue(n=>n.complete());function dI(n){return n&&X(n.schedule)}function hI(n){return n[n.length-1]}function fI(n){return X(hI(n))?n.pop():void 0}function Qn(n){return dI(hI(n))?n.pop():void 0}function Ah(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function gI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function pI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(n){return this instanceof Or?(this.v=n,this):new Or(n)}function mI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(N){return new Promise(function(R,O){o.push([I,N,R,O])>1||u(I,N)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(N){y(o[0][3],N)}}function l(I){I.value instanceof Or?Promise.resolve(I.value.v).then(f,p):y(o[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function y(I,S){I(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function yI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pI=="function"?pI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Cc=n=>n&&typeof n.length=="number"&&typeof n!="function";function bc(n){return X(n?.then)}function Sc(n){return X(n[Ai])}function Ac(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function Rc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function EA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nc=EA();function Mc(n){return X(n?.[Nc])}function xc(n){return mI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Or(t.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{t.releaseLock()}})}function Pc(n){return X(n?.getReader)}function Be(n){if(n instanceof ue)return n;if(n!=null){if(Sc(n))return DA(n);if(Cc(n))return TA(n);if(bc(n))return CA(n);if(Ac(n))return vI(n);if(Mc(n))return bA(n);if(Pc(n))return SA(n)}throw Rc(n)}function DA(n){return new ue(e=>{let t=n[Ai]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TA(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function CA(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,vc)})}function bA(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function vI(n){return new ue(e=>{AA(n,e).catch(t=>e.error(t))})}function SA(n){return vI(xc(n))}function AA(n,e){var t,r,i,o;return gI(this,void 0,void 0,function*(){try{for(t=yI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function ft(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Yn(n,e=0){return le((t,r)=>{t.subscribe(de(r,i=>ft(r,n,()=>r.next(i),e),()=>ft(r,n,()=>r.complete(),e),i=>ft(r,n,()=>r.error(i),e)))})}function Zn(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function _I(n,e){return Be(n).pipe(Zn(e),Yn(e))}function II(n,e){return Be(n).pipe(Zn(e),Yn(e))}function wI(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function EI(n,e){return new ue(t=>{let r;return ft(t,e,()=>{r=n[Nc](),ft(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function kc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{ft(t,e,()=>{let r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function DI(n,e){return kc(xc(n),e)}function TI(n,e){if(n!=null){if(Sc(n))return _I(n,e);if(Cc(n))return wI(n,e);if(bc(n))return II(n,e);if(Ac(n))return kc(n,e);if(Mc(n))return EI(n,e);if(Pc(n))return DI(n,e)}throw Rc(n)}function Se(n,e){return e?TI(n,e):Be(n)}function q(...n){let e=Qn(n);return Se(n,e)}function ki(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function Rh(n){return!!n&&(n instanceof ue||X(n.lift)&&X(n.subscribe))}var En=Ti(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function re(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:RA}=Array;function NA(n,e){return RA(e)?n(...e):n(e)}function CI(n){return re(e=>NA(n,e))}var{isArray:MA}=Array,{getPrototypeOf:xA,prototype:PA,keys:kA}=Object;function bI(n){if(n.length===1){let e=n[0];if(MA(e))return{args:e,keys:null};if(OA(e)){let t=kA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function OA(n){return n&&typeof n=="object"&&xA(n)===PA}function SI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ws(...n){let e=Qn(n),t=fI(n),{args:r,keys:i}=bI(n);if(r.length===0)return Se([],e);let o=new ue(LA(r,e,i?s=>SI(i,s):wt));return t?o.pipe(CI(t)):o}function LA(n,e,t=wt){return r=>{AI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)AI(e,()=>{let l=Se(n[u],e),f=!1;l.subscribe(de(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function AI(n,e,t){n?ft(t,n,e):e()}function RI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let R=!1;Be(t(N,f++)).subscribe(de(e,O=>{i?.(O),o?I(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?ft(e,s,()=>S(O)):S(O)}y()}catch(O){e.error(O)}}))};return n.subscribe(de(e,I,()=>{p=!0,y()})),()=>{c?.()}}function ke(n,e,t=1/0){return X(e)?ke((r,i)=>re((o,s)=>e(r,o,i,s))(Be(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>RI(r,i,n,t)))}function Jn(n=1/0){return ke(wt,n)}function NI(){return Jn(1)}function Oi(...n){return NI()(Se(n,Qn(n)))}function Oc(n){return new ue(e=>{Be(n()).subscribe(e)})}function Dt(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Xn(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=Be(n(s,Xn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function MI(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(de(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Lr(n,e){return X(e)?ke(n,e,1):ke(n,1)}function er(n){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Dn(n){return n<=0?()=>Et:le((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Nh(n){return re(()=>n)}function Lc(n=FA){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function FA(){return new En}function Es(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Zt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):wt,Dn(1),t?er(e):Lc(()=>new En))}function Li(n){return n<=0?()=>Et:le((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Mh(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):wt,Li(1),t?er(e):Lc(()=>new En))}function Fc(n,e){return le(MI(n,e,arguments.length>=2,!0))}function Vc(...n){let e=Qn(n);return le((t,r)=>{(e?Oi(n,t,e):Oi(n,t)).subscribe(r)})}function Nt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=o++;Be(n(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function xh(n){return le((e,t)=>{Be(n).subscribe(de(t,()=>t.complete(),_s)),!t.closed&&e.subscribe(t)})}function Ve(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var fw="https://g.co/ng/security#xss",B=class extends Error{constructor(e,t){super(Bf(e,t)),this.code=e}};function Bf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ls(n){return{toString:n}.toString()}var Uc="__parameters__";function VA(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function pw(n,e,t){return Ls(()=>{let r=VA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Uc)?u[Uc]:Object.defineProperty(u,Uc,{value:[]})[Uc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $h=globalThis;function Ee(n){for(let e in n)if(n[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function xI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var UA=Ee({__forward_ref__:Ee});function gw(n){return n.__forward_ref__=gw,n.toString=function(){return Tt(this())},n}function Mt(n){return mw(n)?n():n}function mw(n){return typeof n=="function"&&n.hasOwnProperty(UA)&&n.__forward_ref__===gw}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fs(n){return{providers:n.providers||[],imports:n.imports||[]}}function gu(n){return PI(n,vw)||PI(n,_w)}function yw(n){return gu(n)!==null}function PI(n,e){return n.hasOwnProperty(e)?n[e]:null}function jA(n){let e=n&&(n[vw]||n[_w]);return e||null}function kI(n){return n&&(n.hasOwnProperty(OI)||n.hasOwnProperty(BA))?n[OI]:null}var vw=Ee({\u0275prov:Ee}),OI=Ee({\u0275inj:Ee}),_w=Ee({ngInjectableDef:Ee}),BA=Ee({ngInjectorDef:Ee}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Iw(n){return n&&!!n.\u0275providers}var $A=Ee({\u0275cmp:Ee}),HA=Ee({\u0275dir:Ee}),zA=Ee({\u0275pipe:Ee}),qA=Ee({\u0275mod:Ee}),Kc=Ee({\u0275fac:Ee}),Ts=Ee({__NG_ELEMENT_ID__:Ee}),LI=Ee({__NG_ENV_ID__:Ee});function mu(n){return typeof n=="string"?n:n==null?"":String(n)}function GA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():mu(n)}function WA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,n)}function $f(n,e){throw new B(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),Hh;function ww(){return Hh}function pt(n){let e=Hh;return Hh=n,e}function Ew(n,e,t){let r=gu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;$f(n,"Injector")}var KA={},Cs=KA,zh="__NG_DI_FLAG__",Qc="ngTempTokenPath",QA="ngTokenPath",YA=/\n/gm,ZA="\u0275",FI="__source",Bi;function JA(){return Bi}function tr(n){let e=Bi;return Bi=n,e}function XA(n,e=ne.Default){if(Bi===void 0)throw new B(-203,!1);return Bi===null?Ew(n,void 0,e):Bi.get(n,e&ne.Optional?null:void 0,e)}function K(n,e=ne.Default){return(ww()||XA)(Mt(n),e)}function P(n,e=ne.Default){return K(n,yu(e))}function yu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qh(n){let e=[];for(let t=0;t<n.length;t++){let r=Mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let c=r[s],u=eR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(K(i,o))}else e.push(K(r))}return e}function Dw(n,e){return n[zh]=e,n.prototype[zh]=e,n}function eR(n){return n[zh]}function tR(n,e,t,r){let i=n[Qc];throw e[FI]&&i.unshift(e[FI]),n.message=nR(`
`+n.message,i,t,r),n[QA]=i,n[Qc]=null,n}function nR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==ZA?n.slice(2):n;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Tt(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(YA,`
  `)}`}var ot=Dw(pw("Optional"),8);var Hf=Dw(pw("SkipSelf"),4);function Vr(n,e){let t=n.hasOwnProperty(Kc);return t?n[Kc]:null}function rR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function iR(n){return n.flat(Number.POSITIVE_INFINITY)}function zf(n,e){n.forEach(t=>Array.isArray(t)?zf(t,e):e(t))}function Tw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var bs={},Jt=[],Hi=new $(""),Cw=new $("",-1),bw=new $(""),Zc=class{get(e,t=Cs){if(t===Cs){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return t}},Sw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Sw||{}),tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(tn||{}),ir=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ir||{});function oR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Gh(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];sR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Aw(n){return n===3||n===4||n===6}function sR(n){return n.charCodeAt(0)===64}function qf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?VI(n,t,i,null,e[++r]):VI(n,t,i,null,null))}}return n}function VI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Rw="ng-template";function aR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Gf(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Gf(n){return n.type===4&&n.value!==Rw}function cR(n,e,t){let r=n.type===4&&!t?Rw:n.value;return e===r}function uR(n,e,t){let r=4,i=n.attrs,o=i!==null?hR(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!jt(r)&&!jt(u))return!1;if(s&&jt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!cR(n,u,t)||u===""&&e.length===1){if(jt(r))return!1;s=!0}}else if(r&8){if(i===null||!aR(n,i,u,t)){if(jt(r))return!1;s=!0}}else{let l=e[++c],f=lR(u,i,Gf(n),t);if(f===-1){if(jt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(jt(r))return!1;s=!0}}}}return jt(r)||s}function jt(n){return(n&1)===0}function lR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return fR(e,n)}function dR(n,e,t=!1){for(let r=0;r<e.length;r++)if(uR(n,e[r],t))return!0;return!1}function hR(n){for(let e=0;e<n.length;e++){let t=n[e];if(Aw(t))return e}return n.length}function fR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function UI(n,e){return n?":not("+e.trim()+")":e}function pR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jt(s)&&(e+=UI(o,i),i=""),r=s,o=o||!jt(r);t++}return i!==""&&(e+=UI(o,i)),e}function gR(n){return n.map(pR).join(",")}function mR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jt(i))break;i=o}r++}return{attrs:e,classes:t}}function mt(n){return Ls(()=>{let e=Ow(n),t=Ce(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Sw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||tn.Emulated,styles:n.styles||Jt,_:null,schemas:n.schemas||null,tView:null,id:""});Lw(t);let r=n.dependencies;return t.directiveDefs=BI(r,!1),t.pipeDefs=BI(r,!0),t.id=_R(t),t})}function yR(n){return or(n)||Mw(n)}function vR(n){return n!==null}function Vs(n){return Ls(()=>({type:n.type,bootstrap:n.bootstrap||Jt,declarations:n.declarations||Jt,imports:n.imports||Jt,exports:n.exports||Jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jI(n,e){if(n==null)return bs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c=ir.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=c!==ir.None?[r,c]:r,e[o]=s):t[o]=r}return t}function qr(n){return Ls(()=>{let e=Ow(n);return Lw(e),e})}function Nw(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function or(n){return n[$A]||null}function Mw(n){return n[HA]||null}function xw(n){return n[zA]||null}function Pw(n){let e=or(n)||Mw(n)||xw(n);return e!==null?e.standalone:!1}function kw(n,e){let t=n[qA]||null;if(!t&&e===!0)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function Ow(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||bs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Jt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jI(n.inputs,e),outputs:jI(n.outputs),debugInfo:null}}function Lw(n){n.features?.forEach(e=>e(n))}function BI(n,e){if(!n)return null;let t=e?xw:yR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(vR)}function _R(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function on(n){return{\u0275providers:n}}function IR(...n){return{\u0275providers:Fw(!0,n),\u0275fromNgModule:!0}}function Fw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return zf(e,s=>{let c=s;Wh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Vw(i,o),t}function Vw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Wf(i,o=>{e(o,r)})}}function Wh(n,e,t,r){if(n=Mt(n),!n)return!1;let i=null,o=kI(n),s=!o&&or(n);if(!o&&!s){let u=n.ngModule;if(o=kI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Wh(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{zf(o.imports,f=>{Wh(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Vw(l,e)}if(!c){let l=Vr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Jt},i),e({provide:bw,useValue:i,multi:!0},i),e({provide:Hi,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Wf(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Wf(n,e){for(let t of n)Iw(t)&&(t=t.\u0275providers),Array.isArray(t)?Wf(t,e):e(t)}var wR=Ee({provide:String,useValue:Ee});function Uw(n){return n!==null&&typeof n=="object"&&wR in n}function ER(n){return!!(n&&n.useExisting)}function DR(n){return!!(n&&n.useFactory)}function Kh(n){return typeof n=="function"}var vu=new $(""),$c={},TR={},Ph;function Kf(){return Ph===void 0&&(Ph=new Zc),Ph}var Ct=class{},Ss=class extends Ct{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yh(e,s=>this.processProvider(s)),this.records.set(Cw,Fi(void 0,this)),i.has("environment")&&this.records.set(Ct,Fi(void 0,this));let o=this.records.get(vu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bw,Jt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=tr(this),r=pt(void 0),i;try{return e()}finally{tr(t),pt(r)}}get(e,t=Cs,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(LI))return e[LI](this);r=yu(r);let i,o=tr(this),s=pt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=NR(e)&&gu(e);l&&this.injectableDefInScope(l)?u=Fi(Qh(e),$c):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?Kf():this.parent;return t=r&ne.Optional&&t===Cs?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Qc]=c[Qc]||[]).unshift(Tt(e)),o)throw c;return tR(c,e,"R3InjectorError",this.source)}else throw c}finally{pt(s),tr(o)}}resolveInjectorInitializers(){let e=oe(null),t=tr(this),r=pt(void 0),i;try{let o=this.get(Hi,Jt,ne.Self);for(let s of o)s()}finally{tr(t),pt(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=Mt(e);let t=Kh(e)?e:Mt(e&&e.provide),r=bR(e);if(!Kh(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Fi(void 0,$c,!0),i.factory=()=>qh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=oe(null);try{return t.value===$c&&(t.value=TR,t.value=t.factory()),typeof t.value=="object"&&t.value&&RR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Qh(n){let e=gu(n),t=e!==null?e.factory:Vr(n);if(t!==null)return t;if(n instanceof $)throw new B(204,!1);if(n instanceof Function)return CR(n);throw new B(204,!1)}function CR(n){if(n.length>0)throw new B(204,!1);let t=jA(n);return t!==null?()=>t.factory(n):()=>new n}function bR(n){if(Uw(n))return Fi(void 0,n.useValue);{let e=SR(n);return Fi(e,$c)}}function SR(n,e,t){let r;if(Kh(n)){let i=Mt(n);return Vr(i)||Qh(i)}else if(Uw(n))r=()=>Mt(n.useValue);else if(DR(n))r=()=>n.useFactory(...qh(n.deps||[]));else if(ER(n))r=()=>K(Mt(n.useExisting));else{let i=Mt(n&&(n.useClass||n.provide));if(AR(n))r=()=>new i(...qh(n.deps));else return Vr(i)||Qh(i)}return r}function Fi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function AR(n){return!!n.deps}function RR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function NR(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Yh(n,e){for(let t of n)Array.isArray(t)?Yh(t,e):t&&Iw(t)?Yh(t.\u0275providers,e):e(t)}function sn(n,e){n instanceof Ss&&n.assertNotDestroyed();let t,r=tr(n),i=pt(void 0);try{return e()}finally{tr(r),pt(i)}}function jw(){return ww()!==void 0||JA()!=null}function MR(n){if(!jw())throw new B(-203,!1)}function xR(n){return typeof n=="function"}var bn=0,Y=1,W=2,nt=3,Bt=4,Ht=5,As=6,Jc=7,et=8,zi=9,nn=10,rt=11,Rs=12,$I=13,Ji=14,$t=15,Ur=16,Vi=17,Tn=18,_u=19,Bw=20,nr=21,kh=22,xt=23,gt=25,$w=1;var jr=7,Xc=8,qi=9,tt=10,eu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(eu||{});function rr(n){return Array.isArray(n)&&typeof n[$w]=="object"}function Sn(n){return Array.isArray(n)&&n[$w]===!0}function Hw(n){return(n.flags&4)!==0}function Iu(n){return n.componentOffset>-1}function Qf(n){return(n.flags&1)===1}function Us(n){return!!n.template}function Zh(n){return(n[W]&512)!==0}var Jh=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function zw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Xi(){return qw}function qw(n){return n.type.prototype.ngOnChanges&&(n.setInput=kR),PR}Xi.ngInherit=!0;function PR(){let n=Ww(this),e=n?.current;if(e){let t=n.previous;if(t===bs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function kR(n,e,t,r,i){let o=this.declaredInputs[r],s=Ww(n)||OR(n,{previous:bs,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Jh(l&&l.currentValue,t,u===bs),zw(n,e,i,t)}var Gw="__ngSimpleChanges__";function Ww(n){return n[Gw]||null}function OR(n,e){return n[Gw]=e}var HI=null;var Xt=function(n,e,t){HI?.(n,e,t)},LR="svg",FR="math";function rn(n){for(;Array.isArray(n);)n=n[bn];return n}function VR(n,e){return rn(e[n])}function Pt(n,e){return rn(e[n.index])}function Yf(n,e){return n.data[e]}function Kw(n,e){return n[e]}function cr(n,e){let t=e[n];return rr(t)?t:t[bn]}function UR(n){return(n[W]&4)===4}function Zf(n){return(n[W]&128)===128}function jR(n){return Sn(n[nt])}function Gi(n,e){return e==null?null:n[e]}function Qw(n){n[Vi]=0}function Yw(n){n[W]&1024||(n[W]|=1024,Zf(n)&&Eu(n))}function BR(n,e){for(;n>0;)e=e[Ji],n--;return e}function wu(n){return!!(n[W]&9216||n[xt]?.dirty)}function Xh(n){n[nn].changeDetectionScheduler?.notify(8),n[W]&64&&(n[W]|=1024),wu(n)&&Eu(n)}function Eu(n){n[nn].changeDetectionScheduler?.notify(0);let e=Br(n);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Zf(e)));)e=Br(e)}function Zw(n,e){if((n[W]&256)===256)throw new B(911,!1);n[nr]===null&&(n[nr]=[]),n[nr].push(e)}function $R(n,e){if(n[nr]===null)return;let t=n[nr].indexOf(e);t!==-1&&n[nr].splice(t,1)}function Br(n){let e=n[nt];return Sn(e)?e[nt]:e}var se={lFrame:sE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jw=!1;function HR(){return se.lFrame.elementDepthCount}function zR(){se.lFrame.elementDepthCount++}function qR(){se.lFrame.elementDepthCount--}function Xw(){return se.bindingsEnabled}function GR(){return se.skipHydrationRootTNode!==null}function WR(n){return se.skipHydrationRootTNode===n}function KR(){se.skipHydrationRootTNode=null}function pe(){return se.lFrame.lView}function kt(){return se.lFrame.tView}function eo(n){return se.lFrame.contextLView=n,n[et]}function to(n){return se.lFrame.contextLView=null,n}function yt(){let n=eE();for(;n!==null&&n.type===64;)n=n.parent;return n}function eE(){return se.lFrame.currentTNode}function QR(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function js(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function tE(){return se.lFrame.isParent}function YR(){se.lFrame.isParent=!1}function ZR(){return se.lFrame.contextLView}function nE(){return Jw}function zI(n){Jw=n}function Jf(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function JR(n){return se.lFrame.bindingIndex=n}function Bs(){return se.lFrame.bindingIndex++}function XR(){return se.lFrame.inI18n}function eN(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,ef(e)}function tN(){return se.lFrame.currentDirectiveIndex}function ef(n){se.lFrame.currentDirectiveIndex=n}function rE(){return se.lFrame.currentQueryIndex}function Xf(n){se.lFrame.currentQueryIndex=n}function nN(n){let e=n[Y];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function iE(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=nN(o),i===null||(o=o[Ji],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=oE();return r.currentTNode=e,r.lView=n,!0}function ep(n){let e=oE(),t=n[Y];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function oE(){let n=se.lFrame,e=n===null?null:n.child;return e===null?sE(n):e}function sE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function aE(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cE=aE;function tp(){let n=aE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rN(n){return(se.lFrame.contextLView=BR(n,se.lFrame.contextLView))[et]}function Du(){return se.lFrame.selectedIndex}function $r(n){se.lFrame.selectedIndex=n}function uE(){let n=se.lFrame;return Yf(n.tView,n.selectedIndex)}function iN(){return se.lFrame.currentNamespace}var lE=!0;function np(){return lE}function rp(n){lE=n}function oN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qw(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function ip(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Hc(n,e,t){dE(n,e,3,t)}function zc(n,e,t,r){(n[W]&3)===t&&dE(n,e,t,r)}function Oh(n,e){let t=n[W];(t&3)===e&&(t&=16383,t+=1,n[W]=t)}function dE(n,e,t,r){let i=r!==void 0?n[Vi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Vi]+=65536),(c<o||o==-1)&&(sN(n,t,e,u),n[Vi]=(n[Vi]&4294901760)+u+2),u++}function qI(n,e){Xt(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),Xt(5,n,e)}}function sN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[W]>>14<n[Vi]>>16&&(n[W]&3)===e&&(n[W]+=16384,qI(c,o)):qI(c,o)}var $i=-1,Ns=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function aN(n){return n instanceof Ns}function cN(n){return(n.flags&8)!==0}function uN(n){return(n.flags&16)!==0}var Lh={},tf=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yu(r);let i=this.injector.get(e,Lh,r);return i!==Lh||t===Lh?i:this.parentInjector.get(e,t,r)}};function hE(n){return n!==$i}function tu(n){return n&32767}function lN(n){return n>>16}function nu(n,e){let t=lN(n),r=e;for(;t>0;)r=r[Ji],t--;return r}var nf=!0;function ru(n){let e=nf;return nf=n,e}var dN=256,fE=dN-1,pE=5,hN=0,en={};function fN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ts)&&(r=t[Ts]),r==null&&(r=t[Ts]=hN++);let i=r&fE,o=1<<i;e.data[n+(i>>pE)]|=o}function gE(n,e){let t=mE(n,e);if(t!==-1)return t;let r=e[Y];r.firstCreatePass&&(n.injectorIndex=e.length,Fh(r.data,n),Fh(e,null),Fh(r.blueprint,null));let i=op(n,e),o=n.injectorIndex;if(hE(i)){let s=tu(i),c=nu(i,e),u=c[Y].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Fh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function mE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function op(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=wE(i),r===null)return $i;if(t++,i=i[Ji],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $i}function pN(n,e,t){fN(n,e,t)}function gN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Aw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function yE(n,e,t){if(t&ne.Optional||n!==void 0)return n;$f(e,"NodeInjector")}function vE(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),!(t&(ne.Self|ne.Host))){let i=n[zi],o=pt(void 0);try{return i?i.get(e,r,t&ne.Optional):Ew(e,r,t&ne.Optional)}finally{pt(o)}}return yE(r,e,t)}function _E(n,e,t,r=ne.Default,i){if(n!==null){if(e[W]&2048&&!(r&ne.Self)){let s=_N(n,e,t,r,en);if(s!==en)return s}let o=IE(n,e,t,r,en);if(o!==en)return o}return vE(e,t,r,i)}function IE(n,e,t,r,i){let o=yN(t);if(typeof o=="function"){if(!iE(e,n,r))return r&ne.Host?yE(i,t,r):vE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))$f(t);else return s}finally{cE()}}else if(typeof o=="number"){let s=null,c=mE(n,e),u=$i,l=r&ne.Host?e[$t][Ht]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?op(n,e):e[c+8],u===$i||!WI(r,!1)?c=-1:(s=e[Y],c=tu(u),e=nu(u,e)));c!==-1;){let f=e[Y];if(GI(o,c,f.data)){let p=mN(c,e,t,s,r,l);if(p!==en)return p}u=e[c+8],u!==$i&&WI(r,e[Y].data[c+8]===l)&&GI(o,c,e)?(s=f,c=tu(u),e=nu(u,e)):c=-1}}return i}function mN(n,e,t,r,i,o){let s=e[Y],c=s.data[n+8],u=r==null?Iu(c)&&nf:r!=s&&(c.type&3)!==0,l=i&ne.Host&&o===c,f=qc(c,s,t,u,l);return f!==null?Wi(e,s,f,c):en}function qc(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let I=p;I<y;I++){let S=s[I];if(I<u&&t===S||I>=u&&S.type===t)return I}if(i){let I=s[u];if(I&&Us(I)&&I.type===t)return u}return null}function Wi(n,e,t,r){let i=n[t],o=e.data;if(aN(i)){let s=i;s.resolving&&WA(GA(o[t]));let c=ru(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?pt(s.injectImpl):null,f=iE(n,r,ne.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&oN(t,o[t],e)}finally{l!==null&&pt(l),ru(c),s.resolving=!1,cE()}}return i}function yN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ts)?n[Ts]:void 0;return typeof e=="number"?e>=0?e&fE:vN:e}function GI(n,e,t){let r=1<<n;return!!(t[e+(n>>pE)]&r)}function WI(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var Fr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _E(this._tNode,this._lView,e,yu(r),t)}};function vN(){return new Fr(yt(),pe())}function sp(n){return Ls(()=>{let e=n.prototype.constructor,t=e[Kc]||rf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Kc]||rf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function rf(n){return mw(n)?()=>{let e=rf(Mt(n));return e&&e()}:Vr(n)}function _N(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let c=IE(o,s,t,r|ne.Self,en);if(c!==en)return c;let u=o.parent;if(!u){let l=s[Bw];if(l){let f=l.get(t,en,r);if(f!==en)return f}u=wE(s),s=s[Ji]}o=u}return i}function wE(n){let e=n[Y],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function ap(n){return gN(yt(),n)}function KI(n,e=null,t=null,r){let i=EE(n,e,t,r);return i.resolveInjectorInitializers(),i}function EE(n,e=null,t=null,r,i=new Set){let o=[t||Jt,IR(n)];return r=r||(typeof n=="object"?void 0:Tt(n)),new Ss(o,e||Kf(),r||null,i)}var it=class n{static{this.THROW_IF_NOT_FOUND=Cs}static{this.NULL=new Zc}static create(e,t){if(Array.isArray(e))return KI({name:""},t,e,"");{let r=e.name??"";return KI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=j({token:n,providedIn:"any",factory:()=>K(Cw)})}static{this.__NG_ELEMENT_ID__=-1}};var IN=new $("");IN.__NG_ELEMENT_ID__=n=>{let e=yt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new B(204,!1)};var wN="ngOriginalError";function Vh(n){return n[wN]}var DE=!0,cp=(()=>{class n{static{this.__NG_ELEMENT_ID__=EN}static{this.__NG_ENV_ID__=t=>t}}return n})(),of=class extends cp{constructor(e){super(),this._lView=e}onDestroy(e){return Zw(this._lView,e),()=>$R(this._lView,e)}};function EN(){return new of(pe())}var no=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})();var sf=class extends Xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,jw()&&(this.destroyRef=P(cp,{optional:!0})??void 0,this.pendingTasks=P(no,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=sf;function iu(...n){}function TE(n){let e,t;function r(){n=iu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function QI(n){return queueMicrotask(()=>n()),()=>{n=iu}}var up="isAngularZone",ou=up+"_ID",DN=0,ve=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=DE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,bN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(up)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,TN,iu,iu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},TN={};function lp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function CN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){TE(()=>{n.callbackScheduled=!1,af(n),n.isCheckStableRunning=!0,lp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),af(n)}function bN(n){let e=()=>{CN(n)},t=DN++;n._inner=n._inner.fork({name:"angular",properties:{[up]:!0,[ou]:t,[ou+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(SN(u))return r.invokeTask(o,s,c,u);try{return YI(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ZI(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return YI(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!AN(u)&&e(),ZI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,af(n),lp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function af(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function YI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ZI(n){n._nesting--,lp(n)}var cf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function SN(n){return CE(n,"__ignore_ng_zone__")}function AN(n){return CE(n,"__scheduler_tick__")}function CE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Cn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Vh(e);for(;t&&Vh(t);)t=Vh(t);return t||null}},RN=new $("",{providedIn:"root",factory:()=>{let n=P(ve),e=P(Cn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function NN(){return ro(yt(),pe())}function ro(n,e){return new zt(Pt(n,e))}var zt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=NN}}return n})();function MN(n){return n instanceof zt?n.nativeElement:n}function xN(){return this._results[Symbol.iterator]()}var uf=class n{get changes(){return this._changes??=new Ge}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=xN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=iR(e);(this._changesDetected=!rR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bE(n){return(n.flags&128)===128}var SE=new Map,PN=0;function kN(){return PN++}function ON(n){SE.set(n[_u],n)}function lf(n){SE.delete(n[_u])}var JI="__ngContext__";function Hr(n,e){rr(e)?(n[JI]=e[_u],ON(e)):n[JI]=e}function AE(n){return NE(n[Rs])}function RE(n){return NE(n[Bt])}function NE(n){for(;n!==null&&!Sn(n);)n=n[Bt];return n}var df;function ME(n){df=n}function LN(){if(df!==void 0)return df;if(typeof document<"u")return document;throw new B(210,!1)}var dp=new $("",{providedIn:"root",factory:()=>FN}),FN="ng",hp=new $(""),an=new $("",{providedIn:"platform",factory:()=>"unknown"});var fp=new $("",{providedIn:"root",factory:()=>LN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VN="h",UN="b";var jN=()=>null;function pp(n,e,t=!1){return jN(n,e,t)}var xE=!1,BN=new $("",{providedIn:"root",factory:()=>xE});var jc;function $N(){if(jc===void 0&&(jc=null,$h.trustedTypes))try{jc=$h.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jc}function XI(n){return $N()?.createScriptURL(n)||n}var su=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fw})`}};function Tu(n){return n instanceof su?n.changingThisBreaksApplicationSecurity:n}function gp(n,e){let t=HN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${fw})`)}return t===e}function HN(n){return n instanceof su&&n.getTypeName()||null}var zN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PE(n){return n=String(n),n.match(zN)?n:"unsafe:"+n}var Cu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Cu||{});function qN(n){let e=OE();return e?e.sanitize(Cu.URL,n)||"":gp(n,"URL")?Tu(n):PE(mu(n))}function GN(n){let e=OE();if(e)return XI(e.sanitize(Cu.RESOURCE_URL,n)||"");if(gp(n,"ResourceURL"))return XI(Tu(n));throw new B(904,!1)}function WN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?GN:qN}function kE(n,e,t){return WN(e,t)(n)}function OE(){let n=pe();return n&&n[nn].sanitizer}function LE(n){return n instanceof Function?n():n}function KN(n){return(n??P(it)).get(an)==="browser"}var ur=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ur||{}),QN;function mp(n,e){return QN(n,e)}function Ui(n,e,t,r,i){if(r!=null){let o,s=!1;Sn(r)?o=r:rr(r)&&(s=!0,r=r[bn]);let c=rn(r);n===0&&t!==null?i==null?jE(e,t,c):au(e,t,c,i||null,!0):n===1&&t!==null?au(e,t,c,i||null,!0):n===2?lM(e,c,s):n===3&&e.destroyNode(c),o!=null&&hM(e,n,o,t,i)}}function YN(n,e){return n.createText(e)}function ZN(n,e,t){n.setValue(e,t)}function FE(n,e,t){return n.createElement(e,t)}function JN(n,e){VE(n,e),e[bn]=null,e[Ht]=null}function XN(n,e,t,r,i,o){r[bn]=i,r[Ht]=e,Su(n,r,t,1,i,o)}function VE(n,e){e[nn].changeDetectionScheduler?.notify(9),Su(n,e,e[rt],2,null,null)}function eM(n){let e=n[Rs];if(!e)return Uh(n[Y],n);for(;e;){let t=null;if(rr(e))t=e[Rs];else{let r=e[tt];r&&(t=r)}if(!t){for(;e&&!e[Bt]&&e!==n;)rr(e)&&Uh(e[Y],e),e=e[nt];e===null&&(e=n),rr(e)&&Uh(e[Y],e),t=e&&e[Bt]}e=t}}function tM(n,e,t,r){let i=tt+r,o=t.length;r>0&&(t[i-1][Bt]=e),r<o-tt?(e[Bt]=t[i],Tw(t,tt+r,e)):(t.push(e),e[Bt]=null),e[nt]=t;let s=e[Ur];s!==null&&t!==s&&UE(s,e);let c=e[Tn];c!==null&&c.insertView(n),Xh(e),e[W]|=128}function UE(n,e){let t=n[qi],r=e[nt];if(rr(r))n[W]|=eu.HasTransplantedViews;else{let i=r[nt][$t];e[$t]!==i&&(n[W]|=eu.HasTransplantedViews)}t===null?n[qi]=[e]:t.push(e)}function yp(n,e){let t=n[qi],r=t.indexOf(e);t.splice(r,1)}function Ms(n,e){if(n.length<=tt)return;let t=tt+e,r=n[t];if(r){let i=r[Ur];i!==null&&i!==n&&yp(i,r),e>0&&(n[t-1][Bt]=r[Bt]);let o=Yc(n,tt+e);JN(r[Y],r);let s=o[Tn];s!==null&&s.detachView(o[Y]),r[nt]=null,r[Bt]=null,r[W]&=-129}return r}function bu(n,e){if(!(e[W]&256)){let t=e[rt];t.destroyNode&&Su(n,e,t,3,null,null),eM(e)}}function Uh(n,e){if(e[W]&256)return;let t=oe(null);try{e[W]&=-129,e[W]|=256,e[xt]&&fh(e[xt]),rM(n,e),nM(n,e),e[Y].type===1&&e[rt].destroy();let r=e[Ur];if(r!==null&&Sn(e[nt])){r!==e[nt]&&yp(r,e);let i=e[Tn];i!==null&&i.detachView(n)}lf(e)}finally{oe(t)}}function nM(n,e){let t=n.cleanup,r=e[Jc];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Jc]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function rM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ns)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Xt(4,c,u);try{u.call(c)}finally{Xt(5,c,u)}}else{Xt(4,i,o);try{o.call(i)}finally{Xt(5,i,o)}}}}}function iM(n,e,t){return oM(n,e.parent,t)}function oM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[bn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===tn.None||o===tn.Emulated)return null}return Pt(r,t)}}function au(n,e,t,r,i){n.insertBefore(e,t,r,i)}function jE(n,e,t){n.appendChild(e,t)}function ew(n,e,t,r,i){r!==null?au(n,e,t,r,i):jE(n,e,t)}function BE(n,e){return n.parentNode(e)}function sM(n,e){return n.nextSibling(e)}function aM(n,e,t){return uM(n,e,t)}function cM(n,e,t){return n.type&40?Pt(n,t):null}var uM=cM,tw;function vp(n,e,t,r){let i=iM(n,r,e),o=e[rt],s=r.parent||e[Ht],c=aM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)ew(o,i,t[u],c,!1);else ew(o,i,t,c,!1);tw!==void 0&&tw(o,r,e,t,i)}function Ds(n,e){if(e!==null){let t=e.type;if(t&3)return Pt(e,n);if(t&4)return hf(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ds(n,r);{let i=n[e.index];return Sn(i)?hf(-1,i):rn(i)}}else{if(t&128)return Ds(n,e.next);if(t&32)return mp(e,n)()||rn(n[e.index]);{let r=$E(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Br(n[$t]);return Ds(i,r)}else return Ds(n,e.next)}}}return null}function $E(n,e){if(e!==null){let r=n[$t][Ht],i=e.projection;return r.projection[i]}return null}function hf(n,e){let t=tt+n+1;if(t<e.length){let r=e[t],i=r[Y].firstChild;if(i!==null)return Ds(r,i)}return e[jr]}function lM(n,e,t){n.removeChild(null,e,t)}function _p(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&Hr(rn(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)_p(n,e,t.child,r,i,o,!1),Ui(e,n,i,c,o);else if(u&32){let l=mp(t,r),f;for(;f=l();)Ui(e,n,i,f,o);Ui(e,n,i,c,o)}else u&16?dM(n,e,r,t,i,o):Ui(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Su(n,e,t,r,i,o){_p(t,r,n.firstChild,e,i,o,!1)}function dM(n,e,t,r,i,o){let s=t[$t],u=s[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ui(e,n,i,f,o)}else{let l=u,f=s[nt];bE(r)&&(l.flags|=128),_p(n,e,l,f,i,o,!0)}}function hM(n,e,t,r,i){let o=t[jr],s=rn(t);o!==s&&Ui(e,n,r,o,i);for(let c=tt;c<t.length;c++){let u=t[c];Su(u[Y],u,n,e,r,o)}}function fM(n,e,t){n.setAttribute(e,"style",t)}function HE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Gh(n,e,r),i!==null&&HE(n,e,i),o!==null&&fM(n,e,o)}var Gr={};function lr(n=1){qE(kt(),pe(),Du()+n,!1)}function qE(n,e,t,r){if(!r)if((e[W]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Hc(e,o,t)}else{let o=n.preOrderHooks;o!==null&&zc(e,o,0,t)}$r(t)}function Ie(n,e=ne.Default){let t=pe();if(t===null)return K(n,e);let r=yt();return _E(r,t,Mt(n),e)}function GE(){let n="invalid";throw new Error(n)}function WE(n,e,t,r,i,o){let s=oe(null);try{let c=null;i&ir.SignalBased&&(c=e[r][eI]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&ir.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,c,o,t,r):zw(e,c,r,o)}finally{oe(s)}}function pM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$r(~i);else{let o=i,s=t[++r],c=t[++r];eN(s,o);let u=e[o];c(2,u)}}}finally{$r(-1)}}function Au(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[bn]=i,p[W]=r|4|128|8|64,(l!==null||n&&n[W]&2048)&&(p[W]|=2048),Qw(p),p[nt]=p[Ji]=n,p[et]=t,p[nn]=s||n&&n[nn],p[rt]=c||n&&n[rt],p[zi]=u||n&&n[zi]||null,p[Ht]=o,p[_u]=kN(),p[As]=f,p[Bw]=l,p[$t]=e.type==2?n[$t]:p,p}function Ru(n,e,t,r,i){let o=n.data[e];if(o===null)o=gM(n,e,t,r,i),XR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=QR();o.injectorIndex=s===null?-1:s.injectorIndex}return js(o,!0),o}function gM(n,e,t,r,i){let o=eE(),s=tE(),c=s?o:o&&o.parent,u=n.data[e]=wM(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function KE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function QE(n,e,t,r,i){let o=Du(),s=r&2;try{$r(-1),s&&e.length>gt&&qE(n,e,gt,!1),Xt(s?2:0,i),t(r,i)}finally{$r(o),Xt(s?3:1,i)}}function YE(n,e,t){if(Hw(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{oe(r)}}}function ZE(n,e,t){Xw()&&(AM(n,e,t,Pt(t,e)),(t.flags&64)===64&&nD(n,e,t))}function JE(n,e,t=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function XE(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ip(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ip(n,e,t,r,i,o,s,c,u,l,f){let p=gt+r,y=p+i,I=mM(p,y),S=typeof l=="function"?l():l;return I[Y]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function mM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Gr);return t}function yM(n,e,t,r){let o=r.get(BN,xE)||t===tn.ShadowDom,s=n.selectRootElement(e,o);return vM(s),s}function vM(n){_M(n)}var _M=()=>null;function IM(n,e,t,r){let i=oD(e);i.push(t),n.firstCreatePass&&sD(n).push(r,i.length-1)}function wM(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return GR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nw(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=ir.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?rw(r,t,l,c,u):rw(r,t,l,c)}return r}function rw(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function EM(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=t?t.get(p):null,I=y?y.inputs:null,S=y?y.outputs:null;u=nw(0,p.inputs,f,u,I),l=nw(1,p.outputs,f,l,S);let N=u!==null&&s!==null&&!Gf(e)?UM(u,f,s):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function DM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function TM(n,e,t,r,i,o,s,c){let u=Pt(e,t),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(wp(n,t,f,r,i),Iu(e)&&CM(t,e.index)):e.type&3?(r=DM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function CM(n,e){let t=cr(e,n);t[W]&16||(t[W]|=64)}function eD(n,e,t,r){if(Xw()){let i=r===null?null:{"":-1},o=NM(n,t),s,c;o===null?s=c=null:[s,c]=o,s!==null&&tD(n,e,t,s,i,c),i&&MM(t,r,i)}t.mergedAttrs=qf(t.mergedAttrs,t.attrs)}function tD(n,e,t,r,i,o){for(let l=0;l<r.length;l++)pN(gE(t,e),n,r[l].type);PM(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=KE(n,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];t.mergedAttrs=qf(t.mergedAttrs,f.hostAttrs),kM(n,t,e,u,f),xM(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}EM(n,t,o)}function bM(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;SM(s)!=c&&s.push(c),s.push(t,r,o)}}function SM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function AM(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Iu(t)&&OM(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||gE(t,e),Hr(r,e);let s=t.initialInputs;for(let c=i;c<o;c++){let u=n.data[c],l=Wi(e,n,c,t);if(Hr(l,e),s!==null&&VM(e,c-i,l,u,t,s),Us(u)){let f=cr(t.index,e);f[et]=Wi(e,n,c,t)}}}function nD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=tN();try{$r(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];ef(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&RM(u,l)}}finally{$r(-1),ef(s)}}function RM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function NM(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(dR(e,s.selectors,!1))if(r||(r=[]),Us(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;ff(n,e,u)}else r.unshift(s),ff(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ff(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function MM(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}}function xM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Us(e)&&(t[""]=n)}}function PM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function kM(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Vr(i.type,!0)),s=new Ns(o,Us(i),Ie);n.blueprint[r]=s,t[r]=s,bM(n,e,r,KE(n,t,i.hostVars,Gr),i)}function OM(n,e,t){let r=Pt(e,n),i=XE(t),o=n[nn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let c=Nu(n,Au(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=c}function LM(n,e,t,r,i,o){let s=Pt(n,e);FM(e[rt],s,o,n.value,t,r,i)}function FM(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?mu(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function VM(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];WE(r,t,u,l,f,p)}}function UM(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],t[i+1]);break}}i+=2}return r}function rD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function iD(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];Xf(o),c.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function Nu(n,e){return n[Rs]?n[$I][Bt]=e:n[Rs]=e,n[$I]=e,e}function pf(n,e,t){Xf(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function oD(n){return n[Jc]??=[]}function sD(n){return n.cleanup??=[]}function aD(n,e){let t=n[zi],r=t?t.get(Cn,null):null;r&&r.handleError(e)}function wp(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],c=t[o++],u=t[o++],l=e[s],f=n.data[s];WE(f,l,r,c,u,i)}}function jM(n,e,t){let r=VR(e,n);ZN(n[rt],r,t)}function BM(n,e){let t=cr(e,n),r=t[Y];$M(r,t);let i=t[bn];i!==null&&t[As]===null&&(t[As]=pp(i,t[zi])),Ep(r,t,t[et])}function $M(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ep(n,e,t){ep(e);try{let r=n.viewQuery;r!==null&&pf(1,r,t);let i=n.template;i!==null&&QE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tn]?.finishViewCreation(n),n.staticContentQueries&&iD(n,e),n.staticViewQueries&&pf(2,n.viewQuery,t);let o=n.components;o!==null&&HM(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[W]&=-5,tp()}}function HM(n,e){for(let t=0;t<e.length;t++)BM(n,e[t])}function Mu(n,e,t,r){let i=oe(null);try{let o=e.tView,c=n[W]&4096?4096:16,u=Au(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ur]=l;let f=n[Tn];return f!==null&&(u[Tn]=f.createEmbeddedView(o)),Ep(o,u,t),u}finally{oe(i)}}function cD(n,e){let t=tt+e;if(t<n.length)return n[t]}function xs(n,e){return!e||e.firstChild===null||bE(n)}function xu(n,e,t,r=!0){let i=e[Y];if(tM(i,e,n,t),r){let s=hf(t,n),c=e[rt],u=BE(c,n[jr]);u!==null&&XN(i,n[Ht],c,e,u,s)}let o=e[As];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uD(n,e){let t=Ms(n,e);return t!==void 0&&bu(t[Y],t),t}function cu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(rn(o)),Sn(o)&&zM(o,r);let s=t.type;if(s&8)cu(n,e,t.child,r);else if(s&32){let c=mp(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=$E(e,t);if(Array.isArray(c))r.push(...c);else{let u=Br(e[$t]);cu(u[Y],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function zM(n,e){for(let t=tt;t<n.length;t++){let r=n[t],i=r[Y].firstChild;i!==null&&cu(r[Y],r,i,e)}n[jr]!==n[bn]&&e.push(n[jr])}var lD=[];function qM(n){return n[xt]??GM(n)}function GM(n){let e=lD.pop()??Object.create(KM);return e.lView=n,e}function WM(n){n.lView[xt]!==n&&(n.lView=null,lD.push(n))}var KM=Ce(L({},lh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Eu(n.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function QM(n){let e=n[xt]??Object.create(YM);return e.lView=n,e}var YM=Ce(L({},lh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Br(n.lView);for(;e&&!dD(e[Y]);)e=Br(e);e&&Yw(e)},consumerOnSignalRead(){this.lView[xt]=this}});function dD(n){return n.type!==2}var ZM=100;function hD(n,e=!0,t=0){let r=n[nn],i=r.rendererFactory,o=!1;o||i.begin?.();try{JM(n,t)}catch(s){throw e&&aD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function JM(n,e){let t=nE();try{zI(!0),gf(n,e);let r=0;for(;wu(n);){if(r===ZM)throw new B(103,!1);r++,gf(n,1)}}finally{zI(t)}}function XM(n,e,t,r){let i=e[W];if((i&256)===256)return;let o=!1,s=!1;!o&&e[nn].inlineEffectRunner?.flush(),ep(e);let c=!0,u=null,l=null;o||(dD(n)?(l=qM(e),u=dh(l)):tI()===null?(c=!1,l=QM(e),u=dh(l)):e[xt]&&(fh(e[xt]),e[xt]=null));try{Qw(e),JR(n.bindingStartIndex),t!==null&&QE(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let I=n.preOrderCheckHooks;I!==null&&Hc(e,I,null)}else{let I=n.preOrderHooks;I!==null&&zc(e,I,0,null),Oh(e,0)}if(s||ex(e),fD(e,0),n.contentQueries!==null&&iD(n,e),!o)if(f){let I=n.contentCheckHooks;I!==null&&Hc(e,I)}else{let I=n.contentHooks;I!==null&&zc(e,I,1),Oh(e,1)}pM(n,e);let p=n.components;p!==null&&gD(e,p,0);let y=n.viewQuery;if(y!==null&&pf(2,y,r),!o)if(f){let I=n.viewCheckHooks;I!==null&&Hc(e,I)}else{let I=n.viewHooks;I!==null&&zc(e,I,2),Oh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[kh]){for(let I of e[kh])I();e[kh]=null}o||(e[W]&=-73)}catch(f){throw o||Eu(e),f}finally{l!==null&&(nI(l,u),c&&WM(l)),tp()}}function fD(n,e){for(let t=AE(n);t!==null;t=RE(t))for(let r=tt;r<t.length;r++){let i=t[r];pD(i,e)}}function ex(n){for(let e=AE(n);e!==null;e=RE(e)){if(!(e[W]&eu.HasTransplantedViews))continue;let t=e[qi];for(let r=0;r<t.length;r++){let i=t[r];Yw(i)}}}function tx(n,e,t){let r=cr(e,n);pD(r,t)}function pD(n,e){Zf(n)&&gf(n,e)}function gf(n,e){let r=n[Y],i=n[W],o=n[xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hh(o)),s||=!1,o&&(o.dirty=!1),n[W]&=-9217,s)XM(r,n,r.template,n[et]);else if(i&8192){fD(n,1);let c=r.components;c!==null&&gD(n,c,1)}}function gD(n,e,t){for(let r=0;r<e.length;r++)tx(n,e[r],t)}function Dp(n,e){let t=nE()?64:1088;for(n[nn].changeDetectionScheduler?.notify(e);n;){n[W]|=t;let r=Br(n);if(Zh(n)&&!r)return n;n=r}return null}var zr=class{get rootNodes(){let e=this._lView,t=e[Y];return cu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Sn(e)){let t=e[Xc],r=t?t.indexOf(this):-1;r>-1&&(Ms(e,r),Yc(t,r))}this._attachedToViewContainer=!1}bu(this._lView[Y],this._lView)}onDestroy(e){Zw(this._lView,e)}markForCheck(){Dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Xh(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,hD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zh(this._lView),t=this._lView[Ur];t!==null&&!e&&yp(t,this._lView),VE(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Zh(this._lView),r=this._lView[Ur];r!==null&&!t&&UE(r,this._lView),Xh(this._lView)}},Ps=(()=>{class n{static{this.__NG_ELEMENT_ID__=ix}}return n})(),nx=Ps,rx=class extends nx{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Mu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new zr(i)}};function ix(){return Tp(yt(),pe())}function Tp(n,e){return n.type&4?new rx(e,n,ro(n,e)):null}var v4=new RegExp(`^(\\d+)*(${UN}|${VN})*(.*)`);var ox=()=>null;function ks(n,e){return ox(n,e)}var Ki=class{},Pu=new $("",{providedIn:"root",factory:()=>!1});var mD=new $(""),yD=new $(""),mf=class{},uu=class{};function sx(n){let e=Error(`No component factory found for ${Tt(n)}.`);return e[ax]=n,e}var ax="ngComponent";var yf=class{resolveComponentFactory(e){throw sx(e)}},Qi=class{static{this.NULL=new yf}},Yi=class{},Wr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>cx()}}return n})();function cx(){let n=pe(),e=yt(),t=cr(e.index,n);return(rr(t)?t:n)[rt]}var ux=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>null})}}return n})();function vf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=xI(i,c);else if(o==2){let u=c,l=e[++s];r=xI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var lu=class extends Qi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=or(e);return new Zi(t,this.ngModule)}};function iw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:ir.None;e?t.push({propName:s,templateName:r,isSignal:(c&ir.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function lx(n){let e=n.toLowerCase();return e==="svg"?LR:e==="math"?FR:null}var Zi=class extends uu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=iw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return iw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=gR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=oe(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new tf(e,s):e,u=c.get(Yi,null);if(u===null)throw new B(407,!1);let l=c.get(ux,null),f=c.get(Ki,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?yM(y,r,this.componentDef.encapsulation,c):FE(y,I,lx(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;S!==null&&(R=pp(S,c,!0));let O=Ip(0,null,null,1,0,null,null,null,null,null,null),V=Au(null,O,null,N,null,null,p,y,c,null,R);ep(V);let z,ie,Ae=null;try{let J=this.componentDef,D,m=null;J.findHostDirectiveDefs?(D=[],m=new Map,J.findHostDirectiveDefs(J,D,m),D.push(J)):D=[J];let v=dx(V,S);Ae=hx(v,S,J,D,V,p,y),ie=Yf(O,gt),S&&gx(y,J,S,r),t!==void 0&&mx(ie,this.ngContentSelectors,t),z=px(Ae,J,D,m,V,[yx]),Ep(O,V,null)}catch(J){throw Ae!==null&&lf(Ae),lf(V),J}finally{tp()}return new _f(this.componentType,z,ro(ie,V),V,ie)}finally{oe(o)}}},_f=class extends mf{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new zr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;wp(o[Y],o,i,e,t),this.previousInputValues.set(e,t);let s=cr(this._tNode.index,o);Dp(s,1)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dx(n,e){let t=n[Y],r=gt;return n[r]=e,Ru(t,r,2,"#host",null)}function hx(n,e,t,r,i,o,s){let c=i[Y];fx(r,n,e,s);let u=null;e!==null&&(u=pp(e,i[zi]));let l=o.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=Au(i,XE(t),null,f,i[n.index],n,o,l,null,null,u);return c.firstCreatePass&&ff(c,n,r.length-1),Nu(i,p),i[n.index]=p}function fx(n,e,t,r){for(let i of n)e.mergedAttrs=qf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vf(e,e.mergedAttrs,!0),t!==null&&zE(r,t,e))}function px(n,e,t,r,i,o){let s=yt(),c=i[Y],u=Pt(s,i);tD(c,i,s,t,null,r);for(let f=0;f<t.length;f++){let p=s.directiveStart+f,y=Wi(i,c,p,s);Hr(y,i)}nD(c,i,s),u&&Hr(u,i);let l=Wi(i,c,s.directiveStart+s.componentOffset,s);if(n[et]=i[et]=l,o!==null)for(let f of o)f(l,e);return YE(c,s,i),l}function gx(n,e,t,r){if(r)Gh(n,t,["ng-version","18.2.6"]);else{let{attrs:i,classes:o}=mR(e.selectors[0]);i&&Gh(n,t,i),o&&o.length>0&&HE(n,t,o.join(" "))}}function mx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function yx(){let n=yt();ip(pe()[Y],n)}var io=(()=>{class n{static{this.__NG_ELEMENT_ID__=vx}}return n})();function vx(){let n=yt();return _D(n,pe())}var _x=io,vD=class extends _x{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ro(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=op(this._hostTNode,this._hostLView);if(hE(e)){let t=nu(e,this._hostLView),r=tu(e),i=t[Y].data[r+8];return new Fr(i,t)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ow(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ks(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,xs(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!xR(e),c;if(s)c=t;else{let S=t||{};c=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Zi(or(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Ct,null);N&&(o=N)}let f=or(u.componentType??{}),p=ks(this._lContainer,f?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,o);return this.insertImpl(I.hostView,c,xs(this._hostTNode,p)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(jR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[nt],l=new vD(u,u[Ht],u[nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return xu(s,i,o,r),e.attachToViewContainerRef(),Tw(jh(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ow(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ms(this._lContainer,t);r&&(Yc(jh(this._lContainer),t),bu(r[Y],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ms(this._lContainer,t);return r&&Yc(jh(this._lContainer),t)!=null?new zr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ow(n){return n[Xc]}function jh(n){return n[Xc]||(n[Xc]=[])}function _D(n,e){let t,r=e[n.index];return Sn(r)?t=r:(t=rD(r,e,null,n),e[n.index]=t,Nu(e,t)),wx(t,e,n,r),new vD(t,n,e)}function Ix(n,e){let t=n[rt],r=t.createComment(""),i=Pt(e,n),o=BE(t,i);return au(t,o,r,sM(t,i),!1),r}var wx=Tx,Ex=()=>!1;function Dx(n,e,t){return Ex(n,e,t)}function Tx(n,e,t,r){if(n[jr])return;let i;t.type&8?i=rn(r):i=Ix(e,t),n[jr]=i}var If=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},wf=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Cp(e,t).matches!==null&&this.queries[t].setDirty()}},Ef=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=xx(e):this.predicate=e}},Df=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Tf=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Cx(t,o)),this.matchTNodeWithReadOption(e,t,qc(t,e,o,!1,!1))}else r===Ps?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,qc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===zt||i===io||i===Ps&&t.type&4)this.addMatch(t.index,-2);else{let o=qc(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Cx(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function bx(n,e){return n.type&11?ro(n,e):n.type&4?Tp(n,e):null}function Sx(n,e,t,r){return t===-1?bx(e,n):t===-2?Ax(n,e,r):Wi(n,n[Y],t,e)}function Ax(n,e,t){if(t===zt)return ro(e,n);if(t===Ps)return Tp(e,n);if(t===io)return _D(e,n)}function ID(n,e,t,r){let i=e[Tn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(Sx(e,f,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function Cf(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=ID(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let p=tt;p<f.length;p++){let y=f[p];y[Ur]===y[nt]&&Cf(y[Y],y,l,r)}if(f[qi]!==null){let p=f[qi];for(let y=0;y<p.length;y++){let I=p[y];Cf(I[Y],I,l,r)}}}}}return r}function Rx(n,e){return n[Tn].queries[e].queryList}function Nx(n,e,t){let r=new uf((t&4)===4);return IM(n,e,r,r.destroy),(e[Tn]??=new wf).queries.push(new If(r))-1}function Mx(n,e,t,r){let i=kt();if(i.firstCreatePass){let o=yt();Px(i,new Ef(e,t,r),o.index),kx(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Nx(i,pe(),t)}function xx(n){return n.split(",").map(e=>e.trim())}function Px(n,e,t){n.queries===null&&(n.queries=new Df),n.queries.track(new Tf(e,t))}function kx(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Cp(n,e){return n.queries.getByIndex(e)}function Ox(n,e){let t=n[Y],r=Cp(t,e);return r.crossesNgTemplate?Cf(t,n,e,[]):ID(t,n,r,e)}var sw=new Set;function oo(n){sw.has(n)||(sw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function bp(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var sr=class{},Os=class{};var bf=class extends sr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lu(this);let o=kw(e);this._bootstrapComponents=LE(o.bootstrap),this._r3Injector=EE(e,t,[{provide:sr,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Sf=class extends Os{constructor(e){super(),this.moduleType=e}create(e){return new bf(this.moduleType,e,[])}};var du=class extends sr{constructor(e){super(),this.componentFactoryResolver=new lu(this),this.instance=null;let t=new Ss([...e.providers,{provide:sr,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver}],e.parent||Kf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ku(n,e,t=null){return new du({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function wD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ED(n,e,t){return n[e]=t}function Lx(n,e){return n[e]}function so(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Fx(n){return(n.flags&32)===32}function Vx(n,e,t,r,i,o,s,c,u){let l=e.consts,f=Ru(e,n,4,s||null,c||null);eD(e,t,f,Gi(l,u)),ip(e,f);let p=f.tView=Ip(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Af(n,e,t,r,i,o,s,c,u,l){let f=t+gt,p=e.firstCreatePass?Vx(f,e,n,r,i,o,s,c,u):e.data[f];js(p,!1);let y=Ux(e,n,p,t);np()&&vp(e,n,y,p),Hr(y,n);let I=rD(y,n,y,p);return n[f]=I,Nu(n,I),Dx(I,p,n),Qf(p)&&ZE(e,n,p),u!=null&&JE(n,p,l),p}function Ou(n,e,t,r,i,o,s,c){let u=pe(),l=kt(),f=Gi(l.consts,o);return Af(u,l,n,e,t,r,i,f,s,c),Ou}var Ux=jx;function jx(n,e,t,r){return rp(!0),e[rt].createComment("")}var ji=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ji||{}),DD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Rf=class n{constructor(){this.ngZone=P(ve),this.scheduler=P(Ki),this.errorHandler=P(Cn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ji.EarlyRead,ji.Write,ji.MixedReadWrite,ji.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}},Nf=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Sp(n,e){!e?.injector&&MR(Sp);let t=e?.injector??P(it);return KN(t)?(oo("NgAfterNextRender"),$x(n,t,e,!0)):Hx}function Bx(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function $x(n,e,t,r){let i=e.get(DD);i.impl??=e.get(Rf);let o=t?.phase??ji.MixedReadWrite,s=new Nf(i.impl,Bx(n,o),r,e.get(cp));return i.impl.register(s),s}var Hx={destroy(){}};function Ap(n,e,t,r){let i=pe(),o=Bs();if(so(i,o,e)){let s=kt(),c=uE();LM(c,i,n,e,t,r)}return Ap}function zx(n,e,t,r){return so(n,Bs(),t)?e+mu(t)+r:Gr}function Kr(n,e,t){let r=pe(),i=Bs();if(so(r,i,e)){let o=kt(),s=uE();TM(o,s,r,n,e,r[rt],t,!1)}return Kr}function aw(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";wp(n,t,o[s],s,r)}var Mf=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Bh(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function qx(n,e,t){let r,i,o=0,s=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),f=e[o],p=Bh(o,l,o,f,t);if(p!==0){p<0&&n.updateValue(o,f),o++;continue}let y=n.at(s),I=e[u],S=Bh(s,y,u,I,t);if(S!==0){S<0&&n.updateValue(s,I),s--,u--;continue}let N=t(o,l),R=t(s,y),O=t(o,f);if(Object.is(O,R)){let V=t(u,I);Object.is(V,N)?(n.swap(o,s),n.updateValue(s,I),u--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new hu,i??=uw(n,o,s,t),xf(n,r,o,O))n.updateValue(o,f),o++,s++;else if(i.has(O))r.set(N,n.detach(o)),s--;else{let V=n.create(o,e[o]);n.attach(o,V),o++,s++}}for(;o<=u;)cw(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=n.at(o),p=l.value,y=Bh(o,f,o,p,t);if(y!==0)y<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new hu,i??=uw(n,o,s,t);let I=t(o,p);if(xf(n,r,o,I))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(I))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let S=t(o,f);r.set(S,n.detach(o)),s--}}}for(;!l.done;)cw(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function xf(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function cw(n,e,t,r,i){if(xf(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function uw(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var hu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function TD(n,e){oo("NgControlFlow");let t=pe(),r=Bs(),i=t[r]!==Gr?t[r]:-1,o=i!==-1?fu(t,gt+i):void 0,s=0;if(so(t,r,n)){let c=oe(null);try{if(o!==void 0&&uD(o,s),n!==-1){let u=gt+n,l=fu(t,u),f=Lf(t[Y],u),p=ks(l,f.tView.ssrId),y=Mu(t,f,e,{dehydratedView:p});xu(l,y,s,xs(f,p))}}finally{oe(c)}}else if(o!==void 0){let c=cD(o,s);c!==void 0&&(c[et]=e)}}var Pf=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-tt}};function CD(n){return n}var kf=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function bD(n,e,t,r,i,o,s,c,u,l,f,p,y){oo("NgControlFlow");let I=pe(),S=kt(),N=u!==void 0,R=pe(),O=c?s.bind(R[$t][et]):s,V=new kf(N,O);R[gt+n]=V,Af(I,S,n+1,e,t,r,i,Gi(S.consts,o)),N&&Af(I,S,n+2,u,l,f,p,Gi(S.consts,y))}var Of=class extends Mf{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-tt}at(e){return this.getLView(e)[et].$implicit}attach(e,t){let r=t[As];this.needsIndexUpdate||=e!==this.length,xu(this.lContainer,t,e,xs(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Gx(this.lContainer,e)}create(e,t){let r=ks(this.lContainer,this.templateTNode.tView.ssrId),i=Mu(this.hostLView,this.templateTNode,new Pf(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){bu(e[Y],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[et].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[et].$index=e}getLView(e){return Wx(this.lContainer,e)}};function SD(n){let e=oe(null),t=Du();try{let r=pe(),i=r[Y],o=r[t],s=t+1,c=fu(r,s);if(o.liveCollection===void 0){let l=Lf(i,s);o.liveCollection=new Of(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(qx(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Bs(),f=u.length===0;if(so(r,l,f)){let p=t+2,y=fu(r,p);if(f){let I=Lf(i,p),S=ks(y,I.tView.ssrId),N=Mu(r,I,void 0,{dehydratedView:S});xu(y,N,0,xs(I,S))}else uD(y,0)}}}finally{oe(e)}}function fu(n,e){return n[e]}function Gx(n,e){return Ms(n,e)}function Wx(n,e){return cD(n,e)}function Lf(n,e){return Yf(n,e)}function Kx(n,e,t,r,i,o){let s=e.consts,c=Gi(s,i),u=Ru(e,n,2,r,c);return eD(e,t,u,Gi(s,o)),u.attrs!==null&&vf(u,u.attrs,!1),u.mergedAttrs!==null&&vf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function me(n,e,t,r){let i=pe(),o=kt(),s=gt+n,c=i[rt],u=o.firstCreatePass?Kx(s,o,i,e,t,r):o.data[s],l=Qx(o,i,u,c,e,n);i[s]=l;let f=Qf(u);return js(u,!0),zE(c,l,u),!Fx(u)&&np()&&vp(o,i,l,u),HR()===0&&Hr(l,i),zR(),f&&(ZE(o,i,u),YE(o,u,i)),r!==null&&JE(i,u),me}function ye(){let n=yt();tE()?YR():(n=n.parent,js(n,!1));let e=n;WR(e)&&KR(),qR();let t=kt();return t.firstCreatePass&&(ip(t,n),Hw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&cN(e)&&aw(t,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&uN(e)&&aw(t,e,pe(),e.stylesWithoutHost,!1),ye}function Pe(n,e,t,r){return me(n,e,t,r),ye(),Pe}var Qx=(n,e,t,r,i,o)=>(rp(!0),FE(r,i,iN()));function Lu(){return pe()}var pu="en-US";var Yx=pu;function Zx(n){typeof n=="string"&&(Yx=n.toLowerCase().replace(/_/g,"-"))}var Jx=(n,e,t)=>{};function We(n,e,t,r){let i=pe(),o=kt(),s=yt();return eP(o,i,i[rt],s,n,e,r),We}function Xx(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Jc],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function eP(n,e,t,r,i,o,s){let c=Qf(r),l=n.firstCreatePass&&sD(n),f=e[et],p=oD(e),y=!0;if(r.type&3||s){let N=Pt(r,e),R=s?s(N):N,O=p.length,V=s?ie=>s(rn(ie[r.index])):r.index,z=null;if(!s&&c&&(z=Xx(n,e,i,r.index)),z!==null){let ie=z.__ngLastListenerFn__||z;ie.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,y=!1}else{o=dw(r,e,f,o),Jx(N,i,o);let ie=t.listen(R,i,o);p.push(o,ie),l&&l.push(i,V,O,O+1)}}else o=dw(r,e,f,o);let I=r.outputs,S;if(y&&I!==null&&(S=I[i])){let N=S.length;if(N)for(let R=0;R<N;R+=2){let O=S[R],V=S[R+1],Ae=e[O][V].subscribe(o),J=p.length;p.push(o,Ae),l&&l.push(i,r.index,J,-(J+1))}}}function lw(n,e,t,r){let i=oe(null);try{return Xt(6,e,t),t(r)!==!1}catch(o){return aD(n,o),!1}finally{Xt(7,e,t),oe(i)}}function dw(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?cr(n.index,e):e;Dp(s,5);let c=lw(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)c=lw(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function AD(n=1){return rN(n)}function RD(n,e,t,r){Mx(n,e,t,r)}function ND(n){let e=pe(),t=kt(),r=rE();Xf(r+1);let i=Cp(t,r);if(n.dirty&&UR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Ox(e,r);n.reset(o,MN),n.notifyOnChanges()}return!0}return!1}function MD(){return Rx(pe(),rE())}function tP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Fu(n){let e=ZR();return Kw(e,gt+n)}function st(n,e=""){let t=pe(),r=kt(),i=n+gt,o=r.firstCreatePass?Ru(r,i,1,e,null):r.data[i],s=nP(r,t,o,e,n);t[i]=s,np()&&vp(r,t,s,o),js(o,!1)}var nP=(n,e,t,r,i)=>(rp(!0),YN(e[rt],r));function Vu(n){return xD("",n,""),Vu}function xD(n,e,t){let r=pe(),i=zx(r,n,e,t);return i!==Gr&&jM(r,Du(),i),xD}var rP=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Fw(!1,t.type),i=r.length>0?ku([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(K(Ct))})}}return n})();function vt(n){oo("NgStandalone"),n.getStandaloneInjector=e=>e.get(rP).getOrCreateStandaloneInjector(n)}function Uu(n,e,t){let r=Jf()+n,i=pe();return i[r]===Gr?ED(i,r,t?e.call(t):e()):Lx(i,r)}function Rp(n,e,t,r){return PD(pe(),Jf(),n,e,t,r)}function iP(n,e){let t=n[e];return t===Gr?void 0:t}function PD(n,e,t,r,i,o){let s=e+t;return so(n,s,i)?ED(n,s+1,o?r.call(o,i):r(i)):iP(n,s+1)}function kD(n,e){let t=kt(),r,i=n+gt;t.firstCreatePass?(r=oP(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Vr(r.type,!0)),s,c=pt(Ie);try{let u=ru(!1),l=o();return ru(u),tP(t,pe(),i,l),l}finally{pt(c)}}function oP(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function OD(n,e,t){let r=n+gt,i=pe(),o=Kw(i,r);return sP(i,r)?PD(i,Jf(),e,o.transform,t,o):o.transform(t)}function sP(n,e){return n[Y].data[e].pure}var ar=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},LD=new ar("18.2.6");var ju=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var FD=new $("");function ao(n){return!!n&&typeof n.then=="function"}function Np(n){return!!n&&typeof n.subscribe=="function"}var Bu=new $(""),VD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=P(Bu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ao(o))t.push(o);else if(Np(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$u=new $("");function aP(){rI(()=>{throw new B(600,!1)})}function cP(n){return n.isBoundToModule}var uP=10;function lP(n,e,t){try{let r=t();return ao(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Qr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(RN),this.afterRenderManager=P(DD),this.zonelessEnabled=P(Pu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xe,this.afterTick=new Xe,this.componentTypes=[],this.components=[],this.isStable=P(no).hasPendingTasks.pipe(re(t=>!t)),this._injector=P(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof uu;if(!this._injector.get(VD).done){let y=!i&&Pw(t),I=!1;throw new B(405,I)}let s;i?s=t:s=this._injector.get(Qi).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=cP(s)?void 0:this._injector.get(sr),u=r||s.selector,l=s.create(it.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(FD,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Gc(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,oe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Yi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<uP;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)dP(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>wu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Gc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get($u,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dP(n,e,t,r){if(!t&&!wu(n))return;hD(n,e,t&&!r?0:1)}var Ff=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Hu=(()=>{class n{compileModuleSync(t){return new Sf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=kw(t),o=LE(i.declarations).reduce((s,c)=>{let u=or(c);return u&&s.push(new Zi(u)),s},[]);return new Ff(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hP=(()=>{class n{constructor(){this.zone=P(ve),this.changeDetectionScheduler=P(Ki),this.applicationRef=P(Qr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fP=new $("",{factory:()=>!1});function UD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ve(Ce(L({},BD()),{scheduleInRootZone:t})),[{provide:ve,useFactory:n},{provide:Hi,multi:!0,useFactory:()=>{let r=P(hP,{optional:!0});return()=>r.initialize()}},{provide:Hi,multi:!0,useFactory:()=>{let r=P(pP);return()=>{r.initialize()}}},e===!0?{provide:mD,useValue:!0}:[],{provide:yD,useValue:t??DE}]}function jD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=UD({ngZoneFactory:()=>{let i=BD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&oo("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return on([{provide:fP,useValue:!0},{provide:Pu,useValue:!1},r])}function BD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var pP=(()=>{class n{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=P(ve),this.pendingTasks=P(no)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gP=(()=>{class n{constructor(){this.appRef=P(Qr),this.taskService=P(no),this.ngZone=P(ve),this.zonelessEnabled=P(Pu),this.disableScheduling=P(mD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ou):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(yD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?QI:TE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ou+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,QI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mP(){return typeof $localize<"u"&&$localize.locale||pu}var Mp=new $("",{providedIn:"root",factory:()=>P(Mp,ne.Optional|ne.SkipSelf)||mP()});var $D=new $("");function Bc(n){return!!n.platformInjector}function yP(n){let e=Bc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ve);return t.run(()=>{Bc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Cn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Bc(n)){let o=()=>e.destroy(),s=n.platformInjector.get($D);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{Gc(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return lP(r,t,()=>{let o=e.get(VD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Mp,pu);if(Zx(s||pu),Bc(n)){let c=e.get(Qr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return vP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function vP(n,e){let t=n.injector.get(Qr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new B(-403,!1);e.push(n)}var Wc=null;function _P(n=[],e){return it.create({name:e,providers:[{provide:vu,useValue:"platform"},{provide:$D,useValue:new Set([()=>Wc=null])},...n]})}function IP(n=[]){if(Wc)return Wc;let e=_P(n);return Wc=e,aP(),wP(e),e}function wP(n){n.get(hp,null)?.forEach(t=>t())}var Yr=(()=>{class n{static{this.__NG_ELEMENT_ID__=EP}}return n})();function EP(n){return DP(yt(),pe(),(n&16)===16)}function DP(n,e,t){if(Iu(n)&&!t){let r=cr(n.index,e);return new zr(r,r)}else if(n.type&175){let r=e[$t];return new zr(r,e)}return null}var Vf=class{constructor(){}supports(e){return e instanceof Map||wD(e)}create(){return new Uf}},Uf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||wD(e)))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new jf(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},jf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function hw(){return new xp([new Vf])}var xp=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:hw})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hw()),deps:[[n,new Hf,new ot]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new B(901,!1)}}return n})();function HD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=IP(r),o=[UD({}),{provide:Ki,useExisting:gP},...t||[]],s=new du({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return yP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var zD=new $("");function $s(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Pp(n){let e=oe(null);try{return n()}finally{oe(e)}}function qD(n){let e=or(n);if(!e)return null;let t=new Zi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var QD=null;function co(){return QD}function YD(n){QD??=n}var zu=class{};var ht=new $(""),Up=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(TP),providedIn:"platform"})}}return n})(),ZD=new $(""),TP=(()=>{class n extends Up{constructor(){super(),this._doc=P(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return co().getBaseHref(this._doc)}onPopState(t){let r=co().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=co().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function jp(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function GD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function An(n){return n&&n[0]!=="?"?"?"+n:n}var Rn=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(Bp),providedIn:"root"})}}return n})(),JD=new $(""),Bp=(()=>{class n extends Rn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+An(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Up),K(JD,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XD=(()=>{class n extends Rn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=jp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+An(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K(Up),K(JD,8))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),uo=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SP(GD(WD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+An(r))}normalize(t){return n.stripTrailingSlash(bP(this._basePath,WD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+An(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+An(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=An}static{this.joinWithSlash=jp}static{this.stripTrailingSlash=GD}static{this.\u0275fac=function(r){return new(r||n)(K(Rn))}}static{this.\u0275prov=j({token:n,factory:()=>CP(),providedIn:"root"})}}return n})();function CP(){return new uo(K(Rn))}function bP(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function WD(n){return n.replace(/\/index.html$/,"")}function SP(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function eT(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var kp=/\s+/,KD=[],tT=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=KD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(kp):KD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(kp):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(kp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Ie(zt),Ie(Wr))}}static{this.\u0275dir=qr({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var nT=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:ur.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(Ie(zt),Ie(xp),Ie(Wr))}}static{this.\u0275dir=qr({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function AP(n,e){return new B(2100,!1)}var Op=class{createSubscription(e,t){return Pp(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Pp(()=>e.unsubscribe())}},Lp=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},RP=new Lp,NP=new Op,rT=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ao(t))return RP;if(Np(t))return NP;throw AP(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(Ie(Yr,16))}}static{this.\u0275pipe=Nw({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var Hs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Vs({type:n})}static{this.\u0275inj=Fs({})}}return n})(),$p="browser",MP="server";function xP(n){return n===$p}function Hp(n){return n===MP}var iT=(()=>{class n{static{this.\u0275prov=j({token:n,providedIn:"root",factory:()=>xP(P(an))?new Fp(P(ht),window):new Vp})}}return n})(),Fp=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=PP(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function PP(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Vp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qu=class{};var Wp=class extends zu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kp=class n extends Wp{static makeCurrent(){YD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=kP();return t==null?null:OP(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return eT(document.cookie,e)}},zs=null;function kP(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}function OP(n){return new URL(n,document.baseURI).pathname}var LP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Gu=new $(""),cT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(K(Gu),K(ve))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),qs=class{constructor(e){this._doc=e}},qp="ng-app-id",uT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hp(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${qp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(qp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(qp,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(K(ht),K(dp),K(fp,8),K(an))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Gp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yp=/%COMP%/g,lT="%COMP%",FP=`_nghost-${lT}`,VP=`_ngcontent-${lT}`,UP=!0,jP=new $("",{providedIn:"root",factory:()=>UP});function BP(n){return VP.replace(Yp,n)}function $P(n){return FP.replace(Yp,n)}function dT(n,e){return e.map(t=>t.replace(Yp,n))}var oT=(()=>{class n{constructor(t,r,i,o,s,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Hp(c),this.defaultRenderer=new Gs(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===tn.ShadowDom&&(r=Ce(L({},r),{encapsulation:tn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Wu?i.applyToHost(t):i instanceof Ws&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case tn.Emulated:o=new Wu(u,l,r,this.appId,f,s,c,p);break;case tn.ShadowDom:return new Qp(u,l,t,r,s,c,this.nonce,p);default:o=new Ws(u,l,r,f,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(K(cT),K(uT),K(dp),K(jP),K(ht),K(an),K(ve),K(fp))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),Gs=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Gp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Gp[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Gp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(t,r,i&ur.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=co().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function sT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qp=class extends Gs{constructor(e,t,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=dT(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ws=class extends Gs{constructor(e,t,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?dT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends Ws{constructor(e,t,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,t,r,o,s,c,u,l),this.contentAttr=BP(l),this.hostAttr=$P(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},HP=(()=>{class n extends qs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),zP=(()=>{class n extends qs{constructor(t){super(t),this.delegate=P(zD,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})(),aT=["alt","control","meta","shift"],qP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},WP=(()=>{class n extends qs{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>co().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),aT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=qP[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),aT.forEach(s=>{if(s!==i){let c=GP[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function hT(n,e){return HD(L({rootComponent:n},KP(e)))}function KP(n){return{appProviders:[...XP,...n?.providers??[]],platformProviders:JP}}function QP(){Kp.makeCurrent()}function YP(){return new Cn}function ZP(){return ME(document),document}var JP=[{provide:an,useValue:$p},{provide:hp,useValue:QP,multi:!0},{provide:ht,useFactory:ZP,deps:[]}];var XP=[{provide:vu,useValue:"root"},{provide:Cn,useFactory:YP,deps:[]},{provide:Gu,useClass:HP,multi:!0,deps:[ht,ve,an]},{provide:Gu,useClass:WP,multi:!0,deps:[ht]},{provide:Gu,useClass:zP,multi:!0},oT,uT,cT,{provide:Yi,useExisting:oT},{provide:qu,useClass:LP,deps:[]},[]];var fT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var te="primary",ca=Symbol("RouteTitle"),tg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function mo(n){return new tg(n)}function tk(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function nk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cn(n[t],e[t]))return!1;return!0}function cn(n,e){let t=n?ng(n):void 0,r=e?ng(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!TT(n[i],e[i]))return!1;return!0}function ng(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function TT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function CT(n){return n.length>0?n[n.length-1]:null}function fr(n){return Rh(n)?n:ao(n)?Se(Promise.resolve(n)):q(n)}var rk={exact:ST,subset:AT},bT={exact:ik,subset:ok,ignored:()=>!0};function pT(n,e,t){return rk[t.paths](n.root,e.root,t.matrixParams)&&bT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ik(n,e){return cn(n,e)}function ST(n,e,t){if(!Jr(n.segments,e.segments)||!Yu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ST(n.children[r],e.children[r],t))return!1;return!0}function ok(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>TT(n[t],e[t]))}function AT(n,e,t){return RT(n,e,e.segments,t)}function RT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Jr(i,t)||e.hasChildren()||!Yu(i,t,r))}else if(n.segments.length===t.length){if(!Jr(n.segments,t)||!Yu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!AT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Jr(n.segments,i)||!Yu(n.segments,i,r)||!n.children[te]?!1:RT(n.children[te],e,o,r)}}function Yu(n,e,t){return e.every((r,i)=>bT[t](n[i].parameters,r.parameters))}var Mn=class{constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return ck.serialize(this)}},_e=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zu(this)}},Zr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return MT(this)}};function sk(n,e){return Jr(n,e)&&n.every((t,r)=>cn(t.parameters,e[r].parameters))}function Jr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function ak(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var ua=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>new yo,providedIn:"root"})}}return n})(),yo=class{parse(e){let t=new ig(e);return new Mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ks(e.root,!0)}`,r=dk(e.queryParams),i=typeof e.fragment=="string"?`#${uk(e.fragment)}`:"";return`${t}${r}${i}`}},ck=new yo;function Zu(n){return n.segments.map(e=>MT(e)).join("/")}function Ks(n,e){if(!n.hasChildren())return Zu(n);if(e){let t=n.children[te]?Ks(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Ks(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ak(n,(r,i)=>i===te?[Ks(n.children[te],!1)]:[`${i}:${Ks(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${Zu(n)}/${t[0]}`:`${Zu(n)}/(${t.join("//")})`}}function NT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(n){return NT(n).replace(/%3B/gi,";")}function uk(n){return encodeURI(n)}function rg(n){return NT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(n){return decodeURIComponent(n)}function gT(n){return Ju(n.replace(/\+/g,"%20"))}function MT(n){return`${rg(n.path)}${lk(n.parameters)}`}function lk(n){return Object.entries(n).map(([e,t])=>`;${rg(e)}=${rg(t)}`).join("")}function dk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ku(t)}=${Ku(i)}`).join("&"):`${Ku(t)}=${Ku(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var hk=/^[^\/()?;#]+/;function Zp(n){let e=n.match(hk);return e?e[0]:""}var fk=/^[^\/()?;=#]+/;function pk(n){let e=n.match(fk);return e?e[0]:""}var gk=/^[^=?&#]+/;function mk(n){let e=n.match(gk);return e?e[0]:""}var yk=/^[^&#]+/;function vk(n){let e=n.match(yk);return e?e[0]:""}var ig=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new _e(e,t)),r}parseSegment(){let e=Zp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Zr(Ju(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=pk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Zp(this.remaining);i&&(r=i,this.capture(r))}e[Ju(t)]=Ju(r)}parseQueryParam(e){let t=mk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=vk(this.remaining);s&&(r=s,this.capture(r))}let i=gT(t),o=gT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function xT(n){return n.segments.length>0?new _e([],{[te]:n}):n}function PT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=PT(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return _k(t)}function _k(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new _e(n.segments.concat(e.segments),e.children)}return n}function Xr(n){return n instanceof Mn}function Ik(n,e,t=null,r=null){let i=kT(n);return OT(i,e,t,r)}function kT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=xT(r);return e??i}function OT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Jp(i,i,i,t,r);let o=wk(e);if(o.toRoot())return Jp(i,i,new _e([],{}),t,r);let s=Ek(o,i,n),c=s.processChildren?Zs(s.segmentGroup,s.index,o.commands):FT(s.segmentGroup,s.index,o.commands);return Jp(i,s.segmentGroup,c,t,r)}function Xu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ea(n){return typeof n=="object"&&n!=null&&n.outlets}function Jp(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=LT(n,e,t);let c=xT(PT(s));return new Mn(c,o,i)}function LT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=LT(o,e,t)}),new _e(n.segments,r)}var el=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xu(r[0]))throw new B(4003,!1);let i=r.find(ea);if(i&&i!==CT(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new el(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new el(t,e,r)}var fo=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Ek(n,e,t){if(n.isAbsolute)return new fo(e,!0,0);if(!t)return new fo(e,!1,NaN);if(t.parent===null)return new fo(t,!0,0);let r=Xu(n.commands[0])?0:1,i=t.segments.length-1+r;return Dk(t,i,n.numberOfDoubleDots)}function Dk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new fo(r,!1,i-o)}function Tk(n){return ea(n[0])?n[0].outlets:{[te]:n}}function FT(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Zs(n,e,t);let r=Ck(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new _e(n.segments.slice(r.pathIndex),n.children),Zs(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?og(n,e,t):r.match?Zs(n,0,i):og(n,e,t)}function Zs(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=Tk(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=Zs(n.children[te],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=FT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function Ck(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(ea(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!yT(u,l,s))return o;r+=2}else{if(!yT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function og(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ea(o)){let u=bk(o.outlets);return new _e(r,u)}if(i===0&&Xu(t[0])){let u=n.segments[e];r.push(new Zr(u.path,mT(t[0]))),i++;continue}let s=ea(o)?o.outlets[te]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Xu(c)?(r.push(new Zr(s,mT(c))),i+=2):(r.push(new Zr(s,{})),i++)}return new _e(r,{})}function bk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=og(new _e([],{}),0,r))}),e}function mT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function yT(n,e,t){return n==t.path&&cn(e,t.parameters)}var Js="imperative",$e=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}($e||{}),Ot=class{constructor(e,t){this.id=e,this.url=t}},vo=class extends Ot{constructor(e,t,r="imperative",i=null){super(e,t),this.type=$e.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends Ot{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(St||{}),tl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(tl||{}),Nn=class extends Ot{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends Ot{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=$e.NavigationSkipped}},ta=class extends Ot{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class extends Ot{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cg=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends Ot{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dg=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pg=class{constructor(e){this.snapshot=e,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(e){this.snapshot=e,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rl=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=$e.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},na=class{},_o=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Sk(n,e){return n.providers&&!n._injector&&(n._injector=ku(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gt(n){return n.outlet||te}function Ak(n,e){let t=n.filter(r=>Gt(r)===e);return t.push(...n.filter(r=>Gt(r)!==e)),t}function la(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var mg=class{get injector(){return la(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new da(this.rootInjector),this.attachRef=null}},da=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(K(Ct))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),il=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vg(e,this._root).map(t=>t.value)}};function yg(n,e){if(n===e.value)return e;for(let t of e.children){let r=yg(n,t);if(r)return r}return null}function vg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vg(n,t);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ho(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ol=class extends il{constructor(e,t){super(e),this.snapshot=t,Sg(this,e)}toString(){return this.snapshot.toString()}};function VT(n){let e=Rk(n),t=new Fe([new Zr("",{})]),r=new Fe({}),i=new Fe({}),o=new Fe({}),s=new Fe(""),c=new hr(t,r,o,s,i,te,n,e.root);return c.snapshot=e.root,new ol(new bt(c,[]),e)}function Rk(n){let e={},t={},r={},i="",o=new po([],e,r,i,t,te,n,null,{});return new al("",new bt(o,[]))}var hr=class{constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[ca]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&jT(i)&&(r.resolve[ca]=i.title),r}var po=class{get title(){return this.data?.[ca]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},al=class extends il{constructor(e,t){super(t),this.url=e,Sg(this,t)}toString(){return UT(this._root)}};function Sg(n,e){e.value._routerState=n,e.children.forEach(t=>Sg(n,t))}function UT(n){let e=n.children.length>0?` { ${n.children.map(UT).join(", ")} } `:"";return`${n.value}${e}`}function Xp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),cn(e.params,t.params)||n.paramsSubject.next(t.params),nk(e.url,t.url)||n.urlSubject.next(t.url),cn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _g(n,e){let t=cn(n.params,e.params)&&sk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_g(n.parent,e.parent))}function jT(n){return typeof n.title=="string"||n.title===null}var Ag=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=P(da),this.location=P(io),this.changeDetector=P(Yr),this.inputBinder=P(dl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ig(t,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=qr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xi]})}}return n})(),Ig=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===hr?this.route:e===da?this.childContexts:this.parent.get(e,t)}},dl=new $(""),vT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ws([r.queryParams,r.params,r.data]).pipe(Nt(([o,s,c],u)=>(c=L(L(L({},o),s),c),u===0?q(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=qD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function Nk(n,e,t){let r=ra(n,e._root,t?t._root:void 0);return new ol(r,e)}function ra(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Mk(n,e,t);return new bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>ra(n,c)),s}}let r=xk(e.value),i=e.children.map(o=>ra(n,o));return new bt(r,i)}}function Mk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ra(n,r,i);return ra(n,r)})}function xk(n){return new hr(new Fe(n.url),new Fe(n.params),new Fe(n.queryParams),new Fe(n.fragment),new Fe(n.data),n.outlet,n.component,n)}var ia=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BT="ngNavigationCancelingError";function cl(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Xr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$T(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $T(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BT]=!0,t.cancellationCode=e,t}function Pk(n){return HT(n)&&Xr(n.url)}function HT(n){return!!n&&n[BT]}var kk=(n,e,t,r)=>re(i=>(new wg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),wg=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ho(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ho(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ho(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Xp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Xp(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ul=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},go=class{constructor(e,t){this.component=e,this.route=t}};function Ok(n,e,t){let r=n._root,i=e?e._root:null;return Qs(r,i,t,[r.value])}function Lk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Eo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!yw(n)?n:e.get(n):r}function Qs(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ho(e);return n.children.forEach(s=>{Fk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Xs(c,t.getContext(s),i)),i}function Fk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Vk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ul(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qs(n,e,c?c.children:null,r,i):Qs(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new go(c.outlet.component,s))}else s&&Xs(e,c,i),i.canActivateChecks.push(new ul(r)),o.component?Qs(n,null,c?c.children:null,r,i):Qs(n,null,t,r,i);return i}function Vk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Jr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jr(n.url,e.url)||!cn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_g(n,e)||!cn(n.queryParams,e.queryParams);case"paramsChange":default:return!_g(n,e)}}function Xs(n,e,t){let r=ho(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Xs(s,e.children.getContext(o),t):Xs(s,null,t):Xs(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new go(e.outlet.component,i)):t.canDeactivateChecks.push(new go(null,i)):t.canDeactivateChecks.push(new go(null,i))}function ha(n){return typeof n=="function"}function Uk(n){return typeof n=="boolean"}function jk(n){return n&&ha(n.canLoad)}function Bk(n){return n&&ha(n.canActivate)}function $k(n){return n&&ha(n.canActivateChild)}function Hk(n){return n&&ha(n.canDeactivate)}function zk(n){return n&&ha(n.canMatch)}function zT(n){return n instanceof En||n?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function Io(){return Nt(n=>ws(n.map(e=>e.pipe(Dn(1),Vc(Qu)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===Qu)return Qu;if(t===!1||qk(t))return t}return!0}),Dt(e=>e!==Qu),Dn(1)))}function qk(n){return Xr(n)||n instanceof ia}function Gk(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(Ce(L({},t),{guardsResult:!0})):Wk(s,r,i,n).pipe(ke(c=>c&&Uk(c)?Kk(r,o,n,e):q(c)),re(c=>Ce(L({},t),{guardsResult:c})))})}function Wk(n,e,t,r){return Se(n).pipe(ke(i=>Xk(i.component,i.route,t,e,r)),Zt(i=>i!==!0,!0))}function Kk(n,e,t,r){return Se(e).pipe(Lr(i=>Oi(Yk(i.route.parent,r),Qk(i.route,r),Jk(n,i.path,t),Zk(n,i.route,t))),Zt(i=>i!==!0,!0))}function Qk(n,e){return n!==null&&e&&e(new pg(n)),q(!0)}function Yk(n,e){return n!==null&&e&&e(new hg(n)),q(!0)}function Zk(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Oc(()=>{let s=la(e)??t,c=Eo(o,s),u=Bk(c)?c.canActivate(e,n):sn(s,()=>c(e,n));return fr(u).pipe(Zt())}));return q(i).pipe(Io())}function Jk(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Lk(s)).filter(s=>s!==null).map(s=>Oc(()=>{let c=s.guards.map(u=>{let l=la(s.node)??t,f=Eo(u,l),p=$k(f)?f.canActivateChild(r,n):sn(l,()=>f(r,n));return fr(p).pipe(Zt())});return q(c).pipe(Io())}));return q(o).pipe(Io())}function Xk(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(c=>{let u=la(e)??i,l=Eo(c,u),f=Hk(l)?l.canDeactivate(n,e,t,r):sn(u,()=>l(n,e,t,r));return fr(f).pipe(Zt())});return q(s).pipe(Io())}function eO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let c=Eo(s,n),u=jk(c)?c.canLoad(e,t):sn(n,()=>c(e,t));return fr(u)});return q(o).pipe(Io(),qT(r))}function qT(n){return Ic(Ve(e=>{if(typeof e!="boolean")throw cl(n,e)}),re(e=>e===!0))}function tO(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let c=Eo(s,n),u=zk(c)?c.canMatch(e,t):sn(n,()=>c(e,t));return fr(u)});return q(o).pipe(Io(),qT(r))}var oa=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function lo(n){return ki(new oa(n))}function nO(n){return ki(new B(4e3,!1))}function rO(n){return ki($T(!1,St.GuardRejected))}var Eg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[te])return nO(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:I,data:S,title:N}=i,R=sn(o,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:N}));if(R instanceof Mn)throw new sa(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new sa(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Mn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iO(n,e,t,r,i){let o=GT(n,e,t);return o.matched?(r=Sk(e,r),tO(r,e,t,i).pipe(re(s=>s===!0?o:L({},Dg)))):q(o)}function GT(n,e,t){if(e.path==="**")return oO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Dg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tk)(t,n,e);if(!i)return L({},Dg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function oO(n){return{matched:!0,parameters:n.length>0?CT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _T(n,e,t,r){return t.length>0&&cO(n,t,r)?{segmentGroup:new _e(e,aO(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&uO(n,t,r)?{segmentGroup:new _e(n.segments,sO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function sO(n,e,t,r){let i={};for(let o of t)if(hl(n,e,o)&&!r[Gt(o)]){let s=new _e([],{});i[Gt(o)]=s}return L(L({},r),i)}function aO(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&Gt(r)!==te){let i=new _e([],{});t[Gt(r)]=i}return t}function cO(n,e,t){return t.some(r=>hl(n,e,r)&&Gt(r)!==te)}function uO(n,e,t){return t.some(r=>hl(n,e,r))}function hl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function lO(n,e,t){return e.length===0&&!n.children[t]}var Tg=class{};function dO(n,e,t,r,i,o,s="emptyOnly"){return new Cg(n,e,t,r,i,s,o).recognize()}var hO=31,Cg=class{constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=_T(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let i=new bt(r,t),o=new al("",i),s=Ik(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new po([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(re(r=>({children:r,rootSnapshot:t})),Xn(r=>{if(r instanceof sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof oa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(re(s=>s instanceof bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Lr(s=>{let c=r.children[s],u=Ak(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Fc((s,c)=>(s.push(...c),s)),er(null),Mh(),ke(s=>{if(s===null)return lo(r);let c=WT(s);return fO(c),q(c)}))}processSegment(e,t,r,i,o,s,c){return Se(t).pipe(Lr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Xn(l=>{if(l instanceof oa)return q(null);throw l}))),Zt(u=>!!u),Xn(u=>{if(zT(u))return lO(r,i,o)?q(new Tg):lo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return Gt(r)!==s&&(s===te||!hl(i,o,r))?lo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):lo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=GT(t,i,o);if(!u)return lo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hO&&(this.allowRedirects=!1));let I=new po(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,IT(i),Gt(i),i.component??i._loadedComponent??null,i,wT(i)),S=sl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ke(R=>this.processSegment(e,r,t,R.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=iO(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Nt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:I}=u,S=new po(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,IT(r),Gt(r),r.component??r._loadedComponent??null,r,wT(r)),N=sl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:O}=_T(t,y,I,l);if(O.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(re(z=>new bt(S,z)));if(l.length===0&&O.length===0)return q(new bt(S,[]));let V=Gt(r)===o;return this.processSegment(f,l,R,O,V?te:o,!0,S).pipe(re(z=>new bt(S,z instanceof bt?[z]:[])))}))):lo(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):eO(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(Ve(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):rO(t))):q({routes:[],injector:e})}};function fO(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function pO(n){let e=n.value.routeConfig;return e&&e.path===""}function WT(n){let e=[],t=new Set;for(let r of n){if(!pO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=WT(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!t.has(r))}function IT(n){return n.data||{}}function wT(n){return n.resolve||{}}function gO(n,e,t,r,i,o){return ke(s=>dO(n,e,t,r,s.extractedUrl,i,o).pipe(re(({state:c,tree:u})=>Ce(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function mO(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of KT(u))s.add(l);let c=0;return Se(s).pipe(Lr(u=>o.has(u)?yO(u,r,n,e):(u.data=sl(u,u.parent,n).resolve,q(void 0))),Ve(()=>c++),Li(1),ke(u=>c===s.size?q(t):Et))})}function KT(n){let e=n.children.map(t=>KT(t)).flat();return[n,...e]}function yO(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!jT(i)&&(o[ca]=i.title),vO(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=sl(n,n.parent,t).resolve,null)))}function vO(n,e,t,r){let i=ng(n);if(i.length===0)return q({});let o={};return Se(i).pipe(ke(s=>_O(n[s],e,t,r).pipe(Zt(),Ve(c=>{if(c instanceof ia)throw cl(new yo,c);o[s]=c}))),Li(1),Nh(o),Xn(s=>zT(s)?Et:ki(s)))}function _O(n,e,t,r){let i=la(e)??r,o=Eo(n,i),s=o.resolve?o.resolve(e,t):sn(i,()=>o(e,t));return fr(s)}function eg(n){return Nt(e=>{let t=n(e);return t?Se(t).pipe(re(()=>e)):q(e)})}var QT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[ca]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(IO),providedIn:"root"})}}return n})(),IO=(()=>{class n extends QT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(K(fT))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fa=new $("",{providedIn:"root",factory:()=>({})}),wO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=mt({type:n,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,i){r&1&&Pe(0,"router-outlet")},dependencies:[Ag],encapsulation:2})}}return n})();function Rg(n){let e=n.children&&n.children.map(Rg),t=e?Ce(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=wO),t}var aa=new $(""),Ng=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Hu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=fr(t.loadComponent()).pipe(re(YT),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Es(()=>{this.componentLoaders.delete(t)})),i=new Ni(r,()=>new Xe).pipe(Ri());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=EO(r,this.compiler,t,this.onLoadEndListener).pipe(Es(()=>{this.childrenLoaders.delete(r)})),s=new Ni(o,()=>new Xe).pipe(Ri());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function EO(n,e,t,r){return fr(n.loadChildren()).pipe(re(YT),ke(i=>i instanceof Os||Array.isArray(i)?q(i):Se(e.compileModuleAsync(i))),re(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(aa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rg),injector:o}}))}function DO(n){return n&&typeof n=="object"&&"default"in n}function YT(n){return DO(n)?n.default:n}var Mg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(TO),providedIn:"root"})}}return n})(),TO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZT=new $(""),JT=new $("");function CO(n,e,t){let r=n.get(JT),i=n.get(ht);return n.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),bO(n))),{onViewTransitionCreated:u}=r;return u&&sn(n,()=>u({transition:c,from:e,to:t})),s})}function bO(n){return new Promise(e=>{Sp({read:()=>setTimeout(e)},{injector:n})})}var SO=new $(""),xg=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xe,this.transitionAbortSubject=new Xe,this.configLoader=P(Ng),this.environmentInjector=P(Ct),this.urlSerializer=P(ua),this.rootContexts=P(da),this.location=P(uo),this.inputBindingEnabled=P(dl,{optional:!0})!==null,this.titleStrategy=P(QT),this.options=P(fa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Mg),this.createViewTransition=P(ZT,{optional:!0}),this.navigationErrorHandler=P(SO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let t=i=>this.events.next(new lg(i)),r=i=>this.events.next(new dg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ce(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Js,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(o=>o.id!==0),re(o=>Ce(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nt(o=>{let s=!1,c=!1;return q(o).pipe(Nt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new dr(u.id,this.urlSerializer.serialize(u.rawUrl),p,tl.IgnoredSameUrlNavigation)),u.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(Nt(p=>{let y=this.transitions?.getValue();return this.events.next(new vo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Et:Promise.resolve(p)}),gO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ce(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new nl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:I,restoredState:S,extras:N}=u,R=new vo(p,this.urlSerializer.serialize(y),I,S);this.events.next(R);let O=VT(this.rootComponentType).snapshot;return this.currentTransition=o=Ce(L({},u),{targetSnapshot:O,urlAfterRedirects:y,extras:Ce(L({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,q(o)}else{let p="";return this.events.next(new dr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,tl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Et}}),Ve(u=>{let l=new sg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),re(u=>(this.currentTransition=o=Ce(L({},u),{guards:Ok(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Gk(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw cl(this.urlSerializer,u.guardsResult);let l=new ag(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Dt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",St.GuardRejected),!1)),eg(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Ve(l=>{let f=new cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Nt(l=>{let f=!1;return q(l).pipe(mO(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",St.NoDataFromResolver)}}))}),Ve(l=>{let f=new ug(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),eg(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ve(y=>{f.component=y}),re(()=>{})));for(let y of f.children)p.push(...l(y));return p};return ws(l(u.targetSnapshot.root)).pipe(er(null),Dn(1))}),eg(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Se(f).pipe(re(()=>o)):q(o)}),re(u=>{let l=Nk(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ce(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ve(()=>{this.events.next(new na)}),kk(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dn(1),Ve({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),xh(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),Es(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(u=>{if(c=!0,HT(u))this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Pk(u)?this.events.next(new _o(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ta(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=sn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof ia){let{message:p,cancellationCode:y}=cl(this.urlSerializer,f);this.events.next(new Nn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,y)),this.events.next(new _o(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new Nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function AO(n){return n!==Js}var RO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(NO),providedIn:"root"})}}return n})(),bg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},NO=(()=>{class n extends bg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=sp(n)))(i||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:()=>P(MO),providedIn:"root"})}}return n})(),MO=(()=>{class n extends XT{constructor(){super(...arguments),this.location=P(uo),this.urlSerializer=P(ua),this.options=P(fa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Mg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof vo)this.stateMemento=this.createStateMemento();else if(t instanceof dr)this.rawUrlTree=r.initialUrl;else if(t instanceof nl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof na?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Nn&&(t.code===St.GuardRejected||t.code===St.NoDataFromResolver)?this.restoreHistory(r):t instanceof ta?this.restoreHistory(r,!0):t instanceof Wt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Mn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=sp(n)))(i||n)}})()}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ys=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ys||{});function eC(n,e){n.events.pipe(Dt(t=>t instanceof Wt||t instanceof Nn||t instanceof ta||t instanceof dr),re(t=>t instanceof Wt||t instanceof dr?Ys.COMPLETE:(t instanceof Nn?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?Ys.REDIRECTING:Ys.FAILED),Dt(t=>t!==Ys.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function xO(n){throw n}var PO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(ju),this.stateManager=P(XT),this.options=P(fa,{optional:!0})||{},this.pendingTasks=P(no),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(xg),this.urlSerializer=P(ua),this.location=P(uo),this.urlHandlingStrategy=P(Mg),this._events=new Xe,this.errorHandler=this.options.errorHandler||xO,this.navigated=!1,this.routeReuseStrategy=P(RO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(aa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(dl,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wt)this.navigated=!0;else if(r instanceof _o){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AO(i.source)},s);this.scheduleNavigation(c,Js,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Js,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Rg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=kT(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return OT(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Xr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Js,null,r)}navigate(t,r={skipLocationChange:!1}){return OO(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},PO):r===!1?i=L({},kO):i=r,Xr(t))return pT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return pT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return eC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OO(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}function LO(n){return!(n instanceof na)&&!(n instanceof _o)}var wo=(()=>{class n{constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new Xe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:kE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Ie(un),Ie(hr),ap("tabindex"),Ie(Wr),Ie(zt),Ie(Rn))}}static{this.\u0275dir=qr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&We("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ap("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$s],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$s],replaceUrl:[2,"replaceUrl","replaceUrl",$s],routerLink:"routerLink"},standalone:!0,features:[bp,Xi]})}}return n})(),fl=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ge,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Wt&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Jn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Se(t).pipe(Jn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=FO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(Ie(un),Ie(zt),Ie(Wr),Ie(Yr),Ie(wo,8))}}static{this.\u0275dir=qr({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&RD(o,wo,5),r&2){let s;ND(s=MD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Xi]})}}return n})();function FO(n){return!!n.paths}var ll=class{};var VO=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof Wt),Lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ku(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Se(i).pipe(Jn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let o=i.pipe(ke(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Se([o,s]).pipe(Jn())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(K(un),K(Hu),K(Ct),K(ll),K(Ng))}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tC=new $(""),UO=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof dr&&t.code===tl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rl&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rl(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){GE()}}static{this.\u0275prov=j({token:n,factory:n.\u0275fac})}}return n})();function nC(n,...e){return on([{provide:aa,multi:!0,useValue:n},[],{provide:hr,useFactory:rC,deps:[un]},{provide:$u,multi:!0,useFactory:iC},e.map(t=>t.\u0275providers)])}function rC(n){return n.routerState.root}function pa(n,e){return{\u0275kind:n,\u0275providers:e}}function iC(){let n=P(it);return e=>{let t=n.get(Qr);if(e!==t.components[0])return;let r=n.get(un),i=n.get(oC);n.get(Pg)===1&&r.initialNavigation(),n.get(sC,null,ne.Optional)?.setUpPreloading(),n.get(tC,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oC=new $("",{factory:()=>new Xe}),Pg=new $("",{providedIn:"root",factory:()=>1});function jO(){return pa(2,[{provide:Pg,useValue:0},{provide:Bu,multi:!0,deps:[it],useFactory:e=>{let t=e.get(ZD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(un),o=e.get(oC);eC(i,()=>{r(!0)}),e.get(xg).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}])}function BO(){return pa(3,[{provide:Bu,multi:!0,useFactory:()=>{let e=P(un);return()=>{e.setUpLocationChangeListener()}}},{provide:Pg,useValue:2}])}var sC=new $("");function $O(n){return pa(0,[{provide:sC,useExisting:VO},{provide:ll,useExisting:n}])}function HO(){return pa(8,[vT,{provide:dl,useExisting:vT}])}function zO(n){let e=[{provide:ZT,useValue:CO},{provide:JT,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return pa(9,e)}var ET=new $("ROUTER_FORROOT_GUARD"),qO=[uo,{provide:ua,useClass:yo},un,da,{provide:hr,useFactory:rC,deps:[un]},Ng,[]],pl=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qO,[],{provide:aa,multi:!0,useValue:t},{provide:ET,useFactory:QO,deps:[[un,new ot,new Hf]]},{provide:fa,useValue:r||{}},r?.useHash?WO():KO(),GO(),r?.preloadingStrategy?$O(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?YO(r):[],r?.bindToComponentInputs?HO().\u0275providers:[],r?.enableViewTransitions?zO().\u0275providers:[],ZO()]}}static forChild(t){return{ngModule:n,providers:[{provide:aa,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(K(ET,8))}}static{this.\u0275mod=Vs({type:n})}static{this.\u0275inj=Fs({})}}return n})();function GO(){return{provide:tC,useFactory:()=>{let n=P(iT),e=P(ve),t=P(fa),r=P(xg),i=P(ua);return t.scrollOffset&&n.setOffset(t.scrollOffset),new UO(i,r,n,e,t)}}}function WO(){return{provide:Rn,useClass:XD}}function KO(){return{provide:Rn,useClass:Bp}}function QO(n){return"guarded"}function YO(n){return[n.initialNavigation==="disabled"?BO().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jO().\u0275providers:[]]}var DT=new $("");function ZO(){return[{provide:DT,useFactory:iC},{provide:$u,multi:!0,useExisting:DT}]}var uC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},JO=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},lC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,s||(y=64)),r.push(t[f],t[p],t[y],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Og;let y=o<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Og=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XO=function(n){let e=uC(n);return lC.encodeByteArray(e,!0)},ga=function(n){return XO(n).replace(/\./g,"")},Fg=function(n){try{return lC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function e1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t1=()=>e1().__FIREBASE_DEFAULTS__,n1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Fg(n[1]);return e&&JSON.parse(e)},ml=()=>{try{return t1()||n1()||r1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vg=n=>{var e,t;return(t=(e=ml())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},dC=n=>{let e=Vg(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ug=()=>{var n;return(n=ml())===null||n===void 0?void 0:n.config},jg=n=>{var e;return(e=ml())===null||e===void 0?void 0:e[`_${n}`]};var gl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ga(JSON.stringify(t)),ga(JSON.stringify(s)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function i1(){var n;let e=(n=ml())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){let n=He();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vC(){return!i1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bg(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var o1="FirebaseError",At=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=o1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?s1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new At(i,c,r)}};function s1(n,e){return n.replace(a1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var a1=/\{\$([^}]+)}/g;function IC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ei(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(cC(o)&&cC(s)){if(!ei(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function cC(n){return n!==null&&typeof n=="object"}function ma(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wC(n,e){let t=new Lg(n,e);return t.subscribe.bind(t)}var Lg=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");c1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=kg),i.error===void 0&&(i.error=kg),i.complete===void 0&&(i.complete=kg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function c1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kg(){}var PG=4*60*60*1e3;function _t(n){return n&&n._delegate?n._delegate:n}var Lt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ti="[DEFAULT]";var $g=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new gl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function u1(n){return n===ti?void 0:n}function l1(n){return n.instantiationMode==="EAGER"}var yl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new $g(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var d1=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),h1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},f1=ae.INFO,p1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},g1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=p1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pr=class{constructor(e){this.name=e,this._logLevel=f1,this._logHandler=g1,this._userLogHandler=null,d1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var m1=(n,e)=>e.some(t=>n instanceof t),EC,DC;function y1(){return EC||(EC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return DC||(DC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TC=new WeakMap,zg=new WeakMap,CC=new WeakMap,Hg=new WeakMap,Gg=new WeakMap;function _1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ln(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&TC.set(t,n)}).catch(()=>{}),Gg.set(e,n),e}function I1(n){if(zg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});zg.set(n,e)}var qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ln(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bC(n){qg=n(qg)}function w1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(vl(this),e,...t);return CC.set(r,e.sort?e.sort():[e]),ln(r)}:v1().includes(n)?function(...e){return n.apply(vl(this),e),ln(TC.get(this))}:function(...e){return ln(n.apply(vl(this),e))}}function E1(n){return typeof n=="function"?w1(n):(n instanceof IDBTransaction&&I1(n),m1(n,y1())?new Proxy(n,qg):n)}function ln(n){if(n instanceof IDBRequest)return _1(n);if(Hg.has(n))return Hg.get(n);let e=E1(n);return e!==n&&(Hg.set(n,e),Gg.set(e,n)),e}var vl=n=>Gg.get(n);function AC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=ln(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ln(s.result),u.oldVersion,u.newVersion,ln(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var D1=["get","getKey","getAll","getAllKeys","count"],T1=["put","add","delete","clear"],Wg=new Map;function SC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=T1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D1.includes(t)))return;let o=function(s,...c){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Wg.set(e,o),o}bC(n=>Ce(L({},n),{get:(e,t,r)=>SC(e,t)||n.get(e,t,r),has:(e,t)=>!!SC(e,t)||n.has(e,t)}));var Qg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C1(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function C1(n){let e=n.getComponent();return e?.type==="VERSION"}var Yg="@firebase/app",RC="0.10.11";var Pn=new pr("@firebase/app"),b1="@firebase/app-compat",S1="@firebase/analytics-compat",A1="@firebase/analytics",R1="@firebase/app-check-compat",N1="@firebase/app-check",M1="@firebase/auth",x1="@firebase/auth-compat",P1="@firebase/database",k1="@firebase/database-compat",O1="@firebase/functions",L1="@firebase/functions-compat",F1="@firebase/installations",V1="@firebase/installations-compat",U1="@firebase/messaging",j1="@firebase/messaging-compat",B1="@firebase/performance",$1="@firebase/performance-compat",H1="@firebase/remote-config",z1="@firebase/remote-config-compat",q1="@firebase/storage",G1="@firebase/storage-compat",W1="@firebase/firestore",K1="@firebase/vertexai-preview",Q1="@firebase/firestore-compat",Y1="firebase",Z1="10.13.2";var Zg="[DEFAULT]",J1={[Yg]:"fire-core",[b1]:"fire-core-compat",[A1]:"fire-analytics",[S1]:"fire-analytics-compat",[N1]:"fire-app-check",[R1]:"fire-app-check-compat",[M1]:"fire-auth",[x1]:"fire-auth-compat",[P1]:"fire-rtdb",[k1]:"fire-rtdb-compat",[O1]:"fire-fn",[L1]:"fire-fn-compat",[F1]:"fire-iid",[V1]:"fire-iid-compat",[U1]:"fire-fcm",[j1]:"fire-fcm-compat",[B1]:"fire-perf",[$1]:"fire-perf-compat",[H1]:"fire-rc",[z1]:"fire-rc-compat",[q1]:"fire-gcs",[G1]:"fire-gcs-compat",[W1]:"fire-fst",[Q1]:"fire-fst-compat",[K1]:"fire-vertex","fire-js":"fire-js",[Y1]:"fire-js-all"};var ya=new Map,X1=new Map,Jg=new Map;function NC(n,e){try{n.container.addComponent(e)}catch(t){Pn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mr(n){let e=n.name;if(Jg.has(e))return Pn.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,n);for(let t of ya.values())NC(t,n);for(let t of X1.values())NC(t,n);return!0}function _a(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function kn(n){return n.settings!==void 0}var eL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new xn("app","Firebase",eL);var Xg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};var yr=Z1;function nm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(t||(t=Ug()),!t)throw gr.create("no-options");let o=ya.get(i);if(o){if(ei(t,o.options)&&ei(r,o.config))return o;throw gr.create("duplicate-app",{appName:i})}let s=new yl(i);for(let u of Jg.values())s.addComponent(u);let c=new Xg(t,r,s);return ya.set(i,c),c}function Do(n=Zg){let e=ya.get(n);if(!e&&n===Zg&&Ug())return nm();if(!e)throw gr.create("no-app",{appName:n});return e}function _l(){return Array.from(ya.values())}function Ue(n,e,t){var r;let i=(r=J1[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pn.warn(c.join(" "));return}mr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var tL="firebase-heartbeat-database",nL=1,va="firebase-heartbeat-store",Kg=null;function kC(){return Kg||(Kg=AC(tL,nL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(va)}catch(t){console.warn(t)}}}}).catch(n=>{throw gr.create("idb-open",{originalErrorMessage:n.message})})),Kg}function rL(n){return w(this,null,function*(){try{let t=(yield kC()).transaction(va),r=yield t.objectStore(va).get(OC(n));return yield t.done,r}catch(e){if(e instanceof At)Pn.warn(e.message);else{let t=gr.create("idb-get",{originalErrorMessage:e?.message});Pn.warn(t.message)}}})}function MC(n,e){return w(this,null,function*(){try{let r=(yield kC()).transaction(va,"readwrite");yield r.objectStore(va).put(e,OC(n)),yield r.done}catch(t){if(t instanceof At)Pn.warn(t.message);else{let r=gr.create("idb-set",{originalErrorMessage:t?.message});Pn.warn(r.message)}}})}function OC(n){return`${n.name}!${n.options.appId}`}var iL=1024,oL=30*24*60*60*1e3,em=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tm(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=oL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xC(),{heartbeatsToSend:r,unsentEntries:i}=sL(this._heartbeatsCache.heartbeats),o=ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pn.warn(t),""}})}};function xC(){return new Date().toISOString().substring(0,10)}function sL(n,e=iL){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),PC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var tm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Bg()?_C().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield rL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return MC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function PC(n){return ga(JSON.stringify({version:2,heartbeats:n})).length}function aL(n){mr(new Lt("platform-logger",e=>new Qg(e),"PRIVATE")),mr(new Lt("heartbeat",e=>new em(e),"PRIVATE")),Ue(Yg,RC,n),Ue(Yg,RC,"esm2017"),Ue("fire-js","")}aL("");var cL="firebase",uL="10.13.2";Ue(cL,uL,"app");var ri=new ar("ANGULARFIRE2_VERSION");function wl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ia=(n,e)=>{let t=e?[e]:_l(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Co=class{constructor(){return Ia(lL)}},lL="app-check";function To(){}var Il=class{zone;delegate;constructor(e,t=Sh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},rm=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),t.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},bo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Il(Zone.current)),this.insideAngular=t.run(()=>new Il(Zone.current,bh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(ve))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function El(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function dL(n){return El().ngZone.runOutsideAngular(()=>n())}function ni(n){return El().ngZone.run(()=>n())}function hL(n){return fL(El())(n)}function fL(n){return function(t){return t=t.lift(new rm(n.ngZone)),t.pipe(Zn(n.outsideAngular),Yn(n.insideAngular))}}var pL=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ni(()=>n.apply(void 0,r))},vr=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=ni(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To))),r[o]=pL(r[o],t));let i=dL(()=>n.apply(this,r));if(!e)if(i instanceof ue){let o=El();return i.pipe(Zn(o.outsideAngular),Yn(o.insideAngular))}else return ni(()=>i);return i instanceof ue?i.pipe(hL):i instanceof Promise?ni(()=>new Promise((o,s)=>i.then(c=>ni(()=>o(c)),c=>ni(()=>s(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:ni(()=>i)};var On=class{constructor(e){return e}},ii=class{constructor(){return _l()}};function gL(n){return n&&n.length===1?n[0]:new On(Do())}var im=new $("angularfire2._apps"),mL={provide:On,useFactory:gL,deps:[[new ot,im]]},yL={provide:ii,deps:[[new ot,im]]};function vL(n){return(e,t)=>{let r=t.get(an);Ue("angularfire",ri.full,"core"),Ue("angularfire",ri.full,"app"),Ue("angular",LD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new On(i)}}function LC(n,...e){return on([mL,yL,{provide:im,useFactory:vL(n),multi:!0,deps:[ve,it,bo,...e]}])}var FC=vr(nm,!0);function JC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var XC=JC,eb=new xn("auth","Firebase",JC());var Al=new pr("@firebase/auth");function _L(n,...e){Al.logLevel<=ae.WARN&&Al.warn(`Auth (${yr}): ${n}`,...e)}function Tl(n,...e){Al.logLevel<=ae.ERROR&&Al.error(`Auth (${yr}): ${n}`,...e)}function Ir(n,...e){throw Tm(n,...e)}function si(n,...e){return Tm(n,...e)}function tb(n,e,t){let r=Object.assign(Object.assign({},XC()),{[e]:t});return new xn("auth","Firebase",r).create(e,{appName:n.name})}function oi(n){return tb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eb.create(n,...e)}function Q(n,e,...t){if(!n)throw Tm(e,...t)}function Ln(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Tl(e),new Error(e)}function wr(n,e){n||Ln(e)}function cm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function IL(){return VC()==="http:"||VC()==="https:"}function VC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function wL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IL()||gC()||"connection"in navigator)?navigator.onLine:!0}function EL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ai=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wr(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||mC()}get(){return wL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cm(n,e){wr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TL=new ai(3e4,6e4);function bm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ao(o,s,c,u){return w(this,arguments,function*(n,e,t,r,i={}){return nb(n,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=ma(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:y},l);return pC()||(I.referrerPolicy="no-referrer"),Rl.fetch()(rb(n,n.config.apiHost,t,p),I)}))})}function nb(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},DL),e);try{let i=new um(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dl(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dl(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dl(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dl(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw tb(n,f,l);Ir(n,f)}}catch(i){if(i instanceof At)throw i;Ir(n,"network-request-failed",{message:String(i)})}})}function CL(o,s,c,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield Ao(n,e,t,r,i);return"mfaPendingCredential"in l&&Ir(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function rb(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Cm(n.config,i):`${n.config.apiScheme}://${i}`}var um=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),TL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=si(n,e,r);return i.customData._tokenResponse=t,i}function bL(n,e){return w(this,null,function*(){return Ao(n,"POST","/v1/accounts:delete",e)})}function ib(n,e){return w(this,null,function*(){return Ao(n,"POST","/v1/accounts:lookup",e)})}function wa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Sm(n,e=!1){return w(this,null,function*(){let t=_t(n),r=yield t.getIdToken(e),i=Am(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:wa(om(i.auth_time)),issuedAtTime:wa(om(i.iat)),expirationTime:wa(om(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function om(n){return Number(n)*1e3}function Am(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Fg(t);return i?JSON.parse(i):(Tl("Failed to decode base64 JWT payload"),null)}catch(i){return Tl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UC(n){let e=Am(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Da(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof At&&SL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function SL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var lm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ta=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nl(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Da(n,ib(t,{idToken:r}));Q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ob(o.providerUserInfo):[],c=AL(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ta(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function Rm(n){return w(this,null,function*(){let e=_t(n);yield Nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ob(n){return n.map(e=>{var{providerId:t}=e,r=Ah(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RL(n,e){return w(this,null,function*(){let t=yield nb(n,{},()=>w(this,null,function*(){let r=ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=rb(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Rl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function NL(n,e){return w(this,null,function*(){return Ao(n,"POST","/v2/accounts:revokeToken",bm(n,e))})}var Ea=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=UC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RL(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ln("not implemented")}};function _r(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var So=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ah(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ta(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Da(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Sm(this,e)}reload(){return Rm(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Nl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(kn(this.auth.app))return Promise.reject(oi(this.auth));let e=yield this.getIdToken();return yield Da(this,bL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,V=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:ie,isAnonymous:Ae,providerData:J,stsTokenManager:D}=t;Q(z&&D,e,"internal-error");let m=Ea.fromJSON(this.name,D);Q(typeof z=="string",e,"internal-error"),_r(p,e.name),_r(y,e.name),Q(typeof ie=="boolean",e,"internal-error"),Q(typeof Ae=="boolean",e,"internal-error"),_r(I,e.name),_r(S,e.name),_r(N,e.name),_r(R,e.name),_r(O,e.name),_r(V,e.name);let v=new n({uid:z,auth:e,email:y,emailVerified:ie,displayName:p,isAnonymous:Ae,photoURL:S,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:O,lastLoginAt:V});return J&&Array.isArray(J)&&(v.providerData=J.map(E=>Object.assign({},E))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Ea;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nl(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ob(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ea;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ta(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var jC=new Map;function Fn(n){wr(n instanceof Function,"Expected a class definition");let e=jC.get(n);return e?(wr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jC.set(n,e),e)}var ML=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),dm=ML;function Cl(n,e,t){return`firebase:${n}:${e}:${t}`}var Ml=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?So._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Fn(dm),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Fn(dm),s=Cl(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let p=So._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function BC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(db(e))return"Blackberry";if(hb(e))return"Webos";if(ab(e))return"Safari";if((e.includes("chrome/")||cb(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sb(n=He()){return/firefox\//i.test(n)}function ab(n=He()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cb(n=He()){return/crios\//i.test(n)}function ub(n=He()){return/iemobile/i.test(n)}function lb(n=He()){return/android/i.test(n)}function db(n=He()){return/blackberry/i.test(n)}function hb(n=He()){return/webos/i.test(n)}function Nm(n=He()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xL(n=He()){var e;return Nm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PL(){return yC()&&document.documentMode===10}function fb(n=He()){return Nm(n)||lb(n)||hb(n)||db(n)||/windows phone/i.test(n)||ub(n)}function pb(n,e=[]){let t;switch(n){case"Browser":t=BC(He());break;case"Worker":t=`${BC(He())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yr}/${r}`}var hm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function kL(t){return w(this,arguments,function*(n,e={}){return Ao(n,"GET","/v2/passwordPolicy",bm(n,e))})}var OL=6,fm=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:OL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var pm=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xl(this),this.idTokenSubscription=new xl(this),this.beforeStateQueue=new hm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fn(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield ib(this,{idToken:e}),r=yield So._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(kn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Nl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=EL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(kn(this.app))return Promise.reject(oi(this));let t=e?_t(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return kn(this.app)?Promise.reject(oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kn(this.app)?Promise.reject(oi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield kL(this),t=new fm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Fn(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield Ml.create(this,[Fn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&_L(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Mm(n){return _t(n)}var xl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xm={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(n){xm=n}function FL(n){return xm.loadJS(n)}function VL(){return xm.gapiScript}function gb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Pm(n,e){let t=_a(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ei(o,e??{}))return i;Ir(i,"already-initialized")}return t.initialize({options:e})}function UL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function km(n,e,t){let r=Mm(n);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=mb(e),{host:s,port:c}=jL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BL()}function mb(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jL(n){let e=mb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:$C(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:$C(s)}}}function $C(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function BL(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Pl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,t){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}};function sm(n,e){return w(this,null,function*(){return CL(n,"POST","/v1/accounts:signInWithIdp",bm(n,e))})}var kl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gm=class extends kl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ca=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield So._fromIdTokenResponse(e,r,i),s=HC(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=HC(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function HC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var mm=class n extends At{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function yb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(n,o,e,r):o})}function $L(n,e,t=!1){return w(this,null,function*(){let r=yield Da(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ca._forOperation(n,"link",r)})}function HL(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(kn(r.app))return Promise.reject(oi(r));let i="reauthenticate";try{let o=yield Da(n,yb(r,i,e,n),t);Q(o.idToken,r,"internal-error");let s=Am(o.idToken);Q(s,r,"internal-error");let{sub:c}=s;return Q(n.uid===c,r,"user-mismatch"),Ca._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ir(r,"user-mismatch"),o}})}function zL(n,e,t=!1){return w(this,null,function*(){if(kn(n.app))return Promise.reject(oi(n));let r="signIn",i=yield yb(n,r,e),o=yield Ca._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Om(n,e,t,r){return _t(n).onIdTokenChanged(e,t,r)}function Lm(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}var Ol="__sak";var Ll=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ol,"1"),this.storage.removeItem(Ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var qL=1e3,GL=10,WL=(()=>{class n extends Ll{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);PL()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,GL):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Kn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Kn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Kn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),vb=WL;var KL=(()=>{class n extends Ll{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Fm=KL;function QL(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var YL=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,s)})),l=yield QL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function _b(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ym=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=_b("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function dn(){return window}function ZL(n){dn().location.href=n}function Ib(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function JL(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XL(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eF(){return Ib()?self:null}var wb="firebaseLocalStorageDb",tF=1,Fl="firebaseLocalStorage",Eb="fbase_key",ci=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ul(n,e){return n.transaction([Fl],e?"readwrite":"readonly").objectStore(Fl)}function nF(){let n=indexedDB.deleteDatabase(wb);return new ci(n).toPromise()}function vm(){let n=indexedDB.open(wb,tF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Fl,{keyPath:Eb})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Fl)?e(r):(r.close(),yield nF(),e(yield vm()))}))})}function zC(n,e,t){return w(this,null,function*(){let r=Ul(n,!0).put({[Eb]:e,value:t});return new ci(r).toPromise()})}function rF(n,e){return w(this,null,function*(){let t=Ul(n,!1).get(e),r=yield new ci(t).toPromise();return r===void 0?null:r.value})}function qC(n,e){let t=Ul(n,!0).delete(e);return new ci(t).toPromise()}var iF=800,oF=3,sF=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield vm(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>oF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return Ib()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=YL._getInstance(eF()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield JL(),!this.activeServiceWorker)return;this.sender=new ym(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield vm();return yield zC(t,Ol,"1"),yield qC(t,Ol),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>zC(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>rF(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>qC(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=Ul(o,!1).getAll();return new ci(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),iF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Db=sF;var A9=gb("rcb"),R9=new ai(3e4,6e4);function aF(n,e){return e?Fn(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ba=class extends Pl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sm(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function cF(n){return zL(n.auth,new ba(n),n.bypassAuthState)}function uF(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),HL(t,new ba(n),n.bypassAuthState)}function lF(n){return w(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),$L(t,new ba(n),n.bypassAuthState)})}var _m=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cF;case"linkViaPopup":case"linkViaRedirect":return lF;case"reauthViaPopup":case"reauthViaRedirect":return uF;default:Ir(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var N9=new ai(2e3,1e4);var dF="pendingRedirect",bl=new Map,Im=class n extends _m{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=bl.get(this.auth._key());if(!e){try{let r=(yield hF(this.resolver,this.auth))?yield Kn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bl.set(this.auth._key(),e)}return this.bypassAuthState||bl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Kn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Kn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function hF(n,e){return w(this,null,function*(){let t=gF(e),r=pF(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function fF(n,e){bl.set(n._key(),e)}function pF(n){return Fn(n._redirectPersistence)}function gF(n){return Cl(dF,n.config.apiKey,n.name)}function mF(n,e,t=!1){return w(this,null,function*(){if(kn(n.app))return Promise.reject(oi(n));let r=Mm(n),i=aF(r,e),s=yield new Im(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var yF=10*60*1e3,wm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Tb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(si(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yF&&this.cachedEventUids.clear(),this.cachedEventUids.has(GC(e))}saveEventToCache(e){this.cachedEventUids.add(GC(e)),this.lastProcessedEventTime=Date.now()}};function GC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Tb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function vF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tb(n);default:return!1}}function _F(t){return w(this,arguments,function*(n,e={}){return Ao(n,"GET","/v1/projects",e)})}var IF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wF=/^https?/;function EF(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield _F(n);for(let t of e)try{if(DF(t))return}catch{}Ir(n,"unauthorized-domain")})}function DF(n){let e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!wF.test(t))return!1;if(IF.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var TF=new ai(3e4,6e4);function WC(){let n=dn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CF(n){return new Promise((e,t)=>{var r,i,o;function s(){WC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WC(),t(si(n,"network-request-failed"))},timeout:TF.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=dn().gapi)===null||o===void 0)&&o.load)s();else{let c=gb("iframefcb");return dn()[c]=()=>{gapi.load?s():t(si(n,"network-request-failed"))},FL(`${VL()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Sl=null,e})}var Sl=null;function bF(n){return Sl=Sl||CF(n),Sl}var SF=new ai(5e3,15e3),AF="__/auth/iframe",RF="emulator/auth/iframe",NF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xF(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Cm(e,RF):`https://${n.config.authDomain}/${AF}`,r={apiKey:e.apiKey,appName:n.name,v:yr},i=MF.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ma(r).slice(1)}`}function PF(n){return w(this,null,function*(){let e=yield bF(n),t=dn().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:xF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NF,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=si(n,"network-request-failed"),c=dn().setTimeout(()=>{o(s)},SF.get());function u(){dn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var kF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OF=500,LF=600,FF="_blank",VF="http://localhost",Vl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function UF(n,e,t,r=OF,i=LF){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},kF),{width:r.toString(),height:i.toString(),top:o,left:s}),l=He().toLowerCase();t&&(c=cb(l)?FF:t),sb(l)&&(e=e||VF,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[I,S])=>`${y}${I}=${S},`,"");if(xL(l)&&c!=="_self")return jF(e||"",c),new Vl(null);let p=window.open(e||"",c,f);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new Vl(p)}function jF(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var BF="__/auth/handler",$F="emulator/auth/handler",HF=encodeURIComponent("fac");function KC(n,e,t,r,i,o){return w(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yr,eventId:i};if(e instanceof kl){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",IC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof gm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),l=u?`#${HF}=${encodeURIComponent(u)}`:"";return`${zF(n)}?${ma(c).slice(1)}${l}`})}function zF({config:n}){return n.emulator?Cm(n,$F):`https://${n.authDomain}/${BF}`}var am="webStorageSupport",Em=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fm,this._completeRedirectFn=mF,this._overrideRedirectResult=fF}_openPopup(e,t,r,i){return w(this,null,function*(){var o;wr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield KC(e,t,r,cm(),i);return UF(e,s,_b())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield KC(e,t,r,cm(),i);return ZL(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(wr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield PF(e),r=new wm(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(am,{type:am},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[am];s!==void 0&&t(!!s),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fb()||ab()||Nm()}},Cb=Em;var QC="@firebase/auth",YC="1.7.9";var Dm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function qF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GF(n){mr(new Lt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pb(n)},l=new pm(r,i,o,u);return UL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mr(new Lt("auth-internal",e=>{let t=Mm(e.getProvider("auth").getImmediate());return(r=>new Dm(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(QC,YC,qF(n)),Ue(QC,YC,"esm2017")}var WF=5*60,KF=jg("authIdTokenMaxAge")||WF,ZC=null,QF=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KF)return;let i=t?.token;ZC!==i&&(ZC=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vm(n=Do()){let e=_a(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Pm(n,{popupRedirectResolver:Cb,persistence:[Db,vb,Fm]}),r=jg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=QF(o.toString());Lm(t,s,()=>s(t.currentUser)),Om(t,c=>s(c))}}let i=Vg("auth");return i&&km(t,`http://${i}`),t}function YF(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=si("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",YF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GF("Browser");var bb="auth",Sa=class{constructor(e){return e}},Aa=class{constructor(){return Ia(bb)}};var Um=new $("angularfire2.auth-instances");function zV(n,e){let t=wl(bb,n,e);return t&&new Sa(t)}function qV(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Sa(r)}}var GV={provide:Aa,deps:[[new ot,Um]]},WV={provide:Sa,useFactory:zV,deps:[[new ot,Um],On]};function Sb(n,...e){return Ue("angularfire",ri.full,"auth"),on([WV,GV,{provide:Um,useFactory:qV(n),multi:!0,deps:[ve,it,bo,ii,[new ot,Co],...e]}])}var Ab=vr(Vm,!0);var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nb={};var Er,jm;(function(){var n;function e(D,m){function v(){}v.prototype=m.prototype,D.D=m.prototype,D.prototype=new v,D.prototype.constructor=D,D.C=function(E,T,b){for(var _=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)_[_n-2]=arguments[_n];return m.prototype[T].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,v){v||(v=0);var E=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)E[T]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(T=0;16>T;++T)E[T]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=D.g[0],v=D.g[1],T=D.g[2];var b=D.g[3],_=m+(b^v&(T^b))+E[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[1]+3905402710&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[3]+3250441966&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(b^v&(T^b))+E[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[5]+1200080426&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[7]+4249261313&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(b^v&(T^b))+E[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[9]+2336552879&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[11]+2304563134&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(b^v&(T^b))+E[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[13]+4254626195&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[15]+1236535329&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(T^b&(v^T))+E[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[6]+3225465664&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[0]+3921069994&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^b&(v^T))+E[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[10]+38016083&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[4]+3889429448&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^b&(v^T))+E[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[14]+3275163606&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[8]+1163531501&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^b&(v^T))+E[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[2]+4243563512&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[12]+2368359562&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(v^T^b)+E[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[8]+2272392833&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[14]+4259657740&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^b)+E[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[4]+1272893353&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[10]+3200236656&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^b)+E[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[0]+3936430074&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[6]+76029189&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^b)+E[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[12]+3873151461&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[2]+3299628645&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(T^(v|~b))+E[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[7]+1126891415&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[5]+4237533241&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~b))+E[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[3]+2399980690&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[1]+2240044497&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~b))+E[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[15]+4264355552&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[13]+1309151649&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~b))+E[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[11]+3174756917&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+b&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var v=m-this.blockSize,E=this.B,T=this.h,b=0;b<m;){if(T==0)for(;b<=v;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<m;)if(E[T++]=D.charCodeAt(b++),T==this.blockSize){i(this,E),T=0;break}}else for(;b<m;)if(E[T++]=D[b++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var v=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=v&255,v/=256;for(this.u(D),D=Array(16),m=v=0;4>m;++m)for(var E=0;32>E;E+=8)D[v++]=this.g[m]>>>E&255;return D};function o(D,m){var v=c;return Object.prototype.hasOwnProperty.call(v,D)?v[D]:v[D]=m(D)}function s(D,m){this.h=m;for(var v=[],E=!0,T=D.length-1;0<=T;T--){var b=D[T]|0;E&&b==m||(v[T]=b,E=!1)}this.g=v}var c={};function u(D){return-128<=D&&128>D?o(D,function(m){return new s([m|0],0>m?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var m=[],v=1,E=0;D>=v;E++)m[E]=D/v|0,v*=4294967296;return new s(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),E=p,T=0;T<D.length;T+=8){var b=Math.min(8,D.length-T),_=parseInt(D.substring(T,T+b),m);8>b?(b=l(Math.pow(m,b)),E=E.j(b).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var p=u(0),y=u(1),I=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var D=0,m=1,v=0;v<this.g.length;v++){var E=this.i(v);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var m=l(Math.pow(D,6)),v=this,E="";;){var T=ie(v,m).g;v=O(v,T.j(m));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(D);if(v=T,S(v))return b+E;for(;6>b.length;)b="0"+b;E=b+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}n.l=function(D){return D=O(this,D),N(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,v=[],E=0;E<m;E++)v[E]=~D.g[E];return new s(v,~D.h).add(y)}n.abs=function(){return N(this)?R(this):this},n.add=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0,T=0;T<=m;T++){var b=E+(this.i(T)&65535)+(D.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=_>>>16,b&=65535,_&=65535,v[T]=_<<16|b}return new s(v,v[v.length-1]&-2147483648?-1:0)};function O(D,m){return D.add(R(m))}n.j=function(D){if(S(this)||S(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,v=[],E=0;E<2*m;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var b=this.i(E)>>>16,_=this.i(E)&65535,_n=D.i(T)>>>16,es=D.i(T)&65535;v[2*E+2*T]+=_*es,V(v,2*E+2*T),v[2*E+2*T+1]+=b*es,V(v,2*E+2*T+1),v[2*E+2*T+1]+=_*_n,V(v,2*E+2*T+1),v[2*E+2*T+2]+=b*_n,V(v,2*E+2*T+2)}for(E=0;E<m;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=m;E<2*m;E++)v[E]=0;return new s(v,0)};function V(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function z(D,m){this.g=D,this.h=m}function ie(D,m){if(S(m))throw Error("division by zero");if(S(D))return new z(p,p);if(N(D))return m=ie(R(D),m),new z(R(m.g),R(m.h));if(N(m))return m=ie(D,R(m)),new z(R(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=m;0>=E.l(D);)v=Ae(v),E=Ae(E);var T=J(v,1),b=J(E,1);for(E=J(E,2),v=J(v,2);!S(E);){var _=b.add(E);0>=_.l(D)&&(T=T.add(v),b=_),E=J(E,1),v=J(v,1)}return m=O(D,T.j(m)),new z(T,m)}for(T=p;0<=D.l(m);){for(v=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),b=l(v),_=b.j(m);N(_)||0<_.l(D);)v-=E,b=l(v),_=b.j(m);S(b)&&(b=y),T=T.add(b),D=O(D,_)}return new z(T,D)}n.A=function(D){return ie(this,D).h},n.and=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)&D.i(E);return new s(v,this.h&D.h)},n.or=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)|D.i(E);return new s(v,this.h|D.h)},n.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)^D.i(E);return new s(v,this.h^D.h)};function Ae(D){for(var m=D.g.length+1,v=[],E=0;E<m;E++)v[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(v,D.h)}function J(D,m){var v=m>>5;m%=32;for(var E=D.g.length-v,T=[],b=0;b<E;b++)T[b]=0<m?D.i(b+v)>>>m|D.i(b+v+1)<<32-m:D.i(b+v);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jm=Nb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Er=Nb.Integer=s}).apply(typeof Rb<"u"?Rb:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vn={};var Bm,$m,Ro,Hm,Ra,Bl,zm,qm,Gm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,A){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return d.prototype[C].apply(g,k)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let C=a.length||0,A=g.length||0;a.length=C+A;for(let k=0;k<A;k++)a[C+k]=g[k]}else a.push(g)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(a){return/^[\s\xa0]*$/.test(a)}function z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ie(a){return ie[" "](a),a}ie[" "]=function(){};var Ae=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Fd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class _n{constructor(){this.h=this.g=null}add(d,h){let g=es.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var es=new O(()=>new C0,a=>a.reset());class C0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ts,ns=!1,Fd=new _n,Zv=()=>{let a=c.Promise.resolve(void 0);ts=()=>{a.then(b0)}};var b0=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=es;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ns=!1};function zn(){this.s=this.s,this.C=this.C}zn.prototype.s=!1,zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var S0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function rs(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ae){e:{try{ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:A0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&rs.aa.h.call(this)}}S(rs,Qe);var A0={2:"touch",3:"pen",4:"mouse"};rs.prototype.h=function(){rs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var is="closure_listenable_"+(1e6*Math.random()|0),R0=0;function N0(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++R0,this.da=this.fa=!1}function Xa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ec(a){this.src=a,this.g={},this.h=0}ec.prototype.add=function(a,d,h,g,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var k=Ud(a,d,g,C);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new N0(d,this.src,A,!!g,C),d.fa=h,a.push(d)),d};function Vd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Xa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Ud(a,d,h,g){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return C}return-1}var jd="closure_lm_"+(1e6*Math.random()|0),Bd={};function Jv(a,d,h,g,C){if(g&&g.once)return e_(a,d,h,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Jv(a,d[A],h,g,C);return null}return h=qd(h),a&&a[is]?a.K(d,h,l(g)?!!g.capture:!!g,C):Xv(a,d,h,!1,g,C)}function Xv(a,d,h,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,we=Hd(a);if(we||(a[jd]=we=new ec(a)),h=we.add(d,h,g,k,A),h.proxy)return h;if(g=M0(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)S0||(C=k),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(n_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function M0(){function a(h){return d.call(a.src,a.listener,h)}let d=x0;return a}function e_(a,d,h,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)e_(a,d[A],h,g,C);return null}return h=qd(h),a&&a[is]?a.L(d,h,l(g)?!!g.capture:!!g,C):Xv(a,d,h,!0,g,C)}function t_(a,d,h,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)t_(a,d[A],h,g,C);else g=l(g)?!!g.capture:!!g,h=qd(h),a&&a[is]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Ud(A,h,g,C),-1<h&&(Xa(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Hd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Ud(d,h,g,C)),(h=-1<a?d[a]:null)&&$d(h))}function $d(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[is])Vd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(n_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Hd(d))?(Vd(h,a),h.h==0&&(h.src=null,d[jd]=null)):Xa(a)}}}function n_(a){return a in Bd?Bd[a]:Bd[a]="on"+a}function x0(a,d){if(a.da)a=!0;else{d=new rs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&$d(a),a=h.call(g,d)}return a}function Hd(a){return a=a[jd],a instanceof ec?a:null}var zd="__closure_events_fn_"+(1e9*Math.random()>>>0);function qd(a){return typeof a=="function"?a:(a[zd]||(a[zd]=function(d){return a.handleEvent(d)}),a[zd])}function Ye(){zn.call(this),this.i=new ec(this),this.M=this,this.F=null}S(Ye,zn),Ye.prototype[is]=!0,Ye.prototype.removeEventListener=function(a,d,h,g){t_(this,a,d,h,g)};function lt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var C=d;d=new Qe(g,a),E(d,C)}if(C=!0,h)for(var A=h.length-1;0<=A;A--){var k=d.g=h[A];C=tc(k,g,!0,d)&&C}if(k=d.g=a,C=tc(k,g,!0,d)&&C,C=tc(k,g,!1,d)&&C,h)for(A=0;A<h.length;A++)k=d.g=h[A],C=tc(k,g,!1,d)&&C}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Xa(h[g]);delete a.g[d],a.h--}}this.F=null},Ye.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ye.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function tc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==h){var we=k.listener,qe=k.ha||k.src;k.fa&&Vd(a.i,k),C=we.call(qe,g)!==!1&&C}}return C&&!g.defaultPrevented}function r_(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function i_(a){a.g=r_(()=>{a.g=null,a.i&&(a.i=!1,i_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class P0 extends zn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:i_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(a){zn.call(this),this.h=a,this.g={}}S(os,zn);var o_=[];function s_(a){J(a.g,function(d,h){this.g.hasOwnProperty(h)&&$d(d)},a),a.g={}}os.prototype.N=function(){os.aa.N.call(this),s_(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gd=c.JSON.stringify,k0=c.JSON.parse,O0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Wd(){}Wd.prototype.h=null;function a_(a){return a.h||(a.h=a.i())}function c_(){}var ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kd(){Qe.call(this,"d")}S(Kd,Qe);function Qd(){Qe.call(this,"c")}S(Qd,Qe);var Ar={},u_=null;function nc(){return u_=u_||new Ye}Ar.La="serverreachability";function l_(a){Qe.call(this,Ar.La,a)}S(l_,Qe);function as(a){let d=nc();lt(d,new l_(d))}Ar.STAT_EVENT="statevent";function d_(a,d){Qe.call(this,Ar.STAT_EVENT,a),this.stat=d}S(d_,Qe);function dt(a){let d=nc();lt(d,new d_(d,a))}Ar.Ma="timingevent";function h_(a,d){Qe.call(this,Ar.Ma,a),this.size=d}S(h_,Qe);function cs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function L0(a,d,h,g,C,A){a.info(function(){if(a.g)if(A)for(var k="",we=A.split("&"),qe=0;qe<we.length;qe++){var fe=we[qe].split("=");if(1<fe.length){var Ze=fe[0];fe=fe[1];var Je=Ze.split("_");k=2<=Je.length&&Je[1]=="type"?k+(Ze+"="+fe+"&"):k+(Ze+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+k})}function F0(a,d,h,g,C,A,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+A+" "+k})}function Ii(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+U0(a,h)+(g?" "+g:"")})}function V0(a,d){a.info(function(){return"TIMEOUT: "+d})}us.prototype.info=function(){};function U0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Gd(h)}catch{return d}}var rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},f_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yd;function ic(){}S(ic,Wd),ic.prototype.g=function(){return new XMLHttpRequest},ic.prototype.i=function(){return{}},Yd=new ic;function qn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new p_}function p_(){this.i=null,this.g="",this.h=!1}var g_={},Zd={};function Jd(a,d,h){a.L=1,a.v=cc(In(d)),a.m=h,a.P=!0,m_(a,null)}function m_(a,d){a.F=Date.now(),oc(a),a.A=In(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),N_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new p_,a.g=K_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new P0(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(o_[0]=C.toString()),C=o_);for(var A=0;A<C.length;A++){var k=Jv(h,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),as(),L0(a.i,a.u,a.A,a.l,a.R,a.m)}qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&wn(a)==3?d.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=wn(this.g);var d=this.g.Ba();let Di=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||F_(this.g)))){this.J||Je!=4||d==7||(d==8||0>=Di?as(3):as(2)),Xd(this);var h=this.g.Z();this.X=h;t:if(y_(this)){var g=F_(this.g);a="";var C=g.length,A=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),ls(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,F0(this.i,this.u,this.A,this.l,this.R,Je,h),this.o){if(this.T&&!this.K){t:{if(this.g){var we,qe=this.g;if((we=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(we)){var fe=we;break t}}fe=null}if(h=fe)Ii(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eh(this,h);else{this.o=!1,this.s=3,dt(12),Rr(this),ls(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<k.length;)if(Vt=j0(this,k),Vt==Zd){Je==4&&(this.s=4,dt(14),h=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==g_){this.s=4,dt(15),Ii(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Ii(this.i,this.l,Vt,null),eh(this,Vt);if(y_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||k.length!=0||this.h.h||(this.s=1,dt(16),h=!1),this.o=this.o&&h,!h)Ii(this.i,this.l,k,"[Invalid Chunked Response]"),Rr(this),ls(this);else if(0<k.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),sh(Ze),Ze.M=!0,dt(11))}}else Ii(this.i,this.l,k,null),eh(this,k);Je==4&&Rr(this),this.o&&!this.J&&(Je==4?z_(this.j,this):(this.o=!1,oc(this)))}else rA(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Rr(this),ls(this)}}}catch{}finally{}};function y_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function j0(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Zd:(h=Number(d.substring(h,g)),isNaN(h)?g_:(g+=1,g+h>d.length?Zd:(d=d.slice(g,g+h),a.C=g+h,d)))}qn.prototype.cancel=function(){this.J=!0,Rr(this)};function oc(a){a.S=Date.now()+a.I,v_(a,a.I)}function v_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=cs(y(a.ba,a),d)}function Xd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(V0(this.i,this.A),this.L!=2&&(as(),dt(17)),Rr(this),this.s=2,ls(this)):v_(this,this.S-a)};function ls(a){a.j.G==0||a.J||z_(a.j,a)}function Rr(a){Xd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,s_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function eh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||th(h.h,a))){if(!a.K&&th(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)fc(h),dc(h);else break e;oh(h),dt(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=cs(y(h.Za,h),6e3));if(1>=w_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Mr(h,11)}else if((a.K||h.g==a)&&fc(h),!V(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let Ze=fe[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Je=fe[4];Je!=null&&(h.Aa=Je,h.j.info("SVER="+h.Aa));let Di=fe[5];Di!=null&&typeof Di=="number"&&0<Di&&(g=1.5*Di,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Vt=a.g;if(Vt){let gc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var A=g.h;A.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(nh(A,A.h),A.h=null))}if(g.D){let ah=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(g.ya=ah,Te(g.I,g.D,ah))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=W_(g,g.J?g.ia:null,g.W),k.K){E_(g.h,k);var we=k,qe=g.L;qe&&(we.I=qe),we.B&&(Xd(we),oc(we)),g.g=k}else $_(g);0<h.i.length&&hc(h)}else fe[0]!="stop"&&fe[0]!="close"||Mr(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Mr(h,7):ih(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}as(4)}catch{}}var B0=class{constructor(a,d){this.g=a,this.map=d}};function __(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function I_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function w_(a){return a.h?1:a.g?a.g.size:0}function th(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function nh(a,d){a.g?a.g.add(d):a.h=d}function E_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}__.prototype.cancel=function(){if(this.i=D_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function D_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function $0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function H0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function T_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=H0(a),g=$0(a),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],h&&h[A],a)}var C_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z0(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var A=a[h].substring(0,g);C=a[h].substring(g+1)}else A=a[h];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Nr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Nr){this.h=a.h,sc(this,a.j),this.o=a.o,this.g=a.g,ac(this,a.s),this.l=a.l;var d=a.i,h=new fs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),b_(this,h),this.m=a.m}else a&&(d=String(a).match(C_))?(this.h=!1,sc(this,d[1]||"",!0),this.o=ds(d[2]||""),this.g=ds(d[3]||"",!0),ac(this,d[4]),this.l=ds(d[5]||"",!0),b_(this,d[6]||"",!0),this.m=ds(d[7]||"")):(this.h=!1,this.i=new fs(null,this.h))}Nr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(hs(d,S_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(hs(d,S_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(hs(h,h.charAt(0)=="/"?W0:G0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",hs(h,Q0)),a.join("")};function In(a){return new Nr(a)}function sc(a,d,h){a.j=h?ds(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ac(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function b_(a,d,h){d instanceof fs?(a.i=d,Y0(a.i,a.h)):(h||(d=hs(d,K0)),a.i=new fs(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function cc(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ds(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function hs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,q0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function q0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var S_=/[#\/\?@]/g,G0=/[#\?:]/g,W0=/[#\?]/g,K0=/[#\?@]/g,Q0=/#/g;function fs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Gn(a){a.g||(a.g=new Map,a.h=0,a.i&&z0(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=fs.prototype,n.add=function(a,d){Gn(this),this.i=null,a=wi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function A_(a,d){Gn(a),d=wi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function R_(a,d){return Gn(a),d=wi(a,d),a.g.has(d)}n.forEach=function(a,d){Gn(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},n.na=function(){Gn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let A=0;A<C.length;A++)h.push(d[g])}return h},n.V=function(a){Gn(this);let d=[];if(typeof a=="string")R_(this,a)&&(d=d.concat(this.g.get(wi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Gn(this),this.i=null,a=wi(this,a),R_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function N_(a,d,h){A_(a,d),0<h.length&&(a.i=null,a.g.set(wi(a,d),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),a.push(C)}}return this.i=a.join("&")};function wi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Y0(a,d){d&&!a.j&&(Gn(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(A_(this,g),N_(this,C,h))},a)),a.j=d}function Z0(a,d){let h=new us;if(c.Image){let g=new Image;g.onload=I(Wn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Wn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(Wn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Wn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function J0(a,d){let h=new us,g=new AbortController,C=setTimeout(()=>{g.abort(),Wn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Wn(h,"TestPingServer: ok",!0,d):Wn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Wn(h,"TestPingServer: error",!1,d)})}function Wn(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function X0(){this.g=new O0}function eA(a,d,h){let g=h||"";try{T_(a,function(C,A){let k=C;l(C)&&(k=Gd(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ps(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ps,Wd),ps.prototype.g=function(){return new uc(this.l,this.j)},ps.prototype.i=function(a){return function(){return a}}({});function uc(a,d){Ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(uc,Ye),n=uc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ms(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;M_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function M_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?gs(this):ms(this),this.readyState==3&&M_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,gs(this))},n.Qa=function(a){this.g&&(this.response=a,gs(this))},n.ga=function(){this.g&&gs(this)};function gs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ms(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ms(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function x_(a){let d="";return J(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function rh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=x_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Re(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Re,Ye);var tA=/^https?$/i,nA=["POST","PUT"];n=Re.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yd.g(),this.v=this.o?a_(this.o):a_(Yd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){P_(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nA,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of h)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{L_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){P_(this,A)}};function P_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,k_(a),lc(a)}function k_(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),lc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lc(this,!0)),Re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?O_(this):this.bb())},n.bb=function(){O_(this)};function O_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)r_(a.Ea,0,a);else if(lt(a,"readystatechange"),wn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var C=String(a.D).match(C_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!tA.test(C?C.toLowerCase():"")}h=g}if(h)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var A=2<wn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",k_(a)}}finally{lc(a)}}}}function lc(a,d){if(a.g){L_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||lt(a,"ready");try{h.onreadystatechange=g}catch{}}}function L_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),k0(d)}};function F_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function rA(a){let d={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(V(a[g]))continue;var h=T(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[C]||[];d[C]=A,A.push(h)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function V_(a){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,a),this.cb=ys("retryDelaySeedMs",1e4,a),this.Wa=ys("forwardChannelMaxRetries",2,a),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new __(a&&a.concurrentRequestLimit),this.Da=new X0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=V_.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){dt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=W_(this,null,this.W),hc(this)};function ih(a){if(U_(a),a.G==3){var d=a.U++,h=In(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),vs(a,h),d=new qn(a,a.j,d),d.L=2,d.v=cc(In(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=K_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),oc(d)}G_(a)}function dc(a){a.g&&(sh(a),a.g.cancel(),a.g=null)}function U_(a){dc(a),a.u&&(c.clearTimeout(a.u),a.u=null),fc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function hc(a){if(!I_(a.h)&&!a.s){a.s=!0;var d=a.Ga;ts||Zv(),ns||(ts(),ns=!0),Fd.add(d,a),a.B=0}}function iA(a,d){return w_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=cs(y(a.Ga,a,d),q_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new qn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=B_(this,C,d),h=In(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),vs(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(x_(A)))+"&"+d:this.m&&rh(h,this.m,A)),nh(this.h,C),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),C.T=!0,Jd(C,h,null)):Jd(C,h,d),this.G=2}}else this.G==3&&(a?j_(this,a):this.i.length==0||I_(this.h)||j_(this))};function j_(a,d){var h;d?h=d.l:h=a.U++;let g=In(a.I);Te(g,"SID",a.K),Te(g,"RID",h),Te(g,"AID",a.T),vs(a,g),a.m&&a.o&&rh(g,a.m,a.o),h=new qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=B_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),nh(a.h,h),Jd(h,g,d)}function vs(a,d){a.H&&J(a.H,function(h,g){Te(d,g,h)}),a.l&&T_({},function(h,g){Te(d,g,h)})}function B_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let k=["count="+h];A==-1?0<h?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let we=!0;for(let qe=0;qe<h;qe++){let fe=C[qe].g,Ze=C[qe].map;if(fe-=A,0>fe)A=Math.max(0,C[qe].g-100),we=!1;else try{eA(Ze,k,"req"+fe+"_")}catch{g&&g(Ze)}}if(we){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function $_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ts||Zv(),ns||(ts(),ns=!0),Fd.add(d,a),a.v=0}}function oh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=cs(y(a.Fa,a),q_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,H_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=cs(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),dc(this),H_(this))};function sh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function H_(a){a.g=new qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=In(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),vs(a,d),a.m&&a.o&&rh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=cc(In(d)),h.m=null,h.P=!0,m_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,dc(this),oh(this),dt(19))};function fc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function z_(a,d){var h=null;if(a.g==d){fc(a),sh(a),a.g=null;var g=2}else if(th(a.h,d))h=d.D,E_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=nc(),lt(g,new h_(g,h)),hc(a)}else $_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&iA(a,d)||g==2&&oh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Mr(a,5);break;case 4:Mr(a,10);break;case 3:Mr(a,6);break;default:Mr(a,2)}}}function q_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Mr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let C=!g;g=new Nr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sc(g,"https"),cc(g),C?Z0(g.toString(),h):J0(g.toString(),h)}else dt(2);a.G=0,a.l&&a.l.sa(d),G_(a),U_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function G_(a){if(a.G=0,a.ka=[],a.l){let d=D_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function W_(a,d,h){var g=h instanceof Nr?In(h):new Nr(h);if(g.g!="")d&&(g.g=d+"."+g.g),ac(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Nr(null);g&&sc(A,g),d&&(A.g=d),C&&ac(A,C),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Te(g,h,d),Te(g,"VER",a.la),vs(a,g),g}function K_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new ps({eb:h})):new Re(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q_(){}n=Q_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pc(){}pc.prototype.g=function(a,d){return new It(a,d)};function It(a,d){Ye.call(this),this.g=new V_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!V(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ei(this)}S(It,Ye),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){ih(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Gd(a),a=h);d.i.push(new B0(d.Ya++,a)),d.G==3&&hc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,It.aa.N.call(this)};function Y_(a){Kd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(Y_,Kd);function Z_(){Qd.call(this),this.status=1}S(Z_,Qd);function Ei(a){this.g=a}S(Ei,Q_),Ei.prototype.ua=function(){lt(this.g,"a")},Ei.prototype.ta=function(a){lt(this.g,new Y_(a))},Ei.prototype.sa=function(a){lt(this.g,new Z_)},Ei.prototype.ra=function(){lt(this.g,"b")},pc.prototype.createWebChannel=pc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Gm=Vn.createWebChannelTransport=function(){return new pc},qm=Vn.getStatEventTarget=function(){return nc()},zm=Vn.Event=Ar,Bl=Vn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,Ra=Vn.ErrorCode=rc,f_.COMPLETE="complete",Hm=Vn.EventType=f_,c_.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ro=Vn.WebChannel=c_,$m=Vn.FetchXmlHttpFactory=ps,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Bm=Vn.XhrIo=Re}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});var Mb="@firebase/firestore";var ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");var Yo="10.13.2";var fi=new pr("@firebase/firestore");function Na(){return fi.logLevel}function F(n,...e){if(fi.logLevel<=ae.DEBUG){let t=e.map(Rv);fi.debug(`Firestore (${Yo}): ${n}`,...t)}}function jn(n,...e){if(fi.logLevel<=ae.ERROR){let t=e.map(Rv);fi.error(`Firestore (${Yo}): ${n}`,...t)}}function Lo(n,...e){if(fi.logLevel<=ae.WARN){let t=e.map(Rv);fi.warn(`Firestore (${Yo}): ${n}`,...t)}}function Rv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function G(n="Unexpected state"){let e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+n;throw jn(e),new Error(e)}function De(n,e){n||G()}function Z(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends At{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Gl=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ze.UNAUTHENTICATED))}shutdown(){}},Jm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Xm=class{constructor(e){this.t=e,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Un,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Un)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Gl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new ze(e)}},ey=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ty=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new ey(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ny=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ry=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string"),this.R=t.token,new ny(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function KV(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Wl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=KV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ke=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ke(0,0))}static max(){return new n(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(),r===void 0?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Me=class n extends Kl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rt=class n extends Kl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return QV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Me.fromString(e))}static fromName(e){return new n(Me.fromString(e).popFirst(5))}static empty(){return new n(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Me(e.slice()))}};var iy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};iy.UNKNOWN_ID=-1;function YV(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ke(t+1,0):new Ke(t,r));return new pi(i,H.empty(),e)}function ZV(n){return new pi(n.readTime,n.key,-1)}var pi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),H.empty(),-1)}static max(){return new n(ee.max(),H.empty(),-1)}};function JV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var XV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ka(n){return w(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==XV)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function eU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qa(n){return n.name==="IndexedDbTransactionError"}var uS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Dd(n){return n==null}function Fa(n){return n===0&&1/n==-1/0}function tU(n){return typeof n=="number"&&Number.isInteger(n)&&!Fa(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var nU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],R3=[...nU,"documentOverlays"],rU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iU=rU,oU=[...iU,"indexConfiguration","indexState","indexEntries"];var N3=[...oU,"globals"];function xb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Po(this.root,e,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Po(this.root,e,this.comparator,!0)}},Po=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,r,i,o){return this}insert(e,t,r){return new pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ql(this.data.getIterator())}getIteratorFrom(e){return new Ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Ql=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class n{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Rt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Yl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yl("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var sU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bn(n){if(De(!!n),typeof n=="string"){let e=0,t=sU.exec(n);if(De(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Tr(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}function Nv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Mv(n){let e=n.mapValue.fields.__previous_value__;return Nv(e)?Mv(e):e}function Va(n){let e=Bn(n.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}var sy=class{constructor(e,t,r,i,o,s,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Zl=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nv(n)?4:hS(n)?9007199254740991:dS(n)?10:11:G()}function yn(n,e){if(n===e)return!0;let t=gi(n);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Va(n).isEqual(Va(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Bn(i.timestampValue),c=Bn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Tr(i.bytesValue).isEqual(Tr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=be(i.doubleValue),c=be(o.doubleValue);return s===c?Fa(s)===Fa(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(xb(s)!==xb(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!yn(s[u],c[u])))return!1;return!0}(n,e);default:return G()}}function Ua(n,e){return(n.values||[]).find(t=>yn(t,e))!==void 0}function Vo(n,e){if(n===e)return 0;let t=gi(n),r=gi(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return Pb(n.timestampValue,e.timestampValue);case 4:return Pb(Va(n),Va(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return function(o,s){let c=Tr(o),u=Tr(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ge(c[l],u[l]);if(f!==0)return f}return ge(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ge(be(o.latitude),be(s.latitude));return c!==0?c:ge(be(o.longitude),be(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return kb(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=y.value)===null||u===void 0?void 0:u.arrayValue,N=ge(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:kb(I,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===$l.mapValue&&s===$l.mapValue)return 0;if(o===$l.mapValue)return 1;if(s===$l.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=ge(u[p],f[p]);if(y!==0)return y;let I=Vo(c[u[p]],l[f[p]]);if(I!==0)return I}return ge(u.length,f.length)}(n.mapValue,e.mapValue);default:throw G()}}function Pb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=Bn(n),r=Bn(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function kb(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Vo(t[i],r[i]);if(o)return o}return ge(t.length,r.length)}function Uo(n){return ay(n)}function ay(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Bn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Tr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ay(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ay(t.fields[s])}`;return i+"}"}(n.mapValue):G()}function cy(n){return!!n&&"integerValue"in n}function xv(n){return!!n&&"arrayValue"in n}function Ob(n){return!!n&&"nullValue"in n}function Lb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zl(n){return!!n&&"mapValue"in n}function dS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xa(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=xa(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());zl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(xa(this.value))}};function fS(n){let e=[];return Zo(n.fields,(t,r)=>{let i=new Rt([t]);if(zl(r)){let o=fS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}var Qt=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var jo=class{constructor(e,t){this.position=e,this.inclusive=t}};function Fb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),t.key):r=Vo(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yn(n.position[t],e.position[t]))return!1;return!0}var Bo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function aU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Jl=class{},je=class n extends Jl{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ly(e,t,r):t==="array-contains"?new fy(e,r):t==="in"?new py(e,r):t==="not-in"?new gy(e,r):t==="array-contains-any"?new my(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dy(e,r):new hy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vo(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class n extends Jl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return pS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pS(n){return n.op==="and"}function gS(n){return cU(n)&&pS(n)}function cU(n){for(let e of n.filters)if(e instanceof vn)return!1;return!0}function uy(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Uo(n.value);if(gS(n))return n.filters.map(e=>uy(e)).join(",");{let e=n.filters.map(t=>uy(t)).join(",");return`${n.op}(${e})`}}function mS(n,e){return n instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)}(n,e):n instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&mS(s,i.filters[c]),!0):!1}(n,e):void G()}function yS(n){return n instanceof je?function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`}(n):n instanceof vn?function(t){return t.op.toString()+" {"+t.getFilters().map(yS).join(" ,")+"}"}(n):"Filter"}var ly=class extends je{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},dy=class extends je{constructor(e,t){super(e,"in",t),this.keys=vS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hy=class extends je{constructor(e,t){super(e,"not-in",t),this.keys=vS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function vS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var fy=class extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xv(t)&&Ua(t.arrayValue,this.value)}},py=class extends je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ua(this.value.arrayValue,t)}},gy=class extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Ua(this.value.arrayValue,t)}},my=class extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ua(this.value.arrayValue,r))}};var yy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function Ub(n,e=null,t=[],r=[],i=null,o=null,s=null){return new yy(n,e,t,r,i,o,s)}function Pv(n){let e=Z(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>uy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uo(r)).join(",")),e.ue=t}return e.ue}function kv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Vb(n.startAt,e.startAt)&&Vb(n.endAt,e.endAt)}function vy(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var $o=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function uU(n,e,t,r,i,o,s,c){return new $o(n,e,t,r,i,o,s,c)}function Ov(n){return new $o(n)}function jb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lU(n){return n.collectionGroup!==null}function Pa(n){let e=Z(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ct(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Bo(o,r))}),t.has(Rt.keyField().canonicalString())||e.ce.push(new Bo(Rt.keyField(),r))}return e.ce}function gn(n){let e=Z(n);return e.le||(e.le=dU(e,Pa(n))),e.le}function dU(n,e){if(n.limitType==="F")return Ub(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Bo(i.field,o)});let t=n.endAt?new jo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jo(n.startAt.position,n.startAt.inclusive):null;return Ub(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _y(n,e,t){return new $o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Td(n,e){return kv(gn(n),gn(e))&&n.limitType===e.limitType}function _S(n){return`${Pv(gn(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yS(i)).join(", ")}]`),Dd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Uo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Uo(i)).join(",")),`Target(${r})`}(gn(n))}; limitType=${n.limitType})`}function Cd(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Pa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=Fb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Pa(r),i)||r.endAt&&!function(s,c,u){let l=Fb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Pa(r),i))}(n,e)}function hU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IS(n){return(e,t)=>{let r=!1;for(let i of Pa(n)){let o=fU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function fU(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Vo(u,l):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Cr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return lS(this.inner)}size(){return this.innerSize}};var pU=new xe(H.comparator);function $n(){return pU}var wS=new xe(H.comparator);function Ma(...n){let e=wS;for(let t of n)e=e.insert(t.key,t);return e}function ES(n){let e=wS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ui(){return ka()}function DS(){return ka()}function ka(){return new Cr(n=>n.toString(),(n,e)=>n.isEqual(e))}var gU=new xe(H.comparator),mU=new ct(H.comparator);function ce(...n){let e=mU;for(let t of n)e=e.add(t);return e}var yU=new ct(ge);function vU(){return yU}function Lv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(e)?"-0":e}}function TS(n){return{integerValue:""+n}}function _U(n,e){return tU(e)?TS(e):Lv(n,e)}var Ho=class{constructor(){this._=void 0}};function IU(n,e,t){return n instanceof zo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Nv(o)&&(o=Mv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof mi?bS(n,e):n instanceof yi?SS(n,e):function(i,o){let s=CS(i,o),c=Bb(s)+Bb(i.Pe);return cy(s)&&cy(i.Pe)?TS(c):Lv(i.serializer,c)}(n,e)}function wU(n,e,t){return n instanceof mi?bS(n,e):n instanceof yi?SS(n,e):t}function CS(n,e){return n instanceof qo?function(r){return cy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var zo=class extends Ho{},mi=class extends Ho{constructor(e){super(),this.elements=e}};function bS(n,e){let t=AS(e);for(let r of n.elements)t.some(i=>yn(i,r))||t.push(r);return{arrayValue:{values:t}}}var yi=class extends Ho{constructor(e){super(),this.elements=e}};function SS(n,e){let t=AS(e);for(let r of n.elements)t=t.filter(i=>!yn(i,r));return{arrayValue:{values:t}}}var qo=class extends Ho{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Bb(n){return be(n.integerValue||n.doubleValue)}function AS(n){return xv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof mi&&i instanceof mi||r instanceof yi&&i instanceof yi?Fo(r.elements,i.elements,yn):r instanceof qo&&i instanceof qo?yn(r.Pe,i.Pe):r instanceof zo&&i instanceof zo}(n.transform,e.transform)}var Iy=class{constructor(e,t){this.version=e,this.transformResults=t}},hi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ql(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Go=class{};function RS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xl(n.key,hi.none()):new vi(n.key,n.data,hi.none());{let t=n.data,r=Kt.empty(),i=new ct(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Hn(n.key,r,new fn(i.toArray()),hi.none())}}function DU(n,e,t){n instanceof vi?function(i,o,s){let c=i.value.clone(),u=Hb(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Hn?function(i,o,s){if(!ql(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Hb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(NS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Oa(n,e,t,r){return n instanceof vi?function(o,s,c,u){if(!ql(o.precondition,s))return c;let l=o.value.clone(),f=zb(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Hn?function(o,s,c,u){if(!ql(o.precondition,s))return c;let l=zb(o.fieldTransforms,u,s),f=s.data;return f.setAll(NS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,c){return ql(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function TU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=CS(r.transform,i||null);o!=null&&(t===null&&(t=Kt.empty()),t.set(r.field,o))}return t||null}function $b(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fo(r,i,(o,s)=>EU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var vi=class extends Go{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Hn=class extends Go{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function NS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Hb(n,e,t){let r=new Map;De(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,wU(s,c,t[i]))}return r}function zb(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,IU(o,s,e))}return r}var Xl=class extends Go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wy=class extends Go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ey=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&DU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Oa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Oa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=DS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=RS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,r)=>$b(t,r))&&Fo(this.baseMutations,e.baseMutations,(t,r)=>$b(t,r))}},Dy=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length);let i=function(){return gU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Ty=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Cy=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,he;function CU(n){switch(n){default:return G();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function MS(n){if(n===void 0)return jn("GRPC error has no .code"),M.UNKNOWN;switch(n){case Oe.OK:return M.OK;case Oe.CANCELLED:return M.CANCELLED;case Oe.UNKNOWN:return M.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return M.INTERNAL;case Oe.UNAVAILABLE:return M.UNAVAILABLE;case Oe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Oe.NOT_FOUND:return M.NOT_FOUND;case Oe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Oe.ABORTED:return M.ABORTED;case Oe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Oe.DATA_LOSS:return M.DATA_LOSS;default:return G()}}(he=Oe||(Oe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var qb=null;function bU(){return new TextEncoder}var SU=new Er([4294967295,4294967295],0);function Gb(n){let e=bU().encode(n),t=new jm;return t.update(e),new Uint8Array(t.digest())}function Wb(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Er([t,r],0),new Er([i,o],0)]}var by=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new li(`Invalid padding: ${t}`);if(r<0)throw new li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new li(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new li(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Er.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Er.fromNumber(r)));return i.compare(SU)===1&&(i=new Er([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Gb(e),[r,i]=Wb(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let t=Gb(e),[r,i]=Wb(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ed=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new xe(ge),$n(),ce())}},ja=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var ko=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},td=class{constructor(e,t){this.targetId=e,this.me=t}},nd=class{constructor(e,t,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},rd=class{constructor(){this.fe=0,this.ge=Qb(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),t=ce(),r=ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new ja(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Qb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Sy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=$n(),this.qe=Kb(),this.Qe=new xe(ge)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(vy(o))if(r===0){let s=new H(o.path);this.Ue(t,s,Qt.newNoDocument(s,ee.min()))}else De(r===1);else{let s=this.Ye(t);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}qb?.et(function(f,p,y,I,S){var N,R,O,V,z,ie;let Ae={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Ae.bloomFilter={applied:S===0,hashCount:(N=J?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(V=(O=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&V!==void 0?V:0,padding:(ie=(z=J?.bits)===null||z===void 0?void 0:z.padding)!==null&&ie!==void 0?ie:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Ae}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=Tr(r).toUint8Array()}catch(u){if(u instanceof Yl)return Lo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new by(s,i,o)}catch(u){return Lo(u instanceof li?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&vy(c.target)){let u=new H(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Qt.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ce();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new ed(e,t,this.Qe,this.ke,r);return this.ke=$n(),this.qe=Kb(),this.Qe=new xe(ge),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ct(ge),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Kb(){return new xe(H.comparator)}function Qb(){return new xe(H.comparator)}var AU={asc:"ASCENDING",desc:"DESCENDING"},RU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NU={and:"AND",or:"OR"},Ay=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ry(n,e){return n.useProto3Json||Dd(e)?e:{value:e}}function id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MU(n,e){return id(n,e.toTimestamp())}function mn(n){return De(!!n),ee.fromTimestamp(function(t){let r=Bn(t);return new Ke(r.seconds,r.nanos)}(n))}function Fv(n,e){return Ny(n,e).canonicalString()}function Ny(n,e){let t=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PS(n){let e=Me.fromString(n);return De(VS(e)),e}function My(n,e){return Fv(n.databaseId,e.path)}function Wm(n,e){let t=PS(e);if(t.get(1)!==n.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(OS(t))}function kS(n,e){return Fv(n.databaseId,e)}function xU(n){let e=PS(n);return e.length===4?Me.emptyPath():OS(e)}function xy(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OS(n){return De(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Yb(n,e,t){return{name:My(n,e),fields:t.value.mapValue.fields}}function PU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(De(f===void 0||typeof f=="string"),ut.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ut.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?M.UNKNOWN:MS(l.code);return new U(f,l.message||"")}(s);t=new nd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wm(n,r.document.name),o=mn(r.document.updateTime),s=r.document.createTime?mn(r.document.createTime):ee.min(),c=new Kt({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new ko(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wm(n,r.document),o=r.readTime?mn(r.readTime):ee.min(),s=Qt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new ko([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wm(n,r.document),o=r.removedTargetIds||[];t=new ko([],o,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Cy(i,o),c=r.targetId;t=new td(c,s)}}return t}function kU(n,e){let t;if(e instanceof vi)t={update:Yb(n,e.key,e.value)};else if(e instanceof Xl)t={delete:My(n,e.key)};else if(e instanceof Hn)t={update:Yb(n,e.key,e.data),updateMask:HU(e.fieldMask)};else{if(!(e instanceof wy))return G();t={verify:My(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof zo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof mi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qo)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:MU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G()}(n,e.precondition)),t}function OU(n,e){return n&&n.length>0?(De(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?mn(i.updateTime):mn(o);return s.isEqual(ee.min())&&(s=mn(o)),new Iy(s,i.transformResults||[])}(t,e))):[]}function LU(n,e){return{documents:[kS(n,e.path)]}}function FU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kS(n,i);let o=function(l){if(l.length!==0)return FS(vn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Mo(y.field),direction:jU(y.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=Ry(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function VU(n){let e=xU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(p){let y=LS(p);return y instanceof vn&&gS(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(S){return new Bo(xo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Dd(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new jo(I,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new jo(I,y)}(t.endAt)),uU(e,i,s,o,c,"F",u,l)}function UU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=xo(t.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=xo(t.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=xo(t.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=xo(t.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):n.fieldFilter!==void 0?function(t){return je.create(xo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vn.create(t.compositeFilter.filters.map(r=>LS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(t.compositeFilter.op))}(n):G()}function jU(n){return AU[n]}function BU(n){return RU[n]}function $U(n){return NU[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function xo(n){return Rt.fromServerFormat(n.fieldPath)}function FS(n){return n instanceof je?function(t){if(t.op==="=="){if(Lb(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(Ob(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Lb(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(Ob(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:BU(t.op),value:t.value}}}(n):n instanceof vn?function(t){let r=t.getFilters().map(i=>FS(i));return r.length===1?r[0]:{compositeFilter:{op:$U(t.op),filters:r}}}(n):G()}function HU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ba=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),c=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Py=class{constructor(e){this.ct=e}};function zU(n){let e=VU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_y(e,e.limit,"L"):e}var od=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Fa(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Bn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Tr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?hS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):dS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):G()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(be(c)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};od.vt=new od;var ky=class{constructor(){this.un=new Oy}addToCollectionParentIndex(e,t){return this.un.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(pi.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Oy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(Me.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Me.comparator)).toArray()}};var x3=new Uint8Array(0);var hn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var $a=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Ly=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Fy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Vy=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Oa(r.mutation,i,fn.empty(),Ke.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=ui();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ma();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ui();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=$n(),s=ka(),c=function(){return ka()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Hn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Oa(f.mutation,l,f.mutation.getFieldMask(),Ke.now())):s.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new Fy(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=ka(),i=new xe((s,c)=>s-c),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||fn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=DS();f.forEach(y=>{if(!o.has(y)){let I=RS(t.get(y),r.get(y));I!==null&&p.set(y,I),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(ui()),c=-1,u=o;return s.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(f=>({batchId:c,changes:ES(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=Ma();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ma();return this.indexManager.getCollectionParents(e,o).next(c=>x.forEach(c,u=>{let l=function(p,y){return new $o(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Qt.newInvalidDocument(f)))});let c=Ma();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Oa(f.mutation,l,fn.empty(),Ke.now()),Cd(t,l)&&(c=c.insert(u,l))}),c})}};var Uy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return x.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:zU(i.bundledQuery),readTime:mn(i.readTime)}}(t)),x.resolve()}};var jy=class{constructor(){this.overlays=new xe(H.comparator),this.Ir=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ui();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=ui(),o=t.length+1,s=new H(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new xe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=ui(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=ui(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ty(t,r));let o=this.Ir.get(t);o===void 0&&(o=ce(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var By=class{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Ha=class{constructor(){this.Tr=new ct(Le.Er),this.dr=new ct(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Le(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new Me([])),r=new Le(t,e),i=new Le(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new Me([])),r=new Le(t,e),i=new Le(t,e+1),o=ce();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Le(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||ge(e.wr,t.wr)}static Ar(e,t){return ge(e.wr,t.wr)||H.comparator(e.key,t.key)}};var $y=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ct(Le.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ey(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Le(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(ge);return t.forEach(i=>{let o=new Le(i,0),s=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Le(new H(o),0),c=new ct(ge);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),x.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(t.mutations,i=>{let o=new Le(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Le(t,0),i=this.br.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Hy=class{constructor(e){this.Mr=e,this.docs=function(){return new xe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=$n();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=$n(),s=t.path,c=new H(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||JV(ZV(f),r)<=0||(i.has(f.key)||Cd(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G()}Or(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zy(this)}getSize(e){return x.resolve(this.size)}},zy=class extends Ly{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var qy=class{constructor(e){this.persistence=e,this.Nr=new Cr(t=>Pv(t),kv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ha,this.targetCount=0,this.kr=$a.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),x.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new $a(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Kn(t),x.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.Br.containsKey(t))}};var Gy=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new By,this.referenceDelegate=e(this),this.Ur=new qy(this),this.indexManager=new ky,this.remoteDocumentCache=function(i){return new Hy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Py(t),this.Gr=new Uy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new $y(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new Wy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Wy=class extends oy{constructor(e){super(),this.currentSequenceNumber=e}},Ky=class n{constructor(e){this.persistence=e,this.Jr=new Ha,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),x.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return x.or([()=>x.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Qy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Yy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Zy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vC()?8:eU(He())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Yy;return this.Xi(e,t,s).next(c=>{if(o.result=c,this.zi)return this.es(e,t,s,c.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Na()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Na()<=ae.DEBUG&&F("QueryEngine","Query:",No(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Na()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(t))):x.resolve())}Yi(e,t){if(jb(t))return x.resolve(null);let r=gn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_y(t,null,"F"),r=gn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,s,u.readTime)?this.Yi(e,_y(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return jb(t)||i.isEqual(ee.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?x.resolve(null):(Na()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),No(t)),this.rs(e,s,t,YV(i,-1)).next(c=>c))})}ts(e,t){let r=new ct(IS(e));return t.forEach((i,o)=>{Cd(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Na()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",No(t)),this.Ji.getDocumentsMatchingQuery(e,t,pi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Jy=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new xe(ge),this._s=new Cr(o=>Pv(o),kv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function qU(n,e,t,r){return new Jy(n,e,t,r)}function US(n,e){return w(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ce();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function GU(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),I=x.resolve();return y.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);De(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function jS(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function WU(n,e){let t=Z(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(t.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,f.addedDocuments,p)));let I=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(ut.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,I,f)&&c.push(t.Ur.updateTargetData(o,I))});let u=$n(),l=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(KU(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ee.min())){let f=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function KU(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=$n();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function QU(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YU(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ba(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Xy(n,e,t){return w(this,null,function*(){let r=Z(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qa(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Zb(n,e,t){let r=Z(n),i=ee.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=Z(u),y=p._s.get(f);return y!==void 0?x.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ce())).next(c=>(ZU(r,hU(e),c),{documents:c,Ts:o})))}function ZU(n,e,t){let r=n.us.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var sd=class{constructor(){this.activeTargetIds=vU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ev=class{constructor(){this.so=new sd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tv=class{_o(e){}shutdown(){}};var ad=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hl=null;function Km(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}var JU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var nv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var at="WebChannelConnection",rv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let c=Km(),u=this.xo(t,r.toUriEncodedString());F("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(f=>(F("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Lo("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,o,s,c){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=JU[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Km();return new Promise((s,c)=>{let u=new Bm;u.setWithCredentials(!0),u.listenOnce(Hm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ra.NO_ERROR:let f=u.getResponseJson();F(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ra.TIMEOUT:F(at,`RPC '${e}' ${o} timed out`),c(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ra.HTTP_ERROR:let p=u.getStatus();if(F(at,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(O)>=0?O:M.UNKNOWN}(I.status);c(new U(S,I.message))}else c(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(M.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(at,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);F(at,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Km(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gm(),c=qm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new $m({})),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");F(at,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,I=!1,S=new nv({Io:R=>{I?F(at,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(F(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),F(at,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,O,V)=>{R.listen(O,z=>{try{V(z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return N(p,Ro.EventType.OPEN,()=>{I||(F(at,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,Ro.EventType.CLOSE,()=>{I||(I=!0,F(at,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,Ro.EventType.ERROR,R=>{I||(I=!0,Lo(at,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ro.EventType.MESSAGE,R=>{var O;if(!I){let V=R.data[0];De(!!V);let z=V,ie=z.error||((O=z[0])===null||O===void 0?void 0:O.error);if(ie){F(at,`RPC '${e}' stream ${i} received error:`,ie);let Ae=ie.status,J=function(v){let E=Oe[v];if(E!==void 0)return MS(E)}(Ae),D=ie.message;J===void 0&&(J=M.INTERNAL,D="Unknown error status: "+Ae+" with message "+ie.message),I=!0,S.So(new U(J,D)),p.close()}else F(at,`RPC '${e}' stream ${i} received:`,V),S.bo(V)}}),N(c,zm.STAT_EVENT,R=>{R.stat===Bl.PROXY?F(at,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bl.NOPROXY&&F(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Qm(){return typeof document<"u"?document:null}function bd(n){return new Ay(n,!0)}var cd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ud=class{constructor(e,t,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(jn(t.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},iv=class extends ud{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=PU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?mn(s.readTime):ee.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=xy(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=vy(u)?{documents:LU(o,u)}:{query:FU(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=xS(o,s.resumeToken);let l=Ry(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=id(o,s.snapshotVersion.toTimestamp());let l=Ry(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=UU(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=xy(this.serializer),t.removeTarget=e,this.a_(t)}},ov=class extends ud{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=OU(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=xy(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>kU(this.serializer,r))};this.a_(t)}};var sv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Ny(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Ny(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},av=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jn(t),this.D_=!1):F("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var cv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){_i(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield Ya(l),l.q_.set("Unknown"),l.L_.delete(4),yield Sd(l)})}(this))}))}),this.q_=new av(r,i)}};function Sd(n){return w(this,null,function*(){if(_i(n))for(let e of n.B_)yield e(!0)})}function Ya(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function BS(n,e){let t=Z(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Bv(t)?jv(t):Jo(t).r_()&&Uv(t,e))}function Vv(n,e){let t=Z(n),r=Jo(t);t.N_.delete(e),r.r_()&&$S(t,e),t.N_.size===0&&(r.r_()?r.o_():_i(t)&&t.q_.set("Unknown"))}function Uv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(n).A_(e)}function $S(n,e){n.Q_.xe(e),Jo(n).R_(e)}function jv(n){n.Q_=new Sy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Jo(n).start(),n.q_.v_()}function Bv(n){return _i(n)&&!Jo(n).n_()&&n.N_.size>0}function _i(n){return Z(n).L_.size===0}function HS(n){n.Q_=void 0}function XU(n){return w(this,null,function*(){n.q_.set("Online")})}function ej(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{Uv(n,e)})})}function tj(n,e){return w(this,null,function*(){HS(n),Bv(n)?(n.q_.M_(e),jv(n)):n.q_.set("Unknown")})}function nj(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof nd&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ld(n,r)}else if(e instanceof ko?n.Q_.Ke(e):e instanceof td?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ee.min()))try{let r=yield jS(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(ut.EMPTY_BYTE_STRING,f.snapshotVersion)),$S(o,u);let p=new Ba(f.target,u,l,f.sequenceNumber);Uv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield ld(n,r)}})}function ld(n,e,t){return w(this,null,function*(){if(!Qa(e))throw e;n.L_.add(1),yield Ya(n),n.q_.set("Offline"),t||(t=()=>jS(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Sd(n)}))})}function zS(n,e){return e().catch(t=>ld(n,t,e))}function Ad(n){return w(this,null,function*(){let e=Z(n),t=br(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rj(e);)try{let i=yield QU(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,ij(e,i)}catch(i){yield ld(e,i)}qS(e)&&GS(e)})}function rj(n){return _i(n)&&n.O_.length<10}function ij(n,e){n.O_.push(e);let t=br(n);t.r_()&&t.V_&&t.m_(e.mutations)}function qS(n){return _i(n)&&!br(n).n_()&&n.O_.length>0}function GS(n){br(n).start()}function oj(n){return w(this,null,function*(){br(n).p_()})}function sj(n){return w(this,null,function*(){let e=br(n);for(let t of n.O_)e.m_(t.mutations)})}function aj(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=Dy.from(r,e,t);yield zS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ad(n)})}function cj(n,e){return w(this,null,function*(){e&&br(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return CU(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();br(r).s_(),yield zS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ad(r)}})}(n,e)),qS(n)&&GS(n)})}function Jb(n,e){return w(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=_i(t);t.L_.add(3),yield Ya(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Sd(t)})}function uj(n,e){return w(this,null,function*(){let t=Z(n);e?(t.L_.delete(2),yield Sd(t)):e||(t.L_.add(2),yield Ya(t),t.q_.set("Unknown"))})}function Jo(n){return n.K_||(n.K_=function(t,r,i){let o=Z(t);return o.w_(),new iv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:XU.bind(null,n),Ro:ej.bind(null,n),mo:tj.bind(null,n),d_:nj.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),Bv(n)?jv(n):n.q_.set("Unknown")):(yield n.K_.stop(),HS(n))}))),n.K_}function br(n){return n.U_||(n.U_=function(t,r,i){let o=Z(t);return o.w_(),new ov(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:oj.bind(null,n),mo:cj.bind(null,n),f_:sj.bind(null,n),g_:aj.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield Ad(n)):(yield n.U_.stop(),n.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var uv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $v(n,e){if(jn("AsyncQueue",`${e}: ${n}`),Qa(n))return new U(M.UNAVAILABLE,`${e}: ${n}`);throw n}var dd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=Ma(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var hd=class{constructor(){this.W_=new xe(H.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Wo=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,dd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var lv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},dv=class{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Z(t),o=i.queries;i.queries=Xb(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function Xb(){return new Cr(n=>_S(n),Td)}function lj(n,e){return w(this,null,function*(){let t=Z(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new lv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=$v(s,`Initialization of query '${No(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Hv(t)})}function dj(n,e){return w(this,null,function*(){let t=Z(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function hj(n,e){let t=Z(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&Hv(t)}function fj(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Hv(n){n.Y_.forEach(e=>{e.next()})}var hv,eS;(eS=hv||(hv={})).ea="default",eS.Cache="cache";var fv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hv.Cache}};var fd=class{constructor(e){this.key=e}},pd=class{constructor(e){this.key=e}},pv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=IS(e),this.Ra=new dd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new hd,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),I=Cd(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;y&&I?y.data.isEqual(I.data)?S!==N&&(r.track({type:3,doc:I}),R=!0):this.ga(y,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),R=!0):y&&!I&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(I?(s=s.add(I),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(I,S){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return N(I)-N(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Wo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new pd(r))}),this.da.forEach(r=>{e.has(r)||t.push(new fd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ce();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},gv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},mv=class{constructor(e){this.key=e,this.va=!1}},yv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Cr(c=>_S(c),Td),this.Ma=new Map,this.xa=new Set,this.Oa=new xe(H.comparator),this.Na=new Map,this.La=new Ha,this.Ba={},this.ka=new Map,this.qa=$a.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function pj(n,e,t=!0){return w(this,null,function*(){let r=JS(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield WS(r,e,t,!0),i})}function gj(n,e){return w(this,null,function*(){let t=JS(n);yield WS(t,e,!0,!1)})}function WS(n,e,t,r){return w(this,null,function*(){let i=yield YU(n.localStore,gn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield mj(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&BS(n.remoteStore,i),c})}function mj(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,y,I)=>function(N,R,O,V){return w(this,null,function*(){let z=R.view.ma(O);z.ns&&(z=yield Zb(N.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let ie=V&&V.targetChanges.get(R.targetId),Ae=V&&V.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(z,N.isPrimaryClient,ie,Ae);return nS(N,R.targetId,J.wa),J.snapshot})}(n,p,y,I);let o=yield Zb(n.localStore,e,!0),s=new pv(e,o.Ts),c=s.ma(o.documents),u=ja.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);nS(n,t,l.wa);let f=new gv(e,t,s);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function yj(n,e,t){return w(this,null,function*(){let r=Z(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Td(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Xy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Vv(r.remoteStore,i.targetId),vv(r,i.targetId)}).catch(Ka))):(vv(r,i.targetId),yield Xy(r.localStore,i.targetId,!0))})}function vj(n,e){return w(this,null,function*(){let t=Z(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(t.remoteStore,r.targetId))})}function _j(n,e,t){return w(this,null,function*(){let r=bj(n);try{let i=yield function(s,c){let u=Z(s),l=Ke.now(),f=c.reduce((I,S)=>I.add(S.key),ce()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=$n(),N=ce();return u.cs.getEntries(I,f).next(R=>{S=R,S.forEach((O,V)=>{V.isValidDocument()||(N=N.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let O=[];for(let V of c){let z=TU(V,p.get(V.key).overlayedDocument);z!=null&&O.push(new Hn(V.key,z,fS(z.value.mapValue),hi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,O,c)}).next(R=>{y=R;let O=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:y.batchId,changes:ES(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new xe(ge)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Za(r,i.changes),yield Ad(r.remoteStore)}catch(i){let o=$v(i,"Failed to persist write");t.reject(o)}})}function KS(n,e){return w(this,null,function*(){let t=Z(n);try{let r=yield WU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?De(s.va):i.removedDocuments.size>0&&(De(s.va),s.va=!1))}),yield Za(t,r,e)}catch(r){yield Ka(r)}})}function tS(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Z(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Hv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ij(n,e,t){return w(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new xe(H.comparator);s=s.insert(o,Qt.newNoDocument(o,ee.min()));let c=ce().add(o),u=new ed(ee.min(),new Map,new xe(ge),s,c);yield KS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),zv(r)}else yield Xy(r.localStore,e,!1).then(()=>vv(r,e,t)).catch(Ka)})}function wj(n,e){return w(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield GU(t.localStore,e);YS(t,r,null),QS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Za(t,i)}catch(i){yield Ka(i)}})}function Ej(n,e,t){return w(this,null,function*(){let r=Z(n);try{let i=yield function(s,c){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(De(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);YS(r,e,t),QS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Za(r,i)}catch(i){yield Ka(i)}})}function QS(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function YS(n,e,t){let r=Z(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function vv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||ZS(n,r)})}function ZS(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Vv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),zv(n))}function nS(n,e,t){for(let r of t)r instanceof fd?(n.La.addReference(r.key,e),Dj(n,r)):r instanceof pd?(F("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||ZS(n,r.key)):G()}function Dj(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(F("SyncEngine","New document in limbo: "+t),n.xa.add(r),zv(n))}function zv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new H(Me.fromString(e)),r=n.qa.next();n.Na.set(r,new mv(t)),n.Oa=n.Oa.insert(t,r),BS(n.remoteStore,new Ba(gn(Ov(t.path)),r,"TargetPurposeLimboResolution",uS.oe))}}function Za(n,e,t){return w(this,null,function*(){let r=Z(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Qy.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Z(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>x.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!Qa(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=f.os.get(y),S=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(y,N)}}})}(r.localStore,o))})}function Tj(n,e){return w(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield US(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new U(M.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Za(t,r.hs)}})}function Cj(n,e){let t=Z(n),r=t.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let c=t.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function JS(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ij.bind(null,e),e.Ca.d_=hj.bind(null,e.eventManager),e.Ca.$a=fj.bind(null,e.eventManager),e}function bj(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ej.bind(null,e),e}var gd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qU(this.persistence,new Zy,e.initialUser,this.serializer)}createPersistence(e){return new Gy(Ky.Zr,this.serializer)}createSharedClientState(e){return new ev}terminate(){return w(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var _v=class{initialize(e,t){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tj.bind(null,this.syncEngine),yield uj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new dv}()}createDatastore(e){let t=bd(e.databaseInfo.databaseId),r=function(o){return new rv(o)}(e.databaseInfo);return function(o,s,c,u){return new sv(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,s,c){return new cv(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,t=>tS(this.syncEngine,t,0),function(){return ad.D()?new ad:new tv}())}createSyncEngine(e,t){return function(i,o,s,c,u,l,f){let p=new yv(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return w(this,null,function*(){var e,t;yield function(i){return w(this,null,function*(){let o=Z(i);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ya(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var Iv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var wv=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ze.UNAUTHENTICATED,this.clientId=Wl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=$v(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ym(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield US(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function rS(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Aj(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Jb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Jb(e.remoteStore,i)),n._onlineComponents=e})}function Sj(n){return n.name==="FirebaseError"?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function Aj(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ym(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!Sj(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),yield Ym(n,new gd)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Ym(n,new gd);return n._offlineComponents})}function XS(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield rS(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield rS(n,new _v))),n._onlineComponents})}function Rj(n){return XS(n).then(e=>e.syncEngine)}function iS(n){return w(this,null,function*(){let e=yield XS(n),t=e.eventManager;return t.onListen=pj.bind(null,e.syncEngine),t.onUnlisten=yj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vj.bind(null,e.syncEngine),t})}function e0(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var oS=new Map;function t0(n,e,t){if(!t)throw new U(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nj(n,e,t,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sS(n){if(!H.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aS(n){if(H.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G()}function La(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qv(n);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var md=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ko=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new md({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new md(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zm;switch(r.type){case"firstParty":return new ty(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=oS.get(t);r&&(F("ComponentProvider","Removing Datastore"),oS.delete(t),r.terminate())}(this),Promise.resolve()}};function n0(n,e,t,r={}){var i;let o=(n=La(n,Ko))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ze.MOCK_USER;else{c=hC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ze(l)}n._authCredentials=new Jm(new Gl(c,u))}}var yd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Dr=class n extends yd{constructor(e,t,r){super(e,t,Ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function r0(n,e,...t){if(n=_t(n),t0("collection","path",e),n instanceof Ko){let r=Me.fromString(e,...t);return aS(r),new Dr(n,null,r)}{if(!(n instanceof Ft||n instanceof Dr))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return aS(r),new Dr(n.firestore,null,r)}}function i0(n,e,...t){if(n=_t(n),arguments.length===1&&(e=Wl.newId()),t0("doc","path",e),n instanceof Ko){let r=Me.fromString(e,...t);return sS(r),new Ft(n,null,new H(r))}{if(!(n instanceof Ft||n instanceof Dr))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Me.fromString(e,...t));return sS(r),new Ft(n.firestore,n instanceof Dr?n.converter:null,new H(r))}}var Ev=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new cd(this,"async_queue_retry"),this.Eu=()=>{let t=Qm();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=Qm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Un;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Qa(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let i=uv.createAndSchedule(this,e,t,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function cS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Qo=class extends Ko{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new Ev}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a0(this),this._firestoreClient.terminate()}};function o0(n,e){let t=typeof n=="object"?n:Do(),r=typeof n=="string"?n:e||"(default)",i=_a(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=dC("firestore");o&&n0(i,...o)}return i}function s0(n){return n._firestoreClient||a0(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a0(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,f){return new sy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,e0(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new wv(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var za=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ut.fromBase64String(e))}catch(t){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var qa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vd=class{constructor(e){this._methodName=e}};var Ga=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}};var Wa=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Mj=/^__.*__$/,Dv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Hn(e,this.data,this.fieldMask,t,this.fieldTransforms):new vi(e,this.data,t,this.fieldTransforms)}};function c0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Tv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return _d(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(c0(this.wu)&&Mj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Cv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bd(e)}Nu(e,t,r,i=!1){return new Tv({wu:e,methodName:t,Ou:r,path:Rt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xj(n){let e=n._freezeSettings(),t=bd(n._databaseId);return new Cv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pj(n,e,t,r,i,o={}){let s=n.Nu(o.merge||o.mergeFields?2:0,e,t,i);h0("Data must be an object, but it was:",s,r);let c=l0(r,s),u,l;if(o.merge)u=new fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=kj(e,p,t);if(!s.contains(y))throw new U(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Lj(f,y)||f.push(y)}u=new fn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Dv(new Kt(c),u,l)}function u0(n,e){if(d0(n=_t(n)))return h0("Unsupported field value:",e,n),l0(n,e);if(n instanceof vd)return function(r,i){if(!c0(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=u0(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _U(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ke.fromDate(r);return{timestampValue:id(i.serializer,o)}}if(r instanceof Ke){let o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:id(i.serializer,o)}}if(r instanceof Ga)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof za)return{bytesValue:xS(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wa)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Lv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${qv(r)}`)}(n,e)}function l0(n,e){let t={};return lS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(n,(r,i)=>{let o=u0(i,e.bu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function d0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ke||n instanceof Ga||n instanceof za||n instanceof Ft||n instanceof vd||n instanceof Wa)}function h0(n,e,t){if(!d0(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=qv(t);throw r==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+r)}}function kj(n,e,t){if((e=_t(e))instanceof qa)return e._internalPath;if(typeof e=="string")return f0(n,e);throw _d("Field path arguments must be of type string or ",n,!1,void 0,t)}var Oj=new RegExp("[~\\*/\\[\\]]");function f0(n,e,t){if(e.search(Oj)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qa(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _d(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,c+n+u)}function Lj(n,e){return n.some(t=>t.isEqual(e))}var Id=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(p0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},bv=class extends Id{data(){return super.data()}};function p0(n,e){return typeof e=="string"?f0(n,e):e instanceof qa?e._internalPath:e._delegate._internalPath}function Fj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sv=class{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Zo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>be(s.doubleValue));return new Wa(o)}convertGeoPoint(e){return new Ga(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Mv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){let t=Bn(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Me.fromString(e);De(VS(r));let i=new Zl(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(t)||jn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Vj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var di=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wd=class extends Id{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(p0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Oo=class extends wd{data(e={}){return super.data(e)}},Av=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new di(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Oo(this._firestore,this._userDataWriter,r.key,r,new di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Oo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Oo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Uj(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Uj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var Ed=class extends Sv{constructor(e){super(),this.firestore=e}convertBytes(e){return new za(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function Gv(n,e){let t=La(n.firestore,Qo),r=i0(n),i=Vj(n.converter,e);return jj(t,[Pj(xj(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function Wv(n,...e){var t,r,i;n=_t(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cS(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cS(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof Ft)l=La(n.firestore,Qo),f=Ov(n._key.path),u={next:p=>{e[s]&&e[s](Bj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=La(n,yd);l=La(p.firestore,Qo),f=p._query;let y=new Ed(l);u={next:I=>{e[s]&&e[s](new Av(l,y,p,I))},error:e[s+1],complete:e[s+2]},Fj(n._query)}return function(y,I,S,N){let R=new Iv(N),O=new fv(I,R,S);return y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return lj(yield iS(y),O)})),()=>{R.za(),y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return dj(yield iS(y),O)}))}}(s0(l),f,c,u)}function jj(n,e){return function(r,i){let o=new Un;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return _j(yield Rj(r),i,o)})),o.promise}(s0(n),e)}function Bj(n,e,t){let r=t.docs.get(e._key),i=new Ed(n);return new wd(n,i,e._key,r,new di(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Yo=i})(yr),mr(new Lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Qo(new Xm(r.getProvider("auth-internal")),new ry(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ue(Mb,"4.7.2",e),Ue(Mb,"4.7.2","esm2017")})();var Rd=function(){return Rd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rd.apply(this,arguments)};var zj={includeMetadataChanges:!1};function g0(n,e){return e===void 0&&(e=zj),new ue(function(t){var r=Wv(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function m0(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Rd(Rd({},r),(t={},t[e.idField]=n.id,t))}function y0(n){return g0(n,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function v0(n,e){return e===void 0&&(e={}),y0(n).pipe(re(function(t){return t.map(function(r){return m0(r,e)})}))}var Yt=class{constructor(e){return e}},_0="firestore",Kv=class{constructor(){return Ia(_0)}};var Qv=new $("angularfire2.firestore-instances");function qj(n,e){let t=wl(_0,n,e);return t&&new Yt(t)}function Gj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Yt(r)}}var Wj={provide:Kv,deps:[[new ot,Qv]]},Kj={provide:Yt,useFactory:qj,deps:[[new ot,Qv],On]};function I0(n,...e){return Ue("angularfire",ri.full,"fst"),on([Kj,Wj,{provide:Qv,useFactory:Gj(n),multi:!0,deps:[ve,it,bo,ii,[new ot,Aa],[new ot,Co],...e]}])}var Nd=vr(v0,!0);var Xo=vr(r0,!0);var w0=vr(o0,!0);function Yj(n,e){if(n&1){let t=Lu();me(0,"div",1)(1,"div",2)(2,"div")(3,"h5",3),st(4),ye(),me(5,"p",3),st(6),ye()(),me(7,"a",4),We("click",function(){let i=eo(t).$implicit,o=AD(2);return to(o.flipCard(i))}),Pe(8,"img",5),ye()()()}if(n&2){let t=e.$implicit;lr(4),Vu(t.front),lr(2),Vu(t.back)}}function Zj(n,e){n&1&&bD(0,Yj,9,2,"div",1,CD),n&2&&SD(e)}function Jj(n,e){n&1&&(me(0,"h1"),st(1,"Du hast noch keine Karteikarten erstellt!"),ye())}var Md=class n{constructor(e){this.firestore=e;let t=Xo(this.firestore,"karteikarten");this.karteikarten=Nd(t),console.log("Cards loaded...")}karteikarten;flipCard(e){e.flipped=!e.flipped}static \u0275fac=function(t){return new(t||n)(Ie(Yt))};static \u0275cmp=mt({type:n,selectors:[["app-card-overview"]],standalone:!0,features:[vt],decls:4,vars:3,consts:[["id","overview-page",1,"d-flex","flex-wrap","flex-column","flex-lg-row","align-items-center","align-items-lg-start"],[1,"card"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"btn","btn-primary","ms-3","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../assets/icon-settings.png","id","icon-button"]],template:function(t,r){if(t&1&&(me(0,"div",0),Ou(1,Zj,2,0),kD(2,"async"),Ou(3,Jj,2,0,"h1"),ye()),t&2){let i;lr(),TD((i=OD(2,1,r.karteikarten))?1:3,i)}},dependencies:[Hs,rT],styles:[".card[_ngcontent-%COMP%]{width:100%;min-width:18rem;max-width:20rem;height:10rem;max-height:10rem;margin:10px;cursor:pointer}.card[_ngcontent-%COMP%]:hover{background-color:#d6a2e033}#icon-button[_ngcontent-%COMP%]{max-width:15px;object-fit:cover;cursor:pointer}"]})};var xd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-card-decks"]],standalone:!0,features:[vt],decls:2,vars:0,template:function(t,r){t&1&&(me(0,"p"),st(1,"card-decks works!"),ye())}})};var E0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:xd},{path:"cards",component:Md}];var D0={production:!0,firebase:{projectId:"karteikarten-marcokrooss",appId:"1:51557077833:web:a61181604ef4bf30118098",storageBucket:"karteikarten-marcokrooss.appspot.com",apiKey:"AIzaSyCS_Oir9t84yCwd0FFp3kAS7tLGm1qK5oQ",authDomain:"karteikarten-marcokrooss.firebaseapp.com",messagingSenderId:"51557077833"}};var T0={providers:[jD({eventCoalescing:!0}),nC(E0),LC(()=>FC(D0.firebase)),Sb(()=>Ab()),I0(()=>w0())]};var Sr=class n{showModalSource=new Fe(!1);showModal$=this.showModalSource.asObservable();openModal(){this.showModalSource.next(!0)}closeModal(){this.showModalSource.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xj=()=>["/cards"],Pd=class n{constructor(e){this.modalService=e}onNewCardButtonClick(){console.log("Create new Card!"),this.modalService.openModal()}onSettingsButtonClick(){console.log("Go to settings!")}onListButtonClick(){console.log("All cards")}onUserButtonClick(){console.log("Go to UserAccount!")}static \u0275fac=function(t){return new(t||n)(Ie(Sr))};static \u0275cmp=mt({type:n,selectors:[["app-header"]],standalone:!0,features:[vt],decls:15,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","d-block","d-md-none"],[1,"container-fluid","d-flex","flex-column","flex-lg-row","justify-content-center","justify-content-lg-end"],[1,"container-fluid","d-flex","d-lg-block","justify-content-center","mb-3","mb-lg-0"],["src","../../assets/logo-panda.png","routerLink","/home",1,"header-logo","hidden","visible-lg"],[1,"navbar","navbar-expand-lg","bg-body-tertiary","d-none","d-md-block"],["role","search",1,"d-flex"],["role","button",1,"btn","btn-primary","me-2",3,"click"],["src","../../assets/icon-add.png","id","header-icon-add"],["routerLinkActive","router-link-active","role","button",1,"btn","btn-secondary","me-2",3,"click","routerLink"],["src","../../assets/icon-list.png","id","header-icon-list"],["href","#","role","button",1,"btn","btn-dark","me-2",3,"click"],["src","../../assets/icon-account.png","id","header-icon-account"]],template:function(t,r){t&1&&(me(0,"nav",0)(1,"div",1)(2,"div",2),Pe(3,"img",3),ye()()(),me(4,"nav",4)(5,"div",1)(6,"div",2),Pe(7,"img",3),ye(),me(8,"form",5)(9,"a",6),We("click",function(){return r.onNewCardButtonClick()}),Pe(10,"img",7),ye(),me(11,"a",8),We("click",function(){return r.onListButtonClick()}),Pe(12,"img",9),ye(),me(13,"a",10),We("click",function(){return r.onUserButtonClick()}),Pe(14,"img",11),ye()()()()),t&2&&(lr(11),Kr("routerLink",Uu(1,Xj)))},dependencies:[pl,wo,fl],styles:[".header-logo[_ngcontent-%COMP%]{width:100%;max-width:50px;margin-right:1%;cursor:pointer}#header-icon-add[_ngcontent-%COMP%], #header-icon-list[_ngcontent-%COMP%], #header-icon-settings[_ngcontent-%COMP%], #header-icon-account[_ngcontent-%COMP%]{width:100%;max-width:30px;object-fit:cover;cursor:pointer}"]})};var e2=n=>({show:n}),t2=n=>({display:n}),kd=class n{constructor(e){this.modalService=e}showModal=!1;firestore=P(Yt);karteikartenCollection;ngOnInit(){this.modalService.showModal$.subscribe(e=>{this.showModal=e}),this.karteikartenCollection=Xo(this.firestore,"karteikarten")}onSave(e,t,r){if(this.karteikartenCollection)try{Gv(this.karteikartenCollection,{front:e.value,back:t.value,topic:r.value,userId:"USERID"}),console.log("Card successfully saved!"),e.value="",t.value="",r.value=""}catch(i){console.error("Error saving card: ",i)}this.modalService.closeModal()}onCancel(){this.modalService.closeModal()}static \u0275fac=function(t){return new(t||n)(Ie(Sr))};static \u0275cmp=mt({type:n,selectors:[["app-card-creation"]],standalone:!0,features:[vt],decls:35,vars:6,consts:[["cardFront",""],["cardBack",""],["cardTopic",""],["tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade",3,"ngClass","ngStyle"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","card-front",1,"form-label"],["type","text","id","card-front","aria-describedby","frontHelp","maxlength","30",1,"form-control"],["id","frontHelp",1,"form-text"],["for","card-back",1,"form-label"],["type","text","id","card-back","aria-describedby","backHelp","maxlength","30",1,"form-control"],["id","backHelp",1,"form-text"],["for","card-topic",1,"form-label"],["type","text","id","card-topic","aria-describedby","topicHelp","maxlength","20",1,"form-control"],["id","topicHelp",1,"form-text"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){if(t&1){let i=Lu();me(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h5",7),st(5,"Erstelle deine Karteikarte:"),ye(),me(6,"button",8),We("click",function(){return eo(i),to(r.onCancel())}),ye()(),me(7,"div",9)(8,"form")(9,"div",10)(10,"label",11),st(11,"Vorderseite"),ye(),Pe(12,"input",12,0),me(14,"div",13),st(15,"Vorderseite deiner Karteikarte"),ye()(),me(16,"div",10)(17,"label",14),st(18,"R\xFCckseite"),ye(),Pe(19,"input",15,1),me(21,"div",16),st(22,"R\xFCckseite deiner Karteikarte"),ye()(),me(23,"div",10)(24,"label",17),st(25,"Thema"),ye(),Pe(26,"input",18,2),me(28,"div",19),st(29,"R\xFCckseite deiner Karteikarte"),ye()()()(),me(30,"div",20)(31,"button",21),We("click",function(){return eo(i),to(r.onCancel())}),st(32,"Abbrechen"),ye(),me(33,"button",22),We("click",function(){eo(i);let s=Fu(13),c=Fu(20),u=Fu(27);return to(r.onSave(s,c,u))}),st(34,"Speichern"),ye()()()()()}t&2&&Kr("ngClass",Rp(2,e2,r.showModal))("ngStyle",Rp(4,t2,r.showModal?"block":"none"))},dependencies:[Hs,tT,nT]})};var n2=()=>["/cards"],Od=class n{constructor(e){this.modalService=e}onNewCardButtonClick(){console.log("Create new Card!"),this.modalService.openModal()}onSettingsButtonClick(){console.log("Go to settings!")}onListButtonClick(){console.log("All cards")}onUserButtonClick(){console.log("Go to UserAccount!")}static \u0275fac=function(t){return new(t||n)(Ie(Sr))};static \u0275cmp=mt({type:n,selectors:[["app-footer"]],standalone:!0,features:[vt],decls:9,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","d-md-none"],[1,"container-fluid","d-flex","flex-column","flex-lg-row","justify-content-center","justify-content-lg-end"],["role","search",1,"d-flex"],["role","button",1,"btn","btn-primary","me-2",3,"click"],["src","../../assets/icon-add.png","id","footer-icon-add"],["routerLinkActive","router-link-active","role","button",1,"btn","btn-secondary","me-2",3,"click","routerLink"],["src","../../assets/icon-list.png","id","footer-icon-list"],["href","#","role","button",1,"btn","btn-dark","me-2",3,"click"],["src","../../assets/icon-account.png","id","footer-icon-account"]],template:function(t,r){t&1&&(me(0,"nav",0)(1,"div",1)(2,"form",2)(3,"a",3),We("click",function(){return r.onNewCardButtonClick()}),Pe(4,"img",4),ye(),me(5,"a",5),We("click",function(){return r.onListButtonClick()}),Pe(6,"img",6),ye(),me(7,"a",7),We("click",function(){return r.onUserButtonClick()}),Pe(8,"img",8),ye()()()()),t&2&&(lr(5),Kr("routerLink",Uu(1,n2)))},dependencies:[pl,wo,fl],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;bottom:0}.footer-logo[_ngcontent-%COMP%]{width:100%;max-width:50px;margin-right:1%;cursor:pointer}#footer-icon-add[_ngcontent-%COMP%], #footer-icon-list[_ngcontent-%COMP%], #footer-icon-settings[_ngcontent-%COMP%], #footer-icon-account[_ngcontent-%COMP%]{width:100%;max-width:30px;object-fit:cover;cursor:pointer}"]})};var Ld=class n{firestore=P(Yt);karteikarten$;title="karteikarten";current="";setCurrent(e){console.log("It's working",e),this.current=e}constructor(){let e=Xo(this.firestore,"karteikarten");this.karteikarten$=Nd(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-root"]],standalone:!0,features:[vt],decls:4,vars:0,consts:[["id","header"],["id","footer"]],template:function(t,r){t&1&&Pe(0,"app-header",0)(1,"router-outlet")(2,"app-card-creation")(3,"app-footer",1)},dependencies:[Ag,Pd,kd,Od]})};hT(Ld,T0).catch(n=>console.error(n));
