var hA=Object.defineProperty,fA=Object.defineProperties;var pA=Object.getOwnPropertyDescriptors;var eI=Object.getOwnPropertySymbols,gA=Object.getPrototypeOf,mA=Object.prototype.hasOwnProperty,yA=Object.prototype.propertyIsEnumerable,vA=Reflect.get;var tI=(n,e,t)=>e in n?hA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})mA.call(e,t)&&tI(n,t,e[t]);if(eI)for(var t of eI(e))yA.call(e,t)&&tI(n,t,e[t]);return n},Ce=(n,e)=>fA(n,pA(e));var Yn=(n,e,t)=>vA(gA(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var dh=null;var lh=1,nI=Symbol("SIGNAL");function oe(n){let e=dh;return dh=n,e}function rI(){return dh}var hh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _A(n){if(!(yh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===lh)){if(!n.producerMustRecompute(n)&&!ph(n)){n.dirty=!1,n.lastCleanEpoch=lh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=lh}}function fh(n){return n&&(n.nextProducerIndex=0),oe(n)}function iI(n,e){if(oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(yh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)mh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ph(n){vh(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(_A(t),r!==t.version))return!0}return!1}function gh(n){if(vh(n),yh(n))for(let e=0;e<n.producerNode.length;e++)mh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function mh(n,e){if(IA(n),n.liveConsumerNode.length===1&&wA(n))for(let r=0;r<n.producerNode.length;r++)mh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];vh(i),i.producerIndexOfThis[r]=e}}function yh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function vh(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function IA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function wA(n){return n.producerNode!==void 0}function EA(){throw new Error}var DA=EA;function oI(n){DA=n}function X(n){return typeof n=="function"}function Si(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vc=Si(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof vc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sI(o)}catch(s){e=e??[],s instanceof vc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)sI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pr(t,e)}remove(e){let{_finalizers:t}=this;t&&Pr(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var _h=Me.EMPTY;function _c(n){return n instanceof Me||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function sI(n){X(n)?n():n.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ai={setTimeout(n,e,...t){let{delegate:r}=Ai;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ai;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ic(n){Ai.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(n);else throw n})}function ws(){}var aI=Ih("C",void 0,void 0);function cI(n){return Ih("E",void 0,n)}function uI(n){return Ih("N",n,void 0)}function Ih(n,e,t){return{kind:n,value:e,error:t}}var kr=null;function Ri(n){if(jt.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=kr;if(kr=null,t)throw r}}else n()}function lI(n){jt.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=n)}var Or=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_c(e)&&e.add(this)):this.destination=bA}static create(e,t,r){return new Ni(e,t,r)}next(e){this.isStopped?Eh(uI(e),this):this._next(e)}error(e){this.isStopped?Eh(cI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Eh(aI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TA=Function.prototype.bind;function wh(n,e){return TA.call(n,e)}var Dh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){wc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){wc(r)}else wc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){wc(t)}}},Ni=class extends Or{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wh(e.next,o),error:e.error&&wh(e.error,o),complete:e.complete&&wh(e.complete,o)}):i=e}this.destination=new Dh(i)}};function wc(n){jt.useDeprecatedSynchronousErrorHandling?lI(n):Ic(n)}function CA(n){throw n}function Eh(n,e){let{onStoppedNotification:t}=jt;t&&Ai.setTimeout(()=>t(n,e))}var bA={closed:!0,next:ws,error:CA,complete:ws};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(n){return n}function Ec(...n){return Th(n)}function Th(n){return n.length===0?wt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=AA(t)?t:new Ni(t,r,i);return Ri(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=dI(r),new r((i,o)=>{let s=new Ni({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Mi](){return this}pipe(...t){return Th(t)(this)}toPromise(t){return t=dI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function dI(n){var e;return(e=n??jt.Promise)!==null&&e!==void 0?e:Promise}function SA(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function AA(n){return n&&n instanceof Or||SA(n)&&_c(n)}function Ch(n){return X(n?.lift)}function le(n){return e=>{if(Ch(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new bh(n,e,t,r,i)}var bh=class extends Or{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xi(){return le((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Pi=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ch(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return xi()(this)}};var hI=Si(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Dc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new hI}next(t){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_h:(this.currentObservers=null,o.push(t),new Me(()=>{this.currentObservers=null,Pr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Dc(e,t),n})(),Dc=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_h}};var Fe=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sh={now(){return(Sh.delegate||Date).now()},delegate:void 0};var Tc=class extends Me{constructor(e,t){super()}schedule(e,t=0){return this}};var Es={setInterval(n,e,...t){let{delegate:r}=Es;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Es;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ki=class extends Tc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Es.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Es.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Oi=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Oi.now=Sh.now;var Li=class extends Oi{constructor(e,t=Oi.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ah=new Li(ki);var Cc=class extends ki{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var bc=class extends Li{};var Rh=new bc(Cc);var Et=new ue(n=>n.complete());function fI(n){return n&&X(n.schedule)}function pI(n){return n[n.length-1]}function gI(n){return X(pI(n))?n.pop():void 0}function Zn(n){return fI(pI(n))?n.pop():void 0}function Nh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function yI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function mI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(n){return this instanceof Lr?(this.v=n,this):new Lr(n)}function vI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(N){return new Promise(function(R,O){o.push([I,N,R,O])>1||u(I,N)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(N){y(o[0][3],N)}}function l(I){I.value instanceof Lr?Promise.resolve(I.value.v).then(f,p):y(o[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function y(I,S){I(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function _I(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mI=="function"?mI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Sc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ac(n){return X(n?.then)}function Rc(n){return X(n[Mi])}function Nc(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function Mc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xc=RA();function Pc(n){return X(n?.[xc])}function kc(n){return vI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Lr(t.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{t.releaseLock()}})}function Oc(n){return X(n?.getReader)}function Be(n){if(n instanceof ue)return n;if(n!=null){if(Rc(n))return NA(n);if(Sc(n))return MA(n);if(Ac(n))return xA(n);if(Nc(n))return II(n);if(Pc(n))return PA(n);if(Oc(n))return kA(n)}throw Mc(n)}function NA(n){return new ue(e=>{let t=n[Mi]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MA(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function xA(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ic)})}function PA(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function II(n){return new ue(e=>{OA(n,e).catch(t=>e.error(t))})}function kA(n){return II(kc(n))}function OA(n,e){var t,r,i,o;return yI(this,void 0,void 0,function*(){try{for(t=_I(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function ft(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Jn(n,e=0){return le((t,r)=>{t.subscribe(de(r,i=>ft(r,n,()=>r.next(i),e),()=>ft(r,n,()=>r.complete(),e),i=>ft(r,n,()=>r.error(i),e)))})}function Xn(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wI(n,e){return Be(n).pipe(Xn(e),Jn(e))}function EI(n,e){return Be(n).pipe(Xn(e),Jn(e))}function DI(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function TI(n,e){return new ue(t=>{let r;return ft(t,e,()=>{r=n[xc](),ft(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Lc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{ft(t,e,()=>{let r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function CI(n,e){return Lc(kc(n),e)}function bI(n,e){if(n!=null){if(Rc(n))return wI(n,e);if(Sc(n))return DI(n,e);if(Ac(n))return EI(n,e);if(Nc(n))return Lc(n,e);if(Pc(n))return TI(n,e);if(Oc(n))return CI(n,e)}throw Mc(n)}function Ae(n,e){return e?bI(n,e):Be(n)}function q(...n){let e=Zn(n);return Ae(n,e)}function Fi(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function Mh(n){return!!n&&(n instanceof ue||X(n.lift)&&X(n.subscribe))}var Tn=Si(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function re(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:LA}=Array;function FA(n,e){return LA(e)?n(...e):n(e)}function SI(n){return re(e=>FA(n,e))}var{isArray:VA}=Array,{getPrototypeOf:UA,prototype:jA,keys:BA}=Object;function AI(n){if(n.length===1){let e=n[0];if(VA(e))return{args:e,keys:null};if($A(e)){let t=BA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $A(n){return n&&typeof n=="object"&&UA(n)===jA}function RI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ds(...n){let e=Zn(n),t=gI(n),{args:r,keys:i}=AI(n);if(r.length===0)return Ae([],e);let o=new ue(HA(r,e,i?s=>RI(i,s):wt));return t?o.pipe(SI(t)):o}function HA(n,e,t=wt){return r=>{NI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)NI(e,()=>{let l=Ae(n[u],e),f=!1;l.subscribe(de(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function NI(n,e,t){n?ft(t,n,e):e()}function MI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},I=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let R=!1;Be(t(N,f++)).subscribe(de(e,O=>{i?.(O),o?I(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?ft(e,s,()=>S(O)):S(O)}y()}catch(O){e.error(O)}}))};return n.subscribe(de(e,I,()=>{p=!0,y()})),()=>{c?.()}}function ke(n,e,t=1/0){return X(e)?ke((r,i)=>re((o,s)=>e(r,o,i,s))(Be(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>MI(r,i,n,t)))}function er(n=1/0){return ke(wt,n)}function xI(){return er(1)}function Vi(...n){return xI()(Ae(n,Zn(n)))}function Fc(n){return new ue(e=>{Be(n()).subscribe(e)})}function Dt(n,e){return le((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function tr(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=Be(n(s,tr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function PI(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(de(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Fr(n,e){return X(e)?ke(n,e,1):ke(n,1)}function nr(n){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Cn(n){return n<=0?()=>Et:le((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xh(n){return re(()=>n)}function Vc(n=zA){return le((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function zA(){return new Tn}function Ts(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Jt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):wt,Cn(1),t?nr(e):Vc(()=>new Tn))}function Ui(n){return n<=0?()=>Et:le((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ph(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Dt((i,o)=>n(i,o,r)):wt,Ui(1),t?nr(e):Vc(()=>new Tn))}function Uc(n,e){return le(PI(n,e,arguments.length>=2,!0))}function jc(...n){let e=Zn(n);return le((t,r)=>{(e?Vi(n,t,e):Vi(n,t)).subscribe(r)})}function Nt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,f=o++;Be(n(u,f)).subscribe(i=de(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function kh(n){return le((e,t)=>{Be(n).subscribe(de(t,()=>t.complete(),ws)),!t.closed&&e.subscribe(t)})}function Ve(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var gw="https://g.co/ng/security#xss",B=class extends Error{constructor(e,t){super(Hf(e,t)),this.code=e}};function Hf(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Vs(n){return{toString:n}.toString()}var Bc="__parameters__";function qA(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function mw(n,e,t){return Vs(()=>{let r=qA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Bc)?u[Bc]:Object.defineProperty(u,Bc,{value:[]})[Bc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var zh=globalThis;function Ee(n){for(let e in n)if(n[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function Tt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function kI(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var GA=Ee({__forward_ref__:Ee});function yw(n){return n.__forward_ref__=yw,n.toString=function(){return Tt(this())},n}function Mt(n){return vw(n)?n():n}function vw(n){return typeof n=="function"&&n.hasOwnProperty(GA)&&n.__forward_ref__===yw}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Us(n){return{providers:n.providers||[],imports:n.imports||[]}}function yu(n){return OI(n,Iw)||OI(n,ww)}function _w(n){return yu(n)!==null}function OI(n,e){return n.hasOwnProperty(e)?n[e]:null}function WA(n){let e=n&&(n[Iw]||n[ww]);return e||null}function LI(n){return n&&(n.hasOwnProperty(FI)||n.hasOwnProperty(KA))?n[FI]:null}var Iw=Ee({\u0275prov:Ee}),FI=Ee({\u0275inj:Ee}),ww=Ee({ngInjectableDef:Ee}),KA=Ee({ngInjectorDef:Ee}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ew(n){return n&&!!n.\u0275providers}var QA=Ee({\u0275cmp:Ee}),YA=Ee({\u0275dir:Ee}),ZA=Ee({\u0275pipe:Ee}),JA=Ee({\u0275mod:Ee}),Yc=Ee({\u0275fac:Ee}),bs=Ee({__NG_ELEMENT_ID__:Ee}),VI=Ee({__NG_ENV_ID__:Ee});function vu(n){return typeof n=="string"?n:n==null?"":String(n)}function XA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():vu(n)}function eR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,n)}function zf(n,e){throw new B(-201,!1)}var ne=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ne||{}),qh;function Dw(){return qh}function pt(n){let e=qh;return qh=n,e}function Tw(n,e,t){let r=yu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ne.Optional)return null;if(e!==void 0)return e;zf(n,"Injector")}var tR={},Ss=tR,Gh="__NG_DI_FLAG__",Zc="ngTempTokenPath",nR="ngTokenPath",rR=/\n/gm,iR="\u0275",UI="__source",zi;function oR(){return zi}function rr(n){let e=zi;return zi=n,e}function sR(n,e=ne.Default){if(zi===void 0)throw new B(-203,!1);return zi===null?Tw(n,void 0,e):zi.get(n,e&ne.Optional?null:void 0,e)}function K(n,e=ne.Default){return(Dw()||sR)(Mt(n),e)}function x(n,e=ne.Default){return K(n,_u(e))}function _u(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Wh(n){let e=[];for(let t=0;t<n.length;t++){let r=Mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let c=r[s],u=aR(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(K(i,o))}else e.push(K(r))}return e}function Cw(n,e){return n[Gh]=e,n.prototype[Gh]=e,n}function aR(n){return n[Gh]}function cR(n,e,t,r){let i=n[Zc];throw e[UI]&&i.unshift(e[UI]),n.message=uR(`
`+n.message,i,t,r),n[nR]=i,n[Zc]=null,n}function uR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==iR?n.slice(2):n;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Tt(c)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(rR,`
  `)}`}var ot=Cw(mw("Optional"),8);var qf=Cw(mw("SkipSelf"),4);function Ur(n,e){let t=n.hasOwnProperty(Yc);return t?n[Yc]:null}function lR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function dR(n){return n.flat(Number.POSITIVE_INFINITY)}function Gf(n,e){n.forEach(t=>Array.isArray(t)?Gf(t,e):e(t))}function bw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var As={},Xt=[],Gi=new $(""),Sw=new $("",-1),Aw=new $(""),Xc=class{get(e,t=Ss){if(t===Ss){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return t}},Rw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Rw||{}),nn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(nn||{}),sr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(sr||{});function hR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Kh(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];fR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Nw(n){return n===3||n===4||n===6}function fR(n){return n.charCodeAt(0)===64}function Wf(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?jI(n,t,i,null,e[++r]):jI(n,t,i,null,null))}}return n}function jI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Mw="ng-template";function pR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kf(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Kf(n){return n.type===4&&n.value!==Mw}function gR(n,e,t){let r=n.type===4&&!t?Mw:n.value;return e===r}function mR(n,e,t){let r=4,i=n.attrs,o=i!==null?_R(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Bt(r)&&!Bt(u))return!1;if(s&&Bt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!gR(n,u,t)||u===""&&e.length===1){if(Bt(r))return!1;s=!0}}else if(r&8){if(i===null||!pR(n,i,u,t)){if(Bt(r))return!1;s=!0}}else{let l=e[++c],f=yR(u,i,Kf(n),t);if(f===-1){if(Bt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Bt(r))return!1;s=!0}}}}return Bt(r)||s}function Bt(n){return(n&1)===0}function yR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IR(e,n)}function vR(n,e,t=!1){for(let r=0;r<e.length;r++)if(mR(n,e[r],t))return!0;return!1}function _R(n){for(let e=0;e<n.length;e++){let t=n[e];if(Nw(t))return e}return n.length}function IR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function BI(n,e){return n?":not("+e.trim()+")":e}function wR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Bt(s)&&(e+=BI(o,i),i=""),r=s,o=o||!Bt(r);t++}return i!==""&&(e+=BI(o,i)),e}function ER(n){return n.map(wR).join(",")}function DR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Bt(i))break;i=o}r++}return{attrs:e,classes:t}}function mt(n){return Vs(()=>{let e=Fw(n),t=Ce(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||nn.Emulated,styles:n.styles||Xt,_:null,schemas:n.schemas||null,tView:null,id:""});Vw(t);let r=n.dependencies;return t.directiveDefs=HI(r,!1),t.pipeDefs=HI(r,!0),t.id=bR(t),t})}function TR(n){return ar(n)||Pw(n)}function CR(n){return n!==null}function js(n){return Vs(()=>({type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $I(n,e){if(n==null)return As;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c=sr.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=c!==sr.None?[r,c]:r,e[o]=s):t[o]=r}return t}function Gr(n){return Vs(()=>{let e=Fw(n);return Vw(e),e})}function xw(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ar(n){return n[QA]||null}function Pw(n){return n[YA]||null}function kw(n){return n[ZA]||null}function Ow(n){let e=ar(n)||Pw(n)||kw(n);return e!==null?e.standalone:!1}function Lw(n,e){let t=n[JA]||null;if(!t&&e===!0)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function Fw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||As,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$I(n.inputs,e),outputs:$I(n.outputs),debugInfo:null}}function Vw(n){n.features?.forEach(e=>e(n))}function HI(n,e){if(!n)return null;let t=e?kw:TR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(CR)}function bR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(n){return{\u0275providers:n}}function SR(...n){return{\u0275providers:Uw(!0,n),\u0275fromNgModule:!0}}function Uw(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Gf(e,s=>{let c=s;Qh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&jw(i,o),t}function jw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Qf(i,o=>{e(o,r)})}}function Qh(n,e,t,r){if(n=Mt(n),!n)return!1;let i=null,o=LI(n),s=!o&&ar(n);if(!o&&!s){let u=n.ngModule;if(o=LI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Qh(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Gf(o.imports,f=>{Qh(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&jw(l,e)}if(!c){let l=Ur(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:Aw,useValue:i,multi:!0},i),e({provide:Gi,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Qf(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Qf(n,e){for(let t of n)Ew(t)&&(t=t.\u0275providers),Array.isArray(t)?Qf(t,e):e(t)}var AR=Ee({provide:String,useValue:Ee});function Bw(n){return n!==null&&typeof n=="object"&&AR in n}function RR(n){return!!(n&&n.useExisting)}function NR(n){return!!(n&&n.useFactory)}function Yh(n){return typeof n=="function"}var Iu=new $(""),zc={},MR={},Oh;function Yf(){return Oh===void 0&&(Oh=new Xc),Oh}var Ct=class{},Rs=class extends Ct{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jh(e,s=>this.processProvider(s)),this.records.set(Sw,ji(void 0,this)),i.has("environment")&&this.records.set(Ct,ji(void 0,this));let o=this.records.get(Iu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Aw,Xt,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=rr(this),r=pt(void 0),i;try{return e()}finally{rr(t),pt(r)}}get(e,t=Ss,r=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VI))return e[VI](this);r=_u(r);let i,o=rr(this),s=pt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=FR(e)&&yu(e);l&&this.injectableDefInScope(l)?u=ji(Zh(e),zc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ne.Self?Yf():this.parent;return t=r&ne.Optional&&t===Ss?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Zc]=c[Zc]||[]).unshift(Tt(e)),o)throw c;return cR(c,e,"R3InjectorError",this.source)}else throw c}finally{pt(s),rr(o)}}resolveInjectorInitializers(){let e=oe(null),t=rr(this),r=pt(void 0),i;try{let o=this.get(Gi,Xt,ne.Self);for(let s of o)s()}finally{rr(t),pt(r),oe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=Mt(e);let t=Yh(e)?e:Mt(e&&e.provide),r=PR(e);if(!Yh(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ji(void 0,zc,!0),i.factory=()=>Wh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=oe(null);try{return t.value===zc&&(t.value=MR,t.value=t.factory()),typeof t.value=="object"&&t.value&&LR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Zh(n){let e=yu(n),t=e!==null?e.factory:Ur(n);if(t!==null)return t;if(n instanceof $)throw new B(204,!1);if(n instanceof Function)return xR(n);throw new B(204,!1)}function xR(n){if(n.length>0)throw new B(204,!1);let t=WA(n);return t!==null?()=>t.factory(n):()=>new n}function PR(n){if(Bw(n))return ji(void 0,n.useValue);{let e=kR(n);return ji(e,zc)}}function kR(n,e,t){let r;if(Yh(n)){let i=Mt(n);return Ur(i)||Zh(i)}else if(Bw(n))r=()=>Mt(n.useValue);else if(NR(n))r=()=>n.useFactory(...Wh(n.deps||[]));else if(RR(n))r=()=>K(Mt(n.useExisting));else{let i=Mt(n&&(n.useClass||n.provide));if(OR(n))r=()=>new i(...Wh(n.deps));else return Ur(i)||Zh(i)}return r}function ji(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function OR(n){return!!n.deps}function LR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function FR(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Jh(n,e){for(let t of n)Array.isArray(t)?Jh(t,e):t&&Ew(t)?Jh(t.\u0275providers,e):e(t)}function an(n,e){n instanceof Rs&&n.assertNotDestroyed();let t,r=rr(n),i=pt(void 0);try{return e()}finally{rr(r),pt(i)}}function $w(){return Dw()!==void 0||oR()!=null}function VR(n){if(!$w())throw new B(-203,!1)}function UR(n){return typeof n=="function"}var An=0,Y=1,W=2,nt=3,$t=4,zt=5,Ns=6,eu=7,et=8,Wi=9,rn=10,rt=11,Ms=12,zI=13,to=14,Ht=15,jr=16,Bi=17,bn=18,wu=19,Hw=20,ir=21,Lh=22,xt=23,gt=25,zw=1;var Br=7,tu=8,Ki=9,tt=10,nu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(nu||{});function or(n){return Array.isArray(n)&&typeof n[zw]=="object"}function Rn(n){return Array.isArray(n)&&n[zw]===!0}function qw(n){return(n.flags&4)!==0}function Eu(n){return n.componentOffset>-1}function Zf(n){return(n.flags&1)===1}function Bs(n){return!!n.template}function Xh(n){return(n[W]&512)!==0}var ef=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Gw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function no(){return Ww}function Ww(n){return n.type.prototype.ngOnChanges&&(n.setInput=BR),jR}no.ngInherit=!0;function jR(){let n=Qw(this),e=n?.current;if(e){let t=n.previous;if(t===As)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function BR(n,e,t,r,i){let o=this.declaredInputs[r],s=Qw(n)||$R(n,{previous:As,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new ef(l&&l.currentValue,t,u===As),Gw(n,e,i,t)}var Kw="__ngSimpleChanges__";function Qw(n){return n[Kw]||null}function $R(n,e){return n[Kw]=e}var qI=null;var en=function(n,e,t){qI?.(n,e,t)},HR="svg",zR="math";function on(n){for(;Array.isArray(n);)n=n[An];return n}function qR(n,e){return on(e[n])}function Pt(n,e){return on(e[n.index])}function Jf(n,e){return n.data[e]}function Yw(n,e){return n[e]}function lr(n,e){let t=e[n];return or(t)?t:t[An]}function GR(n){return(n[W]&4)===4}function Xf(n){return(n[W]&128)===128}function WR(n){return Rn(n[nt])}function Qi(n,e){return e==null?null:n[e]}function Zw(n){n[Bi]=0}function Jw(n){n[W]&1024||(n[W]|=1024,Xf(n)&&Tu(n))}function KR(n,e){for(;n>0;)e=e[to],n--;return e}function Du(n){return!!(n[W]&9216||n[xt]?.dirty)}function tf(n){n[rn].changeDetectionScheduler?.notify(8),n[W]&64&&(n[W]|=1024),Du(n)&&Tu(n)}function Tu(n){n[rn].changeDetectionScheduler?.notify(0);let e=$r(n);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Xf(e)));)e=$r(e)}function Xw(n,e){if((n[W]&256)===256)throw new B(911,!1);n[ir]===null&&(n[ir]=[]),n[ir].push(e)}function QR(n,e){if(n[ir]===null)return;let t=n[ir].indexOf(e);t!==-1&&n[ir].splice(t,1)}function $r(n){let e=n[nt];return Rn(e)?e[nt]:e}var se={lFrame:cE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eE=!1;function YR(){return se.lFrame.elementDepthCount}function ZR(){se.lFrame.elementDepthCount++}function JR(){se.lFrame.elementDepthCount--}function tE(){return se.bindingsEnabled}function XR(){return se.skipHydrationRootTNode!==null}function eN(n){return se.skipHydrationRootTNode===n}function tN(){se.skipHydrationRootTNode=null}function me(){return se.lFrame.lView}function kt(){return se.lFrame.tView}function Wr(n){return se.lFrame.contextLView=n,n[et]}function Kr(n){return se.lFrame.contextLView=null,n}function yt(){let n=nE();for(;n!==null&&n.type===64;)n=n.parent;return n}function nE(){return se.lFrame.currentTNode}function nN(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function $s(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function rE(){return se.lFrame.isParent}function rN(){se.lFrame.isParent=!1}function iN(){return se.lFrame.contextLView}function iE(){return eE}function GI(n){eE=n}function ep(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function oN(n){return se.lFrame.bindingIndex=n}function Hs(){return se.lFrame.bindingIndex++}function sN(){return se.lFrame.inI18n}function aN(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,nf(e)}function cN(){return se.lFrame.currentDirectiveIndex}function nf(n){se.lFrame.currentDirectiveIndex=n}function oE(){return se.lFrame.currentQueryIndex}function tp(n){se.lFrame.currentQueryIndex=n}function uN(n){let e=n[Y];return e.type===2?e.declTNode:e.type===1?n[zt]:null}function sE(n,e,t){if(t&ne.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ne.Host);)if(i=uN(o),i===null||(o=o[to],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=aE();return r.currentTNode=e,r.lView=n,!0}function np(n){let e=aE(),t=n[Y];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function aE(){let n=se.lFrame,e=n===null?null:n.child;return e===null?cE(n):e}function cE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function uE(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var lE=uE;function rp(){let n=uE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lN(n){return(se.lFrame.contextLView=KR(n,se.lFrame.contextLView))[et]}function Cu(){return se.lFrame.selectedIndex}function Hr(n){se.lFrame.selectedIndex=n}function dE(){let n=se.lFrame;return Jf(n.tView,n.selectedIndex)}function dN(){return se.lFrame.currentNamespace}var hE=!0;function ip(){return hE}function op(n){hE=n}function hN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ww(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function sp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function qc(n,e,t){fE(n,e,3,t)}function Gc(n,e,t,r){(n[W]&3)===t&&fE(n,e,t,r)}function Fh(n,e){let t=n[W];(t&3)===e&&(t&=16383,t+=1,n[W]=t)}function fE(n,e,t,r){let i=r!==void 0?n[Bi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Bi]+=65536),(c<o||o==-1)&&(fN(n,t,e,u),n[Bi]=(n[Bi]&4294901760)+u+2),u++}function WI(n,e){en(4,n,e);let t=oe(null);try{e.call(n)}finally{oe(t),en(5,n,e)}}function fN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[W]>>14<n[Bi]>>16&&(n[W]&3)===e&&(n[W]+=16384,WI(c,o)):WI(c,o)}var qi=-1,xs=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function pN(n){return n instanceof xs}function gN(n){return(n.flags&8)!==0}function mN(n){return(n.flags&16)!==0}var Vh={},rf=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=_u(r);let i=this.injector.get(e,Vh,r);return i!==Vh||t===Vh?i:this.parentInjector.get(e,t,r)}};function pE(n){return n!==qi}function ru(n){return n&32767}function yN(n){return n>>16}function iu(n,e){let t=yN(n),r=e;for(;t>0;)r=r[to],t--;return r}var of=!0;function ou(n){let e=of;return of=n,e}var vN=256,gE=vN-1,mE=5,_N=0,tn={};function IN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(bs)&&(r=t[bs]),r==null&&(r=t[bs]=_N++);let i=r&gE,o=1<<i;e.data[n+(i>>mE)]|=o}function yE(n,e){let t=vE(n,e);if(t!==-1)return t;let r=e[Y];r.firstCreatePass&&(n.injectorIndex=e.length,Uh(r.data,n),Uh(e,null),Uh(r.blueprint,null));let i=ap(n,e),o=n.injectorIndex;if(pE(i)){let s=ru(i),c=iu(i,e),u=c[Y].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Uh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ap(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=DE(i),r===null)return qi;if(t++,i=i[to],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return qi}function wN(n,e,t){IN(n,e,t)}function EN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Nw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function _E(n,e,t){if(t&ne.Optional||n!==void 0)return n;zf(e,"NodeInjector")}function IE(n,e,t,r){if(t&ne.Optional&&r===void 0&&(r=null),!(t&(ne.Self|ne.Host))){let i=n[Wi],o=pt(void 0);try{return i?i.get(e,r,t&ne.Optional):Tw(e,r,t&ne.Optional)}finally{pt(o)}}return _E(r,e,t)}function wE(n,e,t,r=ne.Default,i){if(n!==null){if(e[W]&2048&&!(r&ne.Self)){let s=bN(n,e,t,r,tn);if(s!==tn)return s}let o=EE(n,e,t,r,tn);if(o!==tn)return o}return IE(e,t,r,i)}function EE(n,e,t,r,i){let o=TN(t);if(typeof o=="function"){if(!sE(e,n,r))return r&ne.Host?_E(i,t,r):IE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))zf(t);else return s}finally{lE()}}else if(typeof o=="number"){let s=null,c=vE(n,e),u=qi,l=r&ne.Host?e[Ht][zt]:null;for((c===-1||r&ne.SkipSelf)&&(u=c===-1?ap(n,e):e[c+8],u===qi||!QI(r,!1)?c=-1:(s=e[Y],c=ru(u),e=iu(u,e)));c!==-1;){let f=e[Y];if(KI(o,c,f.data)){let p=DN(c,e,t,s,r,l);if(p!==tn)return p}u=e[c+8],u!==qi&&QI(r,e[Y].data[c+8]===l)&&KI(o,c,e)?(s=f,c=ru(u),e=iu(u,e)):c=-1}}return i}function DN(n,e,t,r,i,o){let s=e[Y],c=s.data[n+8],u=r==null?Eu(c)&&of:r!=s&&(c.type&3)!==0,l=i&ne.Host&&o===c,f=Wc(c,s,t,u,l);return f!==null?Yi(e,s,f,c):tn}function Wc(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let I=p;I<y;I++){let S=s[I];if(I<u&&t===S||I>=u&&S.type===t)return I}if(i){let I=s[u];if(I&&Bs(I)&&I.type===t)return u}return null}function Yi(n,e,t,r){let i=n[t],o=e.data;if(pN(i)){let s=i;s.resolving&&eR(XA(o[t]));let c=ou(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?pt(s.injectImpl):null,f=sE(n,r,ne.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&hN(t,o[t],e)}finally{l!==null&&pt(l),ou(c),s.resolving=!1,lE()}}return i}function TN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(bs)?n[bs]:void 0;return typeof e=="number"?e>=0?e&gE:CN:e}function KI(n,e,t){let r=1<<n;return!!(t[e+(n>>mE)]&r)}function QI(n,e){return!(n&ne.Self)&&!(n&ne.Host&&e)}var Vr=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return wE(this._tNode,this._lView,e,_u(r),t)}};function CN(){return new Vr(yt(),me())}function cp(n){return Vs(()=>{let e=n.prototype.constructor,t=e[Yc]||sf(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Yc]||sf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sf(n){return vw(n)?()=>{let e=sf(Mt(n));return e&&e()}:Ur(n)}function bN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let c=EE(o,s,t,r|ne.Self,tn);if(c!==tn)return c;let u=o.parent;if(!u){let l=s[Hw];if(l){let f=l.get(t,tn,r);if(f!==tn)return f}u=DE(s),s=s[to]}o=u}return i}function DE(n){let e=n[Y],t=e.type;return t===2?e.declTNode:t===1?n[zt]:null}function up(n){return EN(yt(),n)}function YI(n,e=null,t=null,r){let i=TE(n,e,t,r);return i.resolveInjectorInitializers(),i}function TE(n,e=null,t=null,r,i=new Set){let o=[t||Xt,SR(n)];return r=r||(typeof n=="object"?void 0:Tt(n)),new Rs(o,e||Yf(),r||null,i)}var it=class n{static{this.THROW_IF_NOT_FOUND=Ss}static{this.NULL=new Xc}static create(e,t){if(Array.isArray(e))return YI({name:""},t,e,"");{let r=e.name??"";return YI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=U({token:n,providedIn:"any",factory:()=>K(Sw)})}static{this.__NG_ELEMENT_ID__=-1}};var SN=new $("");SN.__NG_ELEMENT_ID__=n=>{let e=yt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&ne.Optional)return null;throw new B(204,!1)};var AN="ngOriginalError";function jh(n){return n[AN]}var CE=!0,lp=(()=>{class n{static{this.__NG_ELEMENT_ID__=RN}static{this.__NG_ENV_ID__=t=>t}}return n})(),af=class extends lp{constructor(e){super(),this._lView=e}onDestroy(e){return Xw(this._lView,e),()=>QR(this._lView,e)}};function RN(){return new af(me())}var ro=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();var cf=class extends Xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,$w()&&(this.destroyRef=x(lp,{optional:!0})??void 0,this.pendingTasks=x(ro,{optional:!0})??void 0)}emit(e){let t=oe(null);try{super.next(e)}finally{oe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},We=cf;function su(...n){}function bE(n){let e,t;function r(){n=su;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ZI(n){return queueMicrotask(()=>n()),()=>{n=su}}var dp="isAngularZone",au=dp+"_ID",NN=0,ve=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,PN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,MN,su,su);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},MN={};function hp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){bE(()=>{n.callbackScheduled=!1,uf(n),n.isCheckStableRunning=!0,hp(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),uf(n)}function PN(n){let e=()=>{xN(n)},t=NN++;n._inner=n._inner.fork({name:"angular",properties:{[dp]:!0,[au]:t,[au+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(kN(u))return r.invokeTask(o,s,c,u);try{return JI(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),XI(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return JI(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ON(u)&&e(),XI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,uf(n),hp(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function uf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function JI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function XI(n){n._nesting--,hp(n)}var lf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function kN(n){return SE(n,"__ignore_ng_zone__")}function ON(n){return SE(n,"__scheduler_tick__")}function SE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jh(e);for(;t&&jh(t);)t=jh(t);return t||null}},LN=new $("",{providedIn:"root",factory:()=>{let n=x(ve),e=x(Sn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function FN(){return io(yt(),me())}function io(n,e){return new qt(Pt(n,e))}var qt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=FN}}return n})();function VN(n){return n instanceof qt?n.nativeElement:n}function UN(){return this._results[Symbol.iterator]()}var df=class n{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=dR(e);(this._changesDetected=!lR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function AE(n){return(n.flags&128)===128}var RE=new Map,jN=0;function BN(){return jN++}function $N(n){RE.set(n[wu],n)}function hf(n){RE.delete(n[wu])}var ew="__ngContext__";function zr(n,e){or(e)?(n[ew]=e[wu],$N(e)):n[ew]=e}function NE(n){return xE(n[Ms])}function ME(n){return xE(n[$t])}function xE(n){for(;n!==null&&!Rn(n);)n=n[$t];return n}var ff;function PE(n){ff=n}function HN(){if(ff!==void 0)return ff;if(typeof document<"u")return document;throw new B(210,!1)}var fp=new $("",{providedIn:"root",factory:()=>zN}),zN="ng",pp=new $(""),cn=new $("",{providedIn:"platform",factory:()=>"unknown"});var gp=new $("",{providedIn:"root",factory:()=>HN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qN="h",GN="b";var WN=()=>null;function mp(n,e,t=!1){return WN(n,e,t)}var kE=!1,KN=new $("",{providedIn:"root",factory:()=>kE});var $c;function QN(){if($c===void 0&&($c=null,zh.trustedTypes))try{$c=zh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $c}function tw(n){return QN()?.createScriptURL(n)||n}var cu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gw})`}};function bu(n){return n instanceof cu?n.changingThisBreaksApplicationSecurity:n}function yp(n,e){let t=YN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gw})`)}return t===e}function YN(n){return n instanceof cu&&n.getTypeName()||null}var ZN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OE(n){return n=String(n),n.match(ZN)?n:"unsafe:"+n}var Su=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Su||{});function JN(n){let e=FE();return e?e.sanitize(Su.URL,n)||"":yp(n,"URL")?bu(n):OE(vu(n))}function XN(n){let e=FE();if(e)return tw(e.sanitize(Su.RESOURCE_URL,n)||"");if(yp(n,"ResourceURL"))return tw(bu(n));throw new B(904,!1)}function eM(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?XN:JN}function LE(n,e,t){return eM(e,t)(n)}function FE(){let n=me();return n&&n[rn].sanitizer}function VE(n){return n instanceof Function?n():n}function tM(n){return(n??x(it)).get(cn)==="browser"}var dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(dr||{}),nM;function vp(n,e){return nM(n,e)}function $i(n,e,t,r,i){if(r!=null){let o,s=!1;Rn(r)?o=r:or(r)&&(s=!0,r=r[An]);let c=on(r);n===0&&t!==null?i==null?$E(e,t,c):uu(e,t,c,i||null,!0):n===1&&t!==null?uu(e,t,c,i||null,!0):n===2?yM(e,c,s):n===3&&e.destroyNode(c),o!=null&&_M(e,n,o,t,i)}}function rM(n,e){return n.createText(e)}function iM(n,e,t){n.setValue(e,t)}function UE(n,e,t){return n.createElement(e,t)}function oM(n,e){jE(n,e),e[An]=null,e[zt]=null}function sM(n,e,t,r,i,o){r[An]=i,r[zt]=e,Ru(n,r,t,1,i,o)}function jE(n,e){e[rn].changeDetectionScheduler?.notify(9),Ru(n,e,e[rt],2,null,null)}function aM(n){let e=n[Ms];if(!e)return Bh(n[Y],n);for(;e;){let t=null;if(or(e))t=e[Ms];else{let r=e[tt];r&&(t=r)}if(!t){for(;e&&!e[$t]&&e!==n;)or(e)&&Bh(e[Y],e),e=e[nt];e===null&&(e=n),or(e)&&Bh(e[Y],e),t=e&&e[$t]}e=t}}function cM(n,e,t,r){let i=tt+r,o=t.length;r>0&&(t[i-1][$t]=e),r<o-tt?(e[$t]=t[i],bw(t,tt+r,e)):(t.push(e),e[$t]=null),e[nt]=t;let s=e[jr];s!==null&&t!==s&&BE(s,e);let c=e[bn];c!==null&&c.insertView(n),tf(e),e[W]|=128}function BE(n,e){let t=n[Ki],r=e[nt];if(or(r))n[W]|=nu.HasTransplantedViews;else{let i=r[nt][Ht];e[Ht]!==i&&(n[W]|=nu.HasTransplantedViews)}t===null?n[Ki]=[e]:t.push(e)}function _p(n,e){let t=n[Ki],r=t.indexOf(e);t.splice(r,1)}function Ps(n,e){if(n.length<=tt)return;let t=tt+e,r=n[t];if(r){let i=r[jr];i!==null&&i!==n&&_p(i,r),e>0&&(n[t-1][$t]=r[$t]);let o=Jc(n,tt+e);oM(r[Y],r);let s=o[bn];s!==null&&s.detachView(o[Y]),r[nt]=null,r[$t]=null,r[W]&=-129}return r}function Au(n,e){if(!(e[W]&256)){let t=e[rt];t.destroyNode&&Ru(n,e,t,3,null,null),aM(e)}}function Bh(n,e){if(e[W]&256)return;let t=oe(null);try{e[W]&=-129,e[W]|=256,e[xt]&&gh(e[xt]),lM(n,e),uM(n,e),e[Y].type===1&&e[rt].destroy();let r=e[jr];if(r!==null&&Rn(e[nt])){r!==e[nt]&&_p(r,e);let i=e[bn];i!==null&&i.detachView(n)}hf(e)}finally{oe(t)}}function uM(n,e){let t=n.cleanup,r=e[eu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[eu]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function lM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof xs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];en(4,c,u);try{u.call(c)}finally{en(5,c,u)}}else{en(4,i,o);try{o.call(i)}finally{en(5,i,o)}}}}}function dM(n,e,t){return hM(n,e.parent,t)}function hM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===nn.None||o===nn.Emulated)return null}return Pt(r,t)}}function uu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function $E(n,e,t){n.appendChild(e,t)}function nw(n,e,t,r,i){r!==null?uu(n,e,t,r,i):$E(n,e,t)}function HE(n,e){return n.parentNode(e)}function fM(n,e){return n.nextSibling(e)}function pM(n,e,t){return mM(n,e,t)}function gM(n,e,t){return n.type&40?Pt(n,t):null}var mM=gM,rw;function Ip(n,e,t,r){let i=dM(n,r,e),o=e[rt],s=r.parent||e[zt],c=pM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)nw(o,i,t[u],c,!1);else nw(o,i,t,c,!1);rw!==void 0&&rw(o,r,e,t,i)}function Cs(n,e){if(e!==null){let t=e.type;if(t&3)return Pt(e,n);if(t&4)return pf(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Cs(n,r);{let i=n[e.index];return Rn(i)?pf(-1,i):on(i)}}else{if(t&128)return Cs(n,e.next);if(t&32)return vp(e,n)()||on(n[e.index]);{let r=zE(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(n[Ht]);return Cs(i,r)}else return Cs(n,e.next)}}}return null}function zE(n,e){if(e!==null){let r=n[Ht][zt],i=e.projection;return r.projection[i]}return null}function pf(n,e){let t=tt+n+1;if(t<e.length){let r=e[t],i=r[Y].firstChild;if(i!==null)return Cs(r,i)}return e[Br]}function yM(n,e,t){n.removeChild(null,e,t)}function wp(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(s&&e===0&&(c&&zr(on(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)wp(n,e,t.child,r,i,o,!1),$i(e,n,i,c,o);else if(u&32){let l=vp(t,r),f;for(;f=l();)$i(e,n,i,f,o);$i(e,n,i,c,o)}else u&16?vM(n,e,r,t,i,o):$i(e,n,i,c,o);t=s?t.projectionNext:t.next}}function Ru(n,e,t,r,i,o){wp(t,r,n.firstChild,e,i,o,!1)}function vM(n,e,t,r,i,o){let s=t[Ht],u=s[zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];$i(e,n,i,f,o)}else{let l=u,f=s[nt];AE(r)&&(l.flags|=128),wp(n,e,l,f,i,o,!0)}}function _M(n,e,t,r,i){let o=t[Br],s=on(t);o!==s&&$i(e,n,r,o,i);for(let c=tt;c<t.length;c++){let u=t[c];Ru(u[Y],u,n,e,r,o)}}function IM(n,e,t){n.setAttribute(e,"style",t)}function qE(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function GE(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Kh(n,e,r),i!==null&&qE(n,e,i),o!==null&&IM(n,e,o)}var Qr={};function hr(n=1){WE(kt(),me(),Cu()+n,!1)}function WE(n,e,t,r){if(!r)if((e[W]&3)===3){let o=n.preOrderCheckHooks;o!==null&&qc(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Gc(e,o,0,t)}Hr(t)}function _e(n,e=ne.Default){let t=me();if(t===null)return K(n,e);let r=yt();return wE(r,t,Mt(n),e)}function KE(){let n="invalid";throw new Error(n)}function QE(n,e,t,r,i,o){let s=oe(null);try{let c=null;i&sr.SignalBased&&(c=e[r][nI]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&sr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,c,o,t,r):Gw(e,c,r,o)}finally{oe(s)}}function wM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Hr(~i);else{let o=i,s=t[++r],c=t[++r];aN(s,o);let u=e[o];c(2,u)}}}finally{Hr(-1)}}function Nu(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[An]=i,p[W]=r|4|128|8|64,(l!==null||n&&n[W]&2048)&&(p[W]|=2048),Zw(p),p[nt]=p[to]=n,p[et]=t,p[rn]=s||n&&n[rn],p[rt]=c||n&&n[rt],p[Wi]=u||n&&n[Wi]||null,p[zt]=o,p[wu]=BN(),p[Ns]=f,p[Hw]=l,p[Ht]=e.type==2?n[Ht]:p,p}function Mu(n,e,t,r,i){let o=n.data[e];if(o===null)o=EM(n,e,t,r,i),sN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=nN();o.injectorIndex=s===null?-1:s.injectorIndex}return $s(o,!0),o}function EM(n,e,t,r,i){let o=nE(),s=rE(),c=s?o:o&&o.parent,u=n.data[e]=AM(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function YE(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ZE(n,e,t,r,i){let o=Cu(),s=r&2;try{Hr(-1),s&&e.length>gt&&WE(n,e,gt,!1),en(s?2:0,i),t(r,i)}finally{Hr(o),en(s?3:1,i)}}function JE(n,e,t){if(qw(e)){let r=oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{oe(r)}}}function XE(n,e,t){tE()&&(OM(n,e,t,Pt(t,e)),(t.flags&64)===64&&iD(n,e,t))}function eD(n,e,t=Pt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function tD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ep(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ep(n,e,t,r,i,o,s,c,u,l,f){let p=gt+r,y=p+i,I=DM(p,y),S=typeof l=="function"?l():l;return I[Y]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function DM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qr);return t}function TM(n,e,t,r){let o=r.get(KN,kE)||t===nn.ShadowDom,s=n.selectRootElement(e,o);return CM(s),s}function CM(n){bM(n)}var bM=()=>null;function SM(n,e,t,r){let i=aD(e);i.push(t),n.firstCreatePass&&cD(n).push(r,i.length-1)}function AM(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return XR()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function iw(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=sr.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?ow(r,t,l,c,u):ow(r,t,l,c)}return r}function ow(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function RM(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=t?t.get(p):null,I=y?y.inputs:null,S=y?y.outputs:null;u=iw(0,p.inputs,f,u,I),l=iw(1,p.outputs,f,l,S);let N=u!==null&&s!==null&&!Kf(e)?GM(u,f,s):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function NM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function MM(n,e,t,r,i,o,s,c){let u=Pt(e,t),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Dp(n,t,f,r,i),Eu(e)&&xM(t,e.index)):e.type&3?(r=NM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xM(n,e){let t=lr(e,n);t[W]&16||(t[W]|=64)}function nD(n,e,t,r){if(tE()){let i=r===null?null:{"":-1},o=FM(n,t),s,c;o===null?s=c=null:[s,c]=o,s!==null&&rD(n,e,t,s,i,c),i&&VM(t,r,i)}t.mergedAttrs=Wf(t.mergedAttrs,t.attrs)}function rD(n,e,t,r,i,o){for(let l=0;l<r.length;l++)wN(yE(t,e),n,r[l].type);jM(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=YE(n,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];t.mergedAttrs=Wf(t.mergedAttrs,f.hostAttrs),BM(n,t,e,u,f),UM(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}RM(n,t,o)}function PM(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;kM(s)!=c&&s.push(c),s.push(t,r,o)}}function kM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function OM(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Eu(t)&&$M(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||yE(t,e),zr(r,e);let s=t.initialInputs;for(let c=i;c<o;c++){let u=n.data[c],l=Yi(e,n,c,t);if(zr(l,e),s!==null&&qM(e,c-i,l,u,t,s),Bs(u)){let f=lr(t.index,e);f[et]=Yi(e,n,c,t)}}}function iD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=cN();try{Hr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];nf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&LM(u,l)}}finally{Hr(-1),nf(s)}}function LM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function FM(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(vR(e,s.selectors,!1))if(r||(r=[]),Bs(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;gf(n,e,u)}else r.unshift(s),gf(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function gf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function VM(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}}function UM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Bs(e)&&(t[""]=n)}}function jM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function BM(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ur(i.type,!0)),s=new xs(o,Bs(i),_e);n.blueprint[r]=s,t[r]=s,PM(n,e,r,YE(n,t,i.hostVars,Qr),i)}function $M(n,e,t){let r=Pt(e,n),i=tD(t),o=n[rn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let c=xu(n,Nu(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=c}function HM(n,e,t,r,i,o){let s=Pt(n,e);zM(e[rt],s,o,n.value,t,r,i)}function zM(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let c=s==null?vu(o):s(o,r||"",i);n.setAttribute(e,i,c,t)}}function qM(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],p=s[c++];QE(r,t,u,l,f,p)}}function GM(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],t[i+1]);break}}i+=2}return r}function oD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function sD(n,e){let t=n.contentQueries;if(t!==null){let r=oe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];tp(o),c.contentQueries(2,e[s],s)}}}finally{oe(r)}}}function xu(n,e){return n[Ms]?n[zI][$t]=e:n[Ms]=e,n[zI]=e,e}function mf(n,e,t){tp(0);let r=oe(null);try{e(n,t)}finally{oe(r)}}function aD(n){return n[eu]??=[]}function cD(n){return n.cleanup??=[]}function uD(n,e){let t=n[Wi],r=t?t.get(Sn,null):null;r&&r.handleError(e)}function Dp(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],c=t[o++],u=t[o++],l=e[s],f=n.data[s];QE(f,l,r,c,u,i)}}function WM(n,e,t){let r=qR(e,n);iM(n[rt],r,t)}function KM(n,e){let t=lr(e,n),r=t[Y];QM(r,t);let i=t[An];i!==null&&t[Ns]===null&&(t[Ns]=mp(i,t[Wi])),Tp(r,t,t[et])}function QM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Tp(n,e,t){np(e);try{let r=n.viewQuery;r!==null&&mf(1,r,t);let i=n.template;i!==null&&ZE(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[bn]?.finishViewCreation(n),n.staticContentQueries&&sD(n,e),n.staticViewQueries&&mf(2,n.viewQuery,t);let o=n.components;o!==null&&YM(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[W]&=-5,rp()}}function YM(n,e){for(let t=0;t<e.length;t++)KM(n,e[t])}function Pu(n,e,t,r){let i=oe(null);try{let o=e.tView,c=n[W]&4096?4096:16,u=Nu(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[jr]=l;let f=n[bn];return f!==null&&(u[bn]=f.createEmbeddedView(o)),Tp(o,u,t),u}finally{oe(i)}}function lD(n,e){let t=tt+e;if(t<n.length)return n[t]}function ks(n,e){return!e||e.firstChild===null||AE(n)}function ku(n,e,t,r=!0){let i=e[Y];if(cM(i,e,n,t),r){let s=pf(t,n),c=e[rt],u=HE(c,n[Br]);u!==null&&sM(i,n[zt],c,e,u,s)}let o=e[Ns];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dD(n,e){let t=Ps(n,e);return t!==void 0&&Au(t[Y],t),t}function lu(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(on(o)),Rn(o)&&ZM(o,r);let s=t.type;if(s&8)lu(n,e,t.child,r);else if(s&32){let c=vp(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=zE(e,t);if(Array.isArray(c))r.push(...c);else{let u=$r(e[Ht]);lu(u[Y],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function ZM(n,e){for(let t=tt;t<n.length;t++){let r=n[t],i=r[Y].firstChild;i!==null&&lu(r[Y],r,i,e)}n[Br]!==n[An]&&e.push(n[Br])}var hD=[];function JM(n){return n[xt]??XM(n)}function XM(n){let e=hD.pop()??Object.create(tx);return e.lView=n,e}function ex(n){n.lView[xt]!==n&&(n.lView=null,hD.push(n))}var tx=Ce(L({},hh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Tu(n.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function nx(n){let e=n[xt]??Object.create(rx);return e.lView=n,e}var rx=Ce(L({},hh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=$r(n.lView);for(;e&&!fD(e[Y]);)e=$r(e);e&&Jw(e)},consumerOnSignalRead(){this.lView[xt]=this}});function fD(n){return n.type!==2}var ix=100;function pD(n,e=!0,t=0){let r=n[rn],i=r.rendererFactory,o=!1;o||i.begin?.();try{ox(n,t)}catch(s){throw e&&uD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function ox(n,e){let t=iE();try{GI(!0),yf(n,e);let r=0;for(;Du(n);){if(r===ix)throw new B(103,!1);r++,yf(n,1)}}finally{GI(t)}}function sx(n,e,t,r){let i=e[W];if((i&256)===256)return;let o=!1,s=!1;!o&&e[rn].inlineEffectRunner?.flush(),np(e);let c=!0,u=null,l=null;o||(fD(n)?(l=JM(e),u=fh(l)):rI()===null?(c=!1,l=nx(e),u=fh(l)):e[xt]&&(gh(e[xt]),e[xt]=null));try{Zw(e),oN(n.bindingStartIndex),t!==null&&ZE(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let I=n.preOrderCheckHooks;I!==null&&qc(e,I,null)}else{let I=n.preOrderHooks;I!==null&&Gc(e,I,0,null),Fh(e,0)}if(s||ax(e),gD(e,0),n.contentQueries!==null&&sD(n,e),!o)if(f){let I=n.contentCheckHooks;I!==null&&qc(e,I)}else{let I=n.contentHooks;I!==null&&Gc(e,I,1),Fh(e,1)}wM(n,e);let p=n.components;p!==null&&yD(e,p,0);let y=n.viewQuery;if(y!==null&&mf(2,y,r),!o)if(f){let I=n.viewCheckHooks;I!==null&&qc(e,I)}else{let I=n.viewHooks;I!==null&&Gc(e,I,2),Fh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Lh]){for(let I of e[Lh])I();e[Lh]=null}o||(e[W]&=-73)}catch(f){throw o||Tu(e),f}finally{l!==null&&(iI(l,u),c&&ex(l)),rp()}}function gD(n,e){for(let t=NE(n);t!==null;t=ME(t))for(let r=tt;r<t.length;r++){let i=t[r];mD(i,e)}}function ax(n){for(let e=NE(n);e!==null;e=ME(e)){if(!(e[W]&nu.HasTransplantedViews))continue;let t=e[Ki];for(let r=0;r<t.length;r++){let i=t[r];Jw(i)}}}function cx(n,e,t){let r=lr(e,n);mD(r,t)}function mD(n,e){Xf(n)&&yf(n,e)}function yf(n,e){let r=n[Y],i=n[W],o=n[xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ph(o)),s||=!1,o&&(o.dirty=!1),n[W]&=-9217,s)sx(r,n,r.template,n[et]);else if(i&8192){gD(n,1);let c=r.components;c!==null&&yD(n,c,1)}}function yD(n,e,t){for(let r=0;r<e.length;r++)cx(n,e[r],t)}function Cp(n,e){let t=iE()?64:1088;for(n[rn].changeDetectionScheduler?.notify(e);n;){n[W]|=t;let r=$r(n);if(Xh(n)&&!r)return n;n=r}return null}var qr=class{get rootNodes(){let e=this._lView,t=e[Y];return lu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[et]}set context(e){this._lView[et]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Rn(e)){let t=e[tu],r=t?t.indexOf(this):-1;r>-1&&(Ps(e,r),Jc(t,r))}this._attachedToViewContainer=!1}Au(this._lView[Y],this._lView)}onDestroy(e){Xw(this._lView,e)}markForCheck(){Cp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){tf(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,pD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xh(this._lView),t=this._lView[jr];t!==null&&!e&&_p(t,this._lView),jE(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Xh(this._lView),r=this._lView[jr];r!==null&&!t&&BE(r,this._lView),tf(this._lView)}},Os=(()=>{class n{static{this.__NG_ELEMENT_ID__=dx}}return n})(),ux=Os,lx=class extends ux{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Pu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new qr(i)}};function dx(){return bp(yt(),me())}function bp(n,e){return n.type&4?new lx(e,n,io(n,e)):null}var D4=new RegExp(`^(\\d+)*(${GN}|${qN})*(.*)`);var hx=()=>null;function Ls(n,e){return hx(n,e)}var Zi=class{},Ou=new $("",{providedIn:"root",factory:()=>!1});var vD=new $(""),_D=new $(""),vf=class{},du=class{};function fx(n){let e=Error(`No component factory found for ${Tt(n)}.`);return e[px]=n,e}var px="ngComponent";var _f=class{resolveComponentFactory(e){throw fx(e)}},Ji=class{static{this.NULL=new _f}},Xi=class{},Yr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>gx()}}return n})();function gx(){let n=me(),e=yt(),t=lr(e.index,n);return(or(t)?t:n)[rt]}var mx=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>null})}}return n})();function If(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=kI(i,c);else if(o==2){let u=c,l=e[++s];r=kI(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var hu=class extends Ji{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ar(e);return new eo(t,this.ngModule)}};function sw(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:sr.None;e?t.push({propName:s,templateName:r,isSignal:(c&sr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function yx(n){let e=n.toLowerCase();return e==="svg"?HR:e==="math"?zR:null}var eo=class extends du{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=sw(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return sw(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ER(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=oe(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new rf(e,s):e,u=c.get(Xi,null);if(u===null)throw new B(407,!1);let l=c.get(mx,null),f=c.get(Zi,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?TM(y,r,this.componentDef.encapsulation,c):UE(y,I,yx(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;S!==null&&(R=mp(S,c,!0));let O=Ep(0,null,null,1,0,null,null,null,null,null,null),V=Nu(null,O,null,N,null,null,p,y,c,null,R);np(V);let z,ie,Re=null;try{let J=this.componentDef,D,m=null;J.findHostDirectiveDefs?(D=[],m=new Map,J.findHostDirectiveDefs(J,D,m),D.push(J)):D=[J];let v=vx(V,S);Re=_x(v,S,J,D,V,p,y),ie=Jf(O,gt),S&&Ex(y,J,S,r),t!==void 0&&Dx(ie,this.ngContentSelectors,t),z=wx(Re,J,D,m,V,[Tx]),Tp(O,V,null)}catch(J){throw Re!==null&&hf(Re),hf(V),J}finally{rp()}return new wf(this.componentType,z,io(ie,V),V,ie)}finally{oe(o)}}},wf=class extends vf{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new qr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Dp(o[Y],o,i,e,t),this.previousInputValues.set(e,t);let s=lr(this._tNode.index,o);Cp(s,1)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vx(n,e){let t=n[Y],r=gt;return n[r]=e,Mu(t,r,2,"#host",null)}function _x(n,e,t,r,i,o,s){let c=i[Y];Ix(r,n,e,s);let u=null;e!==null&&(u=mp(e,i[Wi]));let l=o.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=Nu(i,tD(t),null,f,i[n.index],n,o,l,null,null,u);return c.firstCreatePass&&gf(c,n,r.length-1),xu(i,p),i[n.index]=p}function Ix(n,e,t,r){for(let i of n)e.mergedAttrs=Wf(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(If(e,e.mergedAttrs,!0),t!==null&&GE(r,t,e))}function wx(n,e,t,r,i,o){let s=yt(),c=i[Y],u=Pt(s,i);rD(c,i,s,t,null,r);for(let f=0;f<t.length;f++){let p=s.directiveStart+f,y=Yi(i,c,p,s);zr(y,i)}iD(c,i,s),u&&zr(u,i);let l=Yi(i,c,s.directiveStart+s.componentOffset,s);if(n[et]=i[et]=l,o!==null)for(let f of o)f(l,e);return JE(c,s,i),l}function Ex(n,e,t,r){if(r)Kh(n,t,["ng-version","18.2.6"]);else{let{attrs:i,classes:o}=DR(e.selectors[0]);i&&Kh(n,t,i),o&&o.length>0&&qE(n,t,o.join(" "))}}function Dx(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Tx(){let n=yt();sp(me()[Y],n)}var oo=(()=>{class n{static{this.__NG_ELEMENT_ID__=Cx}}return n})();function Cx(){let n=yt();return wD(n,me())}var bx=oo,ID=class extends bx{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return io(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ap(this._hostTNode,this._hostLView);if(pE(e)){let t=iu(e,this._hostLView),r=ru(e),i=t[Y].data[r+8];return new Vr(i,t)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=aw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ls(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,ks(this._hostTNode,s)),c}createComponent(e,t,r,i,o){let s=e&&!UR(e),c;if(s)c=t;else{let S=t||{};c=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new eo(ar(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Ct,null);N&&(o=N)}let f=ar(u.componentType??{}),p=Ls(this._lContainer,f?.id??null),y=p?.firstChild??null,I=u.create(l,i,y,o);return this.insertImpl(I.hostView,c,ks(this._hostTNode,p)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(WR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[nt],l=new ID(u,u[zt],u[nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ku(s,i,o,r),e.attachToViewContainerRef(),bw($h(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=aw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ps(this._lContainer,t);r&&(Jc($h(this._lContainer),t),Au(r[Y],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ps(this._lContainer,t);return r&&Jc($h(this._lContainer),t)!=null?new qr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function aw(n){return n[tu]}function $h(n){return n[tu]||(n[tu]=[])}function wD(n,e){let t,r=e[n.index];return Rn(r)?t=r:(t=oD(r,e,null,n),e[n.index]=t,xu(e,t)),Ax(t,e,n,r),new ID(t,n,e)}function Sx(n,e){let t=n[rt],r=t.createComment(""),i=Pt(e,n),o=HE(t,i);return uu(t,o,r,fM(t,i),!1),r}var Ax=Mx,Rx=()=>!1;function Nx(n,e,t){return Rx(n,e,t)}function Mx(n,e,t,r){if(n[Br])return;let i;t.type&8?i=on(r):i=Sx(e,t),n[Br]=i}var Ef=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Df=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Sp(e,t).matches!==null&&this.queries[t].setDirty()}},Tf=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Ux(e):this.predicate=e}},Cf=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},bf=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,xx(t,o)),this.matchTNodeWithReadOption(e,t,Wc(t,e,o,!1,!1))}else r===Os?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===qt||i===oo||i===Os&&t.type&4)this.addMatch(t.index,-2);else{let o=Wc(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function xx(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Px(n,e){return n.type&11?io(n,e):n.type&4?bp(n,e):null}function kx(n,e,t,r){return t===-1?Px(e,n):t===-2?Ox(n,e,r):Yi(n,n[Y],t,e)}function Ox(n,e,t){if(t===qt)return io(e,n);if(t===Os)return bp(e,n);if(t===oo)return wD(e,n)}function ED(n,e,t,r){let i=e[bn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let f=o[l];c.push(kx(e,f,s[u+1],t.metadata.read))}}i.matches=c}return i.matches}function Sf(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=ED(n,e,i,t);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],f=e[-u];for(let p=tt;p<f.length;p++){let y=f[p];y[jr]===y[nt]&&Sf(y[Y],y,l,r)}if(f[Ki]!==null){let p=f[Ki];for(let y=0;y<p.length;y++){let I=p[y];Sf(I[Y],I,l,r)}}}}}return r}function Lx(n,e){return n[bn].queries[e].queryList}function Fx(n,e,t){let r=new df((t&4)===4);return SM(n,e,r,r.destroy),(e[bn]??=new Df).queries.push(new Ef(r))-1}function Vx(n,e,t,r){let i=kt();if(i.firstCreatePass){let o=yt();jx(i,new Tf(e,t,r),o.index),Bx(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return Fx(i,me(),t)}function Ux(n){return n.split(",").map(e=>e.trim())}function jx(n,e,t){n.queries===null&&(n.queries=new Cf),n.queries.track(new bf(e,t))}function Bx(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Sp(n,e){return n.queries.getByIndex(e)}function $x(n,e){let t=n[Y],r=Sp(t,e);return r.crossesNgTemplate?Sf(t,n,e,[]):ED(t,n,r,e)}var cw=new Set;function so(n){cw.has(n)||(cw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Ap(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var cr=class{},Fs=class{};var Af=class extends cr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hu(this);let o=Lw(e);this._bootstrapComponents=VE(o.bootstrap),this._r3Injector=TE(e,t,[{provide:cr,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rf=class extends Fs{constructor(e){super(),this.moduleType=e}create(e){return new Af(this.moduleType,e,[])}};var fu=class extends cr{constructor(e){super(),this.componentFactoryResolver=new hu(this),this.instance=null;let t=new Rs([...e.providers,{provide:cr,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver}],e.parent||Yf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lu(n,e,t=null){return new fu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function DD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function TD(n,e,t){return n[e]=t}function Hx(n,e){return n[e]}function ao(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function zx(n){return(n.flags&32)===32}function qx(n,e,t,r,i,o,s,c,u){let l=e.consts,f=Mu(e,n,4,s||null,c||null);nD(e,t,f,Qi(l,u)),sp(e,f);let p=f.tView=Ep(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Nf(n,e,t,r,i,o,s,c,u,l){let f=t+gt,p=e.firstCreatePass?qx(f,e,n,r,i,o,s,c,u):e.data[f];$s(p,!1);let y=Gx(e,n,p,t);ip()&&Ip(e,n,y,p),zr(y,n);let I=oD(y,n,y,p);return n[f]=I,xu(n,I),Nx(I,p,n),Zf(p)&&XE(e,n,p),u!=null&&eD(n,p,l),p}function Fu(n,e,t,r,i,o,s,c){let u=me(),l=kt(),f=Qi(l.consts,o);return Nf(u,l,n,e,t,r,i,f,s,c),Fu}var Gx=Wx;function Wx(n,e,t,r){return op(!0),e[rt].createComment("")}var Hi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Hi||{}),CD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Mf=class n{constructor(){this.ngZone=x(ve),this.scheduler=x(Zi),this.errorHandler=x(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Hi.EarlyRead,Hi.Write,Hi.MixedReadWrite,Hi.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}},xf=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Rp(n,e){!e?.injector&&VR(Rp);let t=e?.injector??x(it);return tM(t)?(so("NgAfterNextRender"),Qx(n,t,e,!0)):Yx}function Kx(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Qx(n,e,t,r){let i=e.get(CD);i.impl??=e.get(Mf);let o=t?.phase??Hi.MixedReadWrite,s=new xf(i.impl,Kx(n,o),r,e.get(lp));return i.impl.register(s),s}var Yx={destroy(){}};function Np(n,e,t,r){let i=me(),o=Hs();if(ao(i,o,e)){let s=kt(),c=dE();HM(c,i,n,e,t,r)}return Np}function Zx(n,e,t,r){return ao(n,Hs(),t)?e+vu(t)+r:Qr}function Zr(n,e,t){let r=me(),i=Hs();if(ao(r,i,e)){let o=kt(),s=dE();MM(o,s,r,n,e,r[rt],t,!1)}return Zr}function uw(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Dp(n,t,o[s],s,r)}var Pf=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Hh(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Jx(n,e,t){let r,i,o=0,s=n.length-1,c=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=n.at(o),f=e[o],p=Hh(o,l,o,f,t);if(p!==0){p<0&&n.updateValue(o,f),o++;continue}let y=n.at(s),I=e[u],S=Hh(s,y,u,I,t);if(S!==0){S<0&&n.updateValue(s,I),s--,u--;continue}let N=t(o,l),R=t(s,y),O=t(o,f);if(Object.is(O,R)){let V=t(u,I);Object.is(V,N)?(n.swap(o,s),n.updateValue(s,I),u--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new pu,i??=dw(n,o,s,t),kf(n,r,o,O))n.updateValue(o,f),o++,s++;else if(i.has(O))r.set(N,n.detach(o)),s--;else{let V=n.create(o,e[o]);n.attach(o,V),o++,s++}}for(;o<=u;)lw(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=n.at(o),p=l.value,y=Hh(o,f,o,p,t);if(y!==0)y<0&&n.updateValue(o,p),o++,l=u.next();else{r??=new pu,i??=dw(n,o,s,t);let I=t(o,p);if(kf(n,r,o,I))n.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(I))n.attach(o,n.create(o,p)),o++,s++,l=u.next();else{let S=t(o,f);r.set(S,n.detach(o)),s--}}}for(;!l.done;)lw(n,r,t,n.length,l.value),l=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function kf(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function lw(n,e,t,r,i){if(kf(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function dw(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var pu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function bD(n,e){so("NgControlFlow");let t=me(),r=Hs(),i=t[r]!==Qr?t[r]:-1,o=i!==-1?gu(t,gt+i):void 0,s=0;if(ao(t,r,n)){let c=oe(null);try{if(o!==void 0&&dD(o,s),n!==-1){let u=gt+n,l=gu(t,u),f=Vf(t[Y],u),p=Ls(l,f.tView.ssrId),y=Pu(t,f,e,{dehydratedView:p});ku(l,y,s,ks(f,p))}}finally{oe(c)}}else if(o!==void 0){let c=lD(o,s);c!==void 0&&(c[et]=e)}}var Of=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-tt}};function SD(n){return n}var Lf=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function AD(n,e,t,r,i,o,s,c,u,l,f,p,y){so("NgControlFlow");let I=me(),S=kt(),N=u!==void 0,R=me(),O=c?s.bind(R[Ht][et]):s,V=new Lf(N,O);R[gt+n]=V,Nf(I,S,n+1,e,t,r,i,Qi(S.consts,o)),N&&Nf(I,S,n+2,u,l,f,p,Qi(S.consts,y))}var Ff=class extends Pf{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-tt}at(e){return this.getLView(e)[et].$implicit}attach(e,t){let r=t[Ns];this.needsIndexUpdate||=e!==this.length,ku(this.lContainer,t,e,ks(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Xx(this.lContainer,e)}create(e,t){let r=Ls(this.lContainer,this.templateTNode.tView.ssrId),i=Pu(this.hostLView,this.templateTNode,new Of(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Au(e[Y],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[et].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[et].$index=e}getLView(e){return eP(this.lContainer,e)}};function RD(n){let e=oe(null),t=Cu();try{let r=me(),i=r[Y],o=r[t],s=t+1,c=gu(r,s);if(o.liveCollection===void 0){let l=Vf(i,s);o.liveCollection=new Ff(c,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Jx(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Hs(),f=u.length===0;if(ao(r,l,f)){let p=t+2,y=gu(r,p);if(f){let I=Vf(i,p),S=Ls(y,I.tView.ssrId),N=Pu(r,I,void 0,{dehydratedView:S});ku(y,N,0,ks(I,S))}else dD(y,0)}}}finally{oe(e)}}function gu(n,e){return n[e]}function Xx(n,e){return Ps(n,e)}function eP(n,e){return lD(n,e)}function Vf(n,e){return Jf(n,e)}function tP(n,e,t,r,i,o){let s=e.consts,c=Qi(s,i),u=Mu(e,n,2,r,c);return nD(e,t,u,Qi(s,o)),u.attrs!==null&&If(u,u.attrs,!1),u.mergedAttrs!==null&&If(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function he(n,e,t,r){let i=me(),o=kt(),s=gt+n,c=i[rt],u=o.firstCreatePass?tP(s,o,i,e,t,r):o.data[s],l=nP(o,i,u,c,e,n);i[s]=l;let f=Zf(u);return $s(u,!0),GE(c,l,u),!zx(u)&&ip()&&Ip(o,i,l,u),YR()===0&&zr(l,i),ZR(),f&&(XE(o,i,u),JE(o,u,i)),r!==null&&eD(i,u),he}function fe(){let n=yt();rE()?rN():(n=n.parent,$s(n,!1));let e=n;eN(e)&&tN(),JR();let t=kt();return t.firstCreatePass&&(sp(t,n),qw(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&gN(e)&&uw(t,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mN(e)&&uw(t,e,me(),e.stylesWithoutHost,!1),fe}function be(n,e,t,r){return he(n,e,t,r),fe(),be}var nP=(n,e,t,r,i,o)=>(op(!0),UE(r,i,dN()));function Vu(){return me()}var mu="en-US";var rP=mu;function iP(n){typeof n=="string"&&(rP=n.toLowerCase().replace(/_/g,"-"))}var oP=(n,e,t)=>{};function $e(n,e,t,r){let i=me(),o=kt(),s=yt();return aP(o,i,i[rt],s,n,e,r),$e}function sP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[eu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function aP(n,e,t,r,i,o,s){let c=Zf(r),l=n.firstCreatePass&&cD(n),f=e[et],p=aD(e),y=!0;if(r.type&3||s){let N=Pt(r,e),R=s?s(N):N,O=p.length,V=s?ie=>s(on(ie[r.index])):r.index,z=null;if(!s&&c&&(z=sP(n,e,i,r.index)),z!==null){let ie=z.__ngLastListenerFn__||z;ie.__ngNextListenerFn__=o,z.__ngLastListenerFn__=o,y=!1}else{o=fw(r,e,f,o),oP(N,i,o);let ie=t.listen(R,i,o);p.push(o,ie),l&&l.push(i,V,O,O+1)}}else o=fw(r,e,f,o);let I=r.outputs,S;if(y&&I!==null&&(S=I[i])){let N=S.length;if(N)for(let R=0;R<N;R+=2){let O=S[R],V=S[R+1],Re=e[O][V].subscribe(o),J=p.length;p.push(o,Re),l&&l.push(i,r.index,J,-(J+1))}}}function hw(n,e,t,r){let i=oe(null);try{return en(6,e,t),t(r)!==!1}catch(o){return uD(n,o),!1}finally{en(7,e,t),oe(i)}}function fw(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?lr(n.index,e):e;Cp(s,5);let c=hw(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)c=hw(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function Mp(n=1){return lN(n)}function ND(n,e,t,r){Vx(n,e,t,r)}function MD(n){let e=me(),t=kt(),r=oE();tp(r+1);let i=Sp(t,r);if(n.dirty&&GR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=$x(e,r);n.reset(o,VN),n.notifyOnChanges()}return!0}return!1}function xD(){return Lx(me(),oE())}function cP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Uu(n){let e=iN();return Yw(e,gt+n)}function st(n,e=""){let t=me(),r=kt(),i=n+gt,o=r.firstCreatePass?Mu(r,i,1,e,null):r.data[i],s=uP(r,t,o,e,n);t[i]=s,ip()&&Ip(r,t,s,o),$s(o,!1)}var uP=(n,e,t,r,i)=>(op(!0),rM(e[rt],r));function ju(n){return PD("",n,""),ju}function PD(n,e,t){let r=me(),i=Zx(r,n,e,t);return i!==Qr&&WM(r,Cu(),i),PD}var lP=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Uw(!1,t.type),i=r.length>0?Lu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(K(Ct))})}}return n})();function vt(n){so("NgStandalone"),n.getStandaloneInjector=e=>e.get(lP).getOrCreateStandaloneInjector(n)}function Bu(n,e,t){let r=ep()+n,i=me();return i[r]===Qr?TD(i,r,t?e.call(t):e()):Hx(i,r)}function xp(n,e,t,r){return kD(me(),ep(),n,e,t,r)}function dP(n,e){let t=n[e];return t===Qr?void 0:t}function kD(n,e,t,r,i,o){let s=e+t;return ao(n,s,i)?TD(n,s+1,o?r.call(o,i):r(i)):dP(n,s+1)}function OD(n,e){let t=kt(),r,i=n+gt;t.firstCreatePass?(r=hP(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ur(r.type,!0)),s,c=pt(_e);try{let u=ou(!1),l=o();return ou(u),cP(t,me(),i,l),l}finally{pt(c)}}function hP(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function LD(n,e,t){let r=n+gt,i=me(),o=Yw(i,r);return fP(i,r)?kD(i,ep(),e,o.transform,t,o):o.transform(t)}function fP(n,e){return n[Y].data[e].pure}var ur=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},FD=new ur("18.2.6");var $u=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var VD=new $("");function co(n){return!!n&&typeof n.then=="function"}function Pp(n){return!!n&&typeof n.subscribe=="function"}var Hu=new $(""),UD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(Hu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(co(o))t.push(o);else if(Pp(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zu=new $("");function pP(){oI(()=>{throw new B(600,!1)})}function gP(n){return n.isBoundToModule}var mP=10;function yP(n,e,t){try{let r=t();return co(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Jr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(LN),this.afterRenderManager=x(CD),this.zonelessEnabled=x(Ou),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xe,this.afterTick=new Xe,this.componentTypes=[],this.components=[],this.isStable=x(ro).hasPendingTasks.pipe(re(t=>!t)),this._injector=x(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof du;if(!this._injector.get(UD).done){let y=!i&&Ow(t),I=!1;throw new B(405,I)}let s;i?s=t:s=this._injector.get(Ji).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let c=gP(s)?void 0:this._injector.get(cr),u=r||s.selector,l=s.create(it.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(VD,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Kc(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let t=oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,oe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Xi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<mP;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)vP(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Du(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Kc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(zu,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Kc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function vP(n,e,t,r){if(!t&&!Du(n))return;pD(n,e,t&&!r?0:1)}var Uf=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},qu=(()=>{class n{compileModuleSync(t){return new Rf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Lw(t),o=VE(i.declarations).reduce((s,c)=>{let u=ar(c);return u&&s.push(new eo(u)),s},[]);return new Uf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _P=(()=>{class n{constructor(){this.zone=x(ve),this.changeDetectionScheduler=x(Zi),this.applicationRef=x(Jr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IP=new $("",{factory:()=>!1});function jD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ve(Ce(L({},$D()),{scheduleInRootZone:t})),[{provide:ve,useFactory:n},{provide:Gi,multi:!0,useFactory:()=>{let r=x(_P,{optional:!0});return()=>r.initialize()}},{provide:Gi,multi:!0,useFactory:()=>{let r=x(wP);return()=>{r.initialize()}}},e===!0?{provide:vD,useValue:!0}:[],{provide:_D,useValue:t??CE}]}function BD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=jD({ngZoneFactory:()=>{let i=$D(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&so("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return sn([{provide:IP,useValue:!0},{provide:Ou,useValue:!1},r])}function $D(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var wP=(()=>{class n{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=x(ve),this.pendingTasks=x(ro)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var EP=(()=>{class n{constructor(){this.appRef=x(Jr),this.taskService=x(ro),this.ngZone=x(ve),this.zonelessEnabled=x(Ou),this.disableScheduling=x(vD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(au):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(_D,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ZI:bE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(au+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ZI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DP(){return typeof $localize<"u"&&$localize.locale||mu}var kp=new $("",{providedIn:"root",factory:()=>x(kp,ne.Optional|ne.SkipSelf)||DP()});var HD=new $("");function Hc(n){return!!n.platformInjector}function TP(n){let e=Hc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ve);return t.run(()=>{Hc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Hc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(HD);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{Kc(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return yP(r,t,()=>{let o=e.get(UD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(kp,mu);if(iP(s||mu),Hc(n)){let c=e.get(Jr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return CP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function CP(n,e){let t=n.injector.get(Jr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new B(-403,!1);e.push(n)}var Qc=null;function bP(n=[],e){return it.create({name:e,providers:[{provide:Iu,useValue:"platform"},{provide:HD,useValue:new Set([()=>Qc=null])},...n]})}function SP(n=[]){if(Qc)return Qc;let e=bP(n);return Qc=e,pP(),AP(e),e}function AP(n){n.get(pp,null)?.forEach(t=>t())}var Xr=(()=>{class n{static{this.__NG_ELEMENT_ID__=RP}}return n})();function RP(n){return NP(yt(),me(),(n&16)===16)}function NP(n,e,t){if(Eu(n)&&!t){let r=lr(n.index,e);return new qr(r,r)}else if(n.type&175){let r=e[Ht];return new qr(r,e)}return null}var jf=class{constructor(){}supports(e){return e instanceof Map||DD(e)}create(){return new Bf}},Bf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||DD(e)))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new $f(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},$f=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function pw(){return new Op([new jf])}var Op=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:pw})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pw()),deps:[[n,new qf,new ot]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new B(901,!1)}}return n})();function zD(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=SP(r),o=[jD({}),{provide:Zi,useExisting:EP},...t||[]],s=new fu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return TP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var qD=new $("");function zs(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Lp(n){let e=oe(null);try{return n()}finally{oe(e)}}function GD(n){let e=ar(n);if(!e)return null;let t=new eo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YD=null;function uo(){return YD}function ZD(n){YD??=n}var Gu=class{};var ht=new $(""),$p=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>x(MP),providedIn:"platform"})}}return n})(),JD=new $(""),MP=(()=>{class n extends $p{constructor(){super(),this._doc=x(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uo().getBaseHref(this._doc)}onPopState(t){let r=uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Hp(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function WD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Nn(n){return n&&n[0]!=="?"?"?"+n:n}var Mn=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>x(zp),providedIn:"root"})}}return n})(),XD=new $(""),zp=(()=>{class n extends Mn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Hp(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K($p),K(XD,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eT=(()=>{class n extends Mn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Hp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(K($p),K(XD,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),lo=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=kP(WD(KD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nn(r))}normalize(t){return n.stripTrailingSlash(PP(this._basePath,KD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Nn}static{this.joinWithSlash=Hp}static{this.stripTrailingSlash=WD}static{this.\u0275fac=function(r){return new(r||n)(K(Mn))}}static{this.\u0275prov=U({token:n,factory:()=>xP(),providedIn:"root"})}}return n})();function xP(){return new lo(K(Mn))}function PP(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function KD(n){return n.replace(/\/index.html$/,"")}function kP(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function tT(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Fp=/\s+/,QD=[],nT=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=QD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Fp):QD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Fp):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Fp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(_e(qt),_e(Yr))}}static{this.\u0275dir=Gr({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var rT=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:dr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(_e(qt),_e(Op),_e(Yr))}}static{this.\u0275dir=Gr({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function OP(n,e){return new B(2100,!1)}var Vp=class{createSubscription(e,t){return Lp(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Lp(()=>e.unsubscribe())}},Up=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},LP=new Up,FP=new Vp,iT=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(co(t))return LP;if(Pp(t))return FP;throw OP(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(_e(Xr,16))}}static{this.\u0275pipe=xw({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var qs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=js({type:n})}static{this.\u0275inj=Us({})}}return n})(),qp="browser",VP="server";function UP(n){return n===qp}function Gp(n){return n===VP}var oT=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>UP(x(cn))?new jp(x(ht),window):new Bp})}}return n})(),jp=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=jP(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function jP(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Bp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Wu=class{};var Yp=class extends Gu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zp=class n extends Yp{static makeCurrent(){ZD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=BP();return t==null?null:$P(t)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tT(document.cookie,e)}},Gs=null;function BP(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}function $P(n){return new URL(n,document.baseURI).pathname}var HP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Ku=new $(""),uT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(K(Ku),K(ve))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Ws=class{constructor(e){this._doc=e}},Kp="ng-app-id",lT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gp(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Kp}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Kp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Kp,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(K(ht),K(fp),K(gp,8),K(cn))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xp=/%COMP%/g,dT="%COMP%",zP=`_nghost-${dT}`,qP=`_ngcontent-${dT}`,GP=!0,WP=new $("",{providedIn:"root",factory:()=>GP});function KP(n){return qP.replace(Xp,n)}function QP(n){return zP.replace(Xp,n)}function hT(n,e){return e.map(t=>t.replace(Xp,n))}var sT=(()=>{class n{constructor(t,r,i,o,s,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Gp(c),this.defaultRenderer=new Ks(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nn.ShadowDom&&(r=Ce(L({},r),{encapsulation:nn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Qu?i.applyToHost(t):i instanceof Qs&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case nn.Emulated:o=new Qu(u,l,r,this.appId,f,s,c,p);break;case nn.ShadowDom:return new Jp(u,l,t,r,s,c,this.nonce,p);default:o=new Qs(u,l,r,f,s,c,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(K(uT),K(lT),K(fp),K(WP),K(ht),K(cn),K(ve),K(gp))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Ks=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Qp[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Qp[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Qp[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=uo().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function aT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Jp=class extends Ks{constructor(e,t,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=hT(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qs=class extends Ks{constructor(e,t,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?hT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qu=class extends Qs{constructor(e,t,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,t,r,o,s,c,u,l),this.contentAttr=KP(l),this.hostAttr=QP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},YP=(()=>{class n extends Ws{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),ZP=(()=>{class n extends Ws{constructor(t){super(t),this.delegate=x(qD,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),cT=["alt","control","meta","shift"],JP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ek=(()=>{class n extends Ws{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),cT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=JP[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cT.forEach(s=>{if(s!==i){let c=XP[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function fT(n,e){return zD(L({rootComponent:n},tk(e)))}function tk(n){return{appProviders:[...sk,...n?.providers??[]],platformProviders:ok}}function nk(){Zp.makeCurrent()}function rk(){return new Sn}function ik(){return PE(document),document}var ok=[{provide:cn,useValue:qp},{provide:pp,useValue:nk,multi:!0},{provide:ht,useFactory:ik,deps:[]}];var sk=[{provide:Iu,useValue:"root"},{provide:Sn,useFactory:rk,deps:[]},{provide:Ku,useClass:YP,multi:!0,deps:[ht,ve,cn]},{provide:Ku,useClass:ek,multi:!0,deps:[ht]},{provide:Ku,useClass:ZP,multi:!0},sT,lT,uT,{provide:Xi,useExisting:sT},{provide:Wu,useClass:HP,deps:[]},[]];var pT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(K(ht))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var te="primary",la=Symbol("RouteTitle"),ig=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function yo(n){return new ig(n)}function ck(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!un(n[t],e[t]))return!1;return!0}function un(n,e){let t=n?og(n):void 0,r=e?og(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CT(n[i],e[i]))return!1;return!0}function og(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function CT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function bT(n){return n.length>0?n[n.length-1]:null}function gr(n){return Mh(n)?n:co(n)?Ae(Promise.resolve(n)):q(n)}var lk={exact:AT,subset:RT},ST={exact:dk,subset:hk,ignored:()=>!0};function gT(n,e,t){return lk[t.paths](n.root,e.root,t.matrixParams)&&ST[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function dk(n,e){return un(n,e)}function AT(n,e,t){if(!ti(n.segments,e.segments)||!Ju(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!AT(n.children[r],e.children[r],t))return!1;return!0}function hk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CT(n[t],e[t]))}function RT(n,e,t){return NT(n,e,e.segments,t)}function NT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ti(i,t)||e.hasChildren()||!Ju(i,t,r))}else if(n.segments.length===t.length){if(!ti(n.segments,t)||!Ju(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!RT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ti(n.segments,i)||!Ju(n.segments,i,r)||!n.children[te]?!1:NT(n.children[te],e,o,r)}}function Ju(n,e,t){return e.every((r,i)=>ST[t](n[i].parameters,r.parameters))}var Pn=class{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){return gk.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xu(this)}},ei=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=yo(this.parameters),this._parameterMap}toString(){return xT(this)}};function fk(n,e){return ti(n,e)&&n.every((t,r)=>un(t.parameters,e[r].parameters))}function ti(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function pk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var da=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>new vo,providedIn:"root"})}}return n})(),vo=class{parse(e){let t=new ag(e);return new Pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ys(e.root,!0)}`,r=vk(e.queryParams),i=typeof e.fragment=="string"?`#${mk(e.fragment)}`:"";return`${t}${r}${i}`}},gk=new vo;function Xu(n){return n.segments.map(e=>xT(e)).join("/")}function Ys(n,e){if(!n.hasChildren())return Xu(n);if(e){let t=n.children[te]?Ys(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Ys(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=pk(n,(r,i)=>i===te?[Ys(n.children[te],!1)]:[`${i}:${Ys(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${Xu(n)}/${t[0]}`:`${Xu(n)}/(${t.join("//")})`}}function MT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yu(n){return MT(n).replace(/%3B/gi,";")}function mk(n){return encodeURI(n)}function sg(n){return MT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function el(n){return decodeURIComponent(n)}function mT(n){return el(n.replace(/\+/g,"%20"))}function xT(n){return`${sg(n.path)}${yk(n.parameters)}`}function yk(n){return Object.entries(n).map(([e,t])=>`;${sg(e)}=${sg(t)}`).join("")}function vk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yu(t)}=${Yu(i)}`).join("&"):`${Yu(t)}=${Yu(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var _k=/^[^\/()?;#]+/;function eg(n){let e=n.match(_k);return e?e[0]:""}var Ik=/^[^\/()?;=#]+/;function wk(n){let e=n.match(Ik);return e?e[0]:""}var Ek=/^[^=?&#]+/;function Dk(n){let e=n.match(Ek);return e?e[0]:""}var Tk=/^[^&#]+/;function Ck(n){let e=n.match(Tk);return e?e[0]:""}var ag=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new Ie(e,t)),r}parseSegment(){let e=eg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new ei(el(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=wk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=eg(this.remaining);i&&(r=i,this.capture(r))}e[el(t)]=el(r)}parseQueryParam(e){let t=Dk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Ck(this.remaining);s&&(r=s,this.capture(r))}let i=mT(t),o=mT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=eg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function PT(n){return n.segments.length>0?new Ie([],{[te]:n}):n}function kT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=kT(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return bk(t)}function bk(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new Ie(n.segments.concat(e.segments),e.children)}return n}function ni(n){return n instanceof Pn}function Sk(n,e,t=null,r=null){let i=OT(n);return LT(i,e,t,r)}function OT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new Ie(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=PT(r);return e??i}function LT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return tg(i,i,i,t,r);let o=Ak(e);if(o.toRoot())return tg(i,i,new Ie([],{}),t,r);let s=Rk(o,i,n),c=s.processChildren?Xs(s.segmentGroup,s.index,o.commands):VT(s.segmentGroup,s.index,o.commands);return tg(i,s.segmentGroup,c,t,r)}function tl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function na(n){return typeof n=="object"&&n!=null&&n.outlets}function tg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=FT(n,e,t);let c=PT(kT(s));return new Pn(c,o,i)}function FT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=FT(o,e,t)}),new Ie(n.segments,r)}var nl=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&tl(r[0]))throw new B(4003,!1);let i=r.find(na);if(i&&i!==bT(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ak(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new nl(t,e,r)}var po=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Rk(n,e,t){if(n.isAbsolute)return new po(e,!0,0);if(!t)return new po(e,!1,NaN);if(t.parent===null)return new po(t,!0,0);let r=tl(n.commands[0])?0:1,i=t.segments.length-1+r;return Nk(t,i,n.numberOfDoubleDots)}function Nk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new po(r,!1,i-o)}function Mk(n){return na(n[0])?n[0].outlets:{[te]:n}}function VT(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Xs(n,e,t);let r=xk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new Ie(n.segments.slice(r.pathIndex),n.children),Xs(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?cg(n,e,t):r.match?Xs(n,0,i):cg(n,e,t)}function Xs(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=Mk(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=Xs(n.children[te],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function xk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(na(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vT(u,l,s))return o;r+=2}else{if(!vT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cg(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(na(o)){let u=Pk(o.outlets);return new Ie(r,u)}if(i===0&&tl(t[0])){let u=n.segments[e];r.push(new ei(u.path,yT(t[0]))),i++;continue}let s=na(o)?o.outlets[te]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&tl(c)?(r.push(new ei(s,yT(c))),i+=2):(r.push(new ei(s,{})),i++)}return new Ie(r,{})}function Pk(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=cg(new Ie([],{}),0,r))}),e}function yT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function vT(n,e,t){return n==t.path&&un(e,t.parameters)}var ea="imperative",He=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(He||{}),Lt=class{constructor(e,t){this.id=e,this.url=t}},_o=class extends Lt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=He.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends Lt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=He.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(St||{}),rl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(rl||{}),xn=class extends Lt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=He.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fr=class extends Lt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=He.NavigationSkipped}},ra=class extends Lt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=He.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},il=class extends Lt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=He.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ug=class extends Lt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=He.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends Lt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=He.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dg=class extends Lt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends Lt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pg=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gg=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yg=class{constructor(e){this.snapshot=e,this.type=He.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{constructor(e){this.snapshot=e,this.type=He.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ol=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=He.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ia=class{},Io=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kk(n,e){return n.providers&&!n._injector&&(n._injector=Lu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gt(n){return n.outlet||te}function Ok(n,e){let t=n.filter(r=>Gt(r)===e);return t.push(...n.filter(r=>Gt(r)!==e)),t}function ha(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var _g=class{get injector(){return ha(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fa(this.rootInjector),this.attachRef=null}},fa=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _g(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(K(Ct))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ig(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ig(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wg(e,this._root).map(t=>t.value)}};function Ig(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ig(n,t);if(r)return r}return null}function wg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wg(n,t);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function fo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var al=class extends sl{constructor(e,t){super(e),this.snapshot=t,Ng(this,e)}toString(){return this.snapshot.toString()}};function UT(n){let e=Lk(n),t=new Fe([new ei("",{})]),r=new Fe({}),i=new Fe({}),o=new Fe({}),s=new Fe(""),c=new pr(t,r,o,s,i,te,n,e.root);return c.snapshot=e.root,new al(new bt(c,[]),e)}function Lk(n){let e={},t={},r={},i="",o=new go([],e,r,i,t,te,n,null,{});return new ul("",new bt(o,[]))}var pr=class{constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[la]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>yo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>yo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cl(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&BT(i)&&(r.resolve[la]=i.title),r}var go=class{get title(){return this.data?.[la]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ul=class extends sl{constructor(e,t){super(t),this.url=e,Ng(this,t)}toString(){return jT(this._root)}};function Ng(n,e){e.value._routerState=n,e.children.forEach(t=>Ng(n,t))}function jT(n){let e=n.children.length>0?` { ${n.children.map(jT).join(", ")} } `:"";return`${n.value}${e}`}function ng(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),un(e.params,t.params)||n.paramsSubject.next(t.params),uk(e.url,t.url)||n.urlSubject.next(t.url),un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Eg(n,e){let t=un(n.params,e.params)&&fk(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Eg(n.parent,e.parent))}function BT(n){return typeof n.title=="string"||n.title===null}var Mg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=x(fa),this.location=x(oo),this.changeDetector=x(Xr),this.inputBinder=x(fl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Dg(t,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Gr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[no]})}}return n})(),Dg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===pr?this.route:e===fa?this.childContexts:this.parent.get(e,t)}},fl=new $(""),_T=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ds([r.queryParams,r.params,r.data]).pipe(Nt(([o,s,c],u)=>(c=L(L(L({},o),s),c),u===0?q(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=GD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function Fk(n,e,t){let r=oa(n,e._root,t?t._root:void 0);return new al(r,e)}function oa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Vk(n,e,t);return new bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>oa(n,c)),s}}let r=Uk(e.value),i=e.children.map(o=>oa(n,o));return new bt(r,i)}}function Vk(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return oa(n,r,i);return oa(n,r)})}function Uk(n){return new pr(new Fe(n.url),new Fe(n.params),new Fe(n.queryParams),new Fe(n.fragment),new Fe(n.data),n.outlet,n.component,n)}var sa=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},$T="ngNavigationCancelingError";function ll(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HT(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function HT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[$T]=!0,t.cancellationCode=e,t}function jk(n){return zT(n)&&ni(n.url)}function zT(n){return!!n&&n[$T]}var Bk=(n,e,t,r)=>re(i=>(new Tg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Tg=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ng(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=fo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=fo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ng(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),ng(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},dl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},mo=class{constructor(e,t){this.component=e,this.route=t}};function $k(n,e,t){let r=n._root,i=e?e._root:null;return Zs(r,i,t,[r.value])}function Hk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Do(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!_w(n)?n:e.get(n):r}function Zs(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fo(e);return n.children.forEach(s=>{zk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ta(c,t.getContext(s),i)),i}function zk(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=qk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zs(n,e,c?c.children:null,r,i):Zs(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new mo(c.outlet.component,s))}else s&&ta(e,c,i),i.canActivateChecks.push(new dl(r)),o.component?Zs(n,null,c?c.children:null,r,i):Zs(n,null,t,r,i);return i}function qk(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(n.url,e.url)||!un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eg(n,e)||!un(n.queryParams,e.queryParams);case"paramsChange":default:return!Eg(n,e)}}function ta(n,e,t){let r=fo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ta(s,e.children.getContext(o),t):ta(s,null,t):ta(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new mo(e.outlet.component,i)):t.canDeactivateChecks.push(new mo(null,i)):t.canDeactivateChecks.push(new mo(null,i))}function pa(n){return typeof n=="function"}function Gk(n){return typeof n=="boolean"}function Wk(n){return n&&pa(n.canLoad)}function Kk(n){return n&&pa(n.canActivate)}function Qk(n){return n&&pa(n.canActivateChild)}function Yk(n){return n&&pa(n.canDeactivate)}function Zk(n){return n&&pa(n.canMatch)}function qT(n){return n instanceof Tn||n?.name==="EmptyError"}var Zu=Symbol("INITIAL_VALUE");function wo(){return Nt(n=>Ds(n.map(e=>e.pipe(Cn(1),jc(Zu)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===Zu)return Zu;if(t===!1||Jk(t))return t}return!0}),Dt(e=>e!==Zu),Cn(1)))}function Jk(n){return ni(n)||n instanceof sa}function Xk(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(Ce(L({},t),{guardsResult:!0})):eO(s,r,i,n).pipe(ke(c=>c&&Gk(c)?tO(r,o,n,e):q(c)),re(c=>Ce(L({},t),{guardsResult:c})))})}function eO(n,e,t,r){return Ae(n).pipe(ke(i=>sO(i.component,i.route,t,e,r)),Jt(i=>i!==!0,!0))}function tO(n,e,t,r){return Ae(e).pipe(Fr(i=>Vi(rO(i.route.parent,r),nO(i.route,r),oO(n,i.path,t),iO(n,i.route,t))),Jt(i=>i!==!0,!0))}function nO(n,e){return n!==null&&e&&e(new yg(n)),q(!0)}function rO(n,e){return n!==null&&e&&e(new gg(n)),q(!0)}function iO(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>Fc(()=>{let s=ha(e)??t,c=Do(o,s),u=Kk(c)?c.canActivate(e,n):an(s,()=>c(e,n));return gr(u).pipe(Jt())}));return q(i).pipe(wo())}function oO(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Hk(s)).filter(s=>s!==null).map(s=>Fc(()=>{let c=s.guards.map(u=>{let l=ha(s.node)??t,f=Do(u,l),p=Qk(f)?f.canActivateChild(r,n):an(l,()=>f(r,n));return gr(p).pipe(Jt())});return q(c).pipe(wo())}));return q(o).pipe(wo())}function sO(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(c=>{let u=ha(e)??i,l=Do(c,u),f=Yk(l)?l.canDeactivate(n,e,t,r):an(u,()=>l(n,e,t,r));return gr(f).pipe(Jt())});return q(s).pipe(wo())}function aO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let c=Do(s,n),u=Wk(c)?c.canLoad(e,t):an(n,()=>c(e,t));return gr(u)});return q(o).pipe(wo(),GT(r))}function GT(n){return Ec(Ve(e=>{if(typeof e!="boolean")throw ll(n,e)}),re(e=>e===!0))}function cO(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let c=Do(s,n),u=Zk(c)?c.canMatch(e,t):an(n,()=>c(e,t));return gr(u)});return q(o).pipe(wo(),GT(r))}var aa=class{constructor(e){this.segmentGroup=e||null}},ca=class extends Error{constructor(e){super(),this.urlTree=e}};function ho(n){return Fi(new aa(n))}function uO(n){return Fi(new B(4e3,!1))}function lO(n){return Fi(HT(!1,St.GuardRejected))}var Cg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[te])return uO(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let c=t,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:I,data:S,title:N}=i,R=an(o,()=>c({params:I,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:N}));if(R instanceof Pn)throw new ca(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ca(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},bg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dO(n,e,t,r,i){let o=WT(n,e,t);return o.matched?(r=kk(e,r),cO(r,e,t,i).pipe(re(s=>s===!0?o:L({},bg)))):q(o)}function WT(n,e,t){if(e.path==="**")return hO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},bg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ck)(t,n,e);if(!i)return L({},bg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hO(n){return{matched:!0,parameters:n.length>0?bT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function IT(n,e,t,r){return t.length>0&&gO(n,t,r)?{segmentGroup:new Ie(e,pO(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&mO(n,t,r)?{segmentGroup:new Ie(n.segments,fO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function fO(n,e,t,r){let i={};for(let o of t)if(pl(n,e,o)&&!r[Gt(o)]){let s=new Ie([],{});i[Gt(o)]=s}return L(L({},r),i)}function pO(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&Gt(r)!==te){let i=new Ie([],{});t[Gt(r)]=i}return t}function gO(n,e,t){return t.some(r=>pl(n,e,r)&&Gt(r)!==te)}function mO(n,e,t){return t.some(r=>pl(n,e,r))}function pl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function yO(n,e,t){return e.length===0&&!n.children[t]}var Sg=class{};function vO(n,e,t,r,i,o,s="emptyOnly"){return new Ag(n,e,t,r,i,s,o).recognize()}var _O=31,Ag=class{constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Cg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=IT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let i=new bt(r,t),o=new ul("",i),s=Sk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new go([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(re(r=>({children:r,rootSnapshot:t})),tr(r=>{if(r instanceof ca)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof aa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(re(s=>s instanceof bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(Fr(s=>{let c=r.children[s],u=Ok(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Uc((s,c)=>(s.push(...c),s)),nr(null),Ph(),ke(s=>{if(s===null)return ho(r);let c=KT(s);return IO(c),q(c)}))}processSegment(e,t,r,i,o,s,c){return Ae(t).pipe(Fr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(tr(l=>{if(l instanceof aa)return q(null);throw l}))),Jt(u=>!!u),tr(u=>{if(qT(u))return yO(r,i,o)?q(new Sg):ho(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return Gt(r)!==s&&(s===te||!pl(i,o,r))?ho(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ho(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=WT(t,i,o);if(!u)return ho(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_O&&(this.allowRedirects=!1));let I=new go(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,wT(i),Gt(i),i.component??i._loadedComponent??null,i,ET(i)),S=cl(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ke(R=>this.processSegment(e,r,t,R.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=dO(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Nt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:I}=u,S=new go(y,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,wT(r),Gt(r),r.component??r._loadedComponent??null,r,ET(r)),N=cl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:O}=IT(t,y,I,l);if(O.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(re(z=>new bt(S,z)));if(l.length===0&&O.length===0)return q(new bt(S,[]));let V=Gt(r)===o;return this.processSegment(f,l,R,O,V?te:o,!0,S).pipe(re(z=>new bt(S,z instanceof bt?[z]:[])))}))):ho(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):aO(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(Ve(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):lO(t))):q({routes:[],injector:e})}};function IO(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function wO(n){let e=n.value.routeConfig;return e&&e.path===""}function KT(n){let e=[],t=new Set;for(let r of n){if(!wO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=KT(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!t.has(r))}function wT(n){return n.data||{}}function ET(n){return n.resolve||{}}function EO(n,e,t,r,i,o){return ke(s=>vO(n,e,t,r,s.extractedUrl,i,o).pipe(re(({state:c,tree:u})=>Ce(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function DO(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of QT(u))s.add(l);let c=0;return Ae(s).pipe(Fr(u=>o.has(u)?TO(u,r,n,e):(u.data=cl(u,u.parent,n).resolve,q(void 0))),Ve(()=>c++),Ui(1),ke(u=>c===s.size?q(t):Et))})}function QT(n){let e=n.children.map(t=>QT(t)).flat();return[n,...e]}function TO(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!BT(i)&&(o[la]=i.title),CO(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=cl(n,n.parent,t).resolve,null)))}function CO(n,e,t,r){let i=og(n);if(i.length===0)return q({});let o={};return Ae(i).pipe(ke(s=>bO(n[s],e,t,r).pipe(Jt(),Ve(c=>{if(c instanceof sa)throw ll(new vo,c);o[s]=c}))),Ui(1),xh(o),tr(s=>qT(s)?Et:Fi(s)))}function bO(n,e,t,r){let i=ha(e)??r,o=Do(n,i),s=o.resolve?o.resolve(e,t):an(i,()=>o(e,t));return gr(s)}function rg(n){return Nt(e=>{let t=n(e);return t?Ae(t).pipe(re(()=>e)):q(e)})}var YT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[la]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>x(SO),providedIn:"root"})}}return n})(),SO=(()=>{class n extends YT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(K(pT))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ga=new $("",{providedIn:"root",factory:()=>({})}),AO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=mt({type:n,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,i){r&1&&be(0,"router-outlet")},dependencies:[Mg],encapsulation:2})}}return n})();function xg(n){let e=n.children&&n.children.map(xg),t=e?Ce(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=AO),t}var ua=new $(""),Pg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(qu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=gr(t.loadComponent()).pipe(re(ZT),Ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ts(()=>{this.componentLoaders.delete(t)})),i=new Pi(r,()=>new Xe).pipe(xi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=RO(r,this.compiler,t,this.onLoadEndListener).pipe(Ts(()=>{this.childrenLoaders.delete(r)})),s=new Pi(o,()=>new Xe).pipe(xi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function RO(n,e,t,r){return gr(n.loadChildren()).pipe(re(ZT),ke(i=>i instanceof Fs||Array.isArray(i)?q(i):Ae(e.compileModuleAsync(i))),re(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(ua,[],{optional:!0,self:!0}).flat()),{routes:s.map(xg),injector:o}}))}function NO(n){return n&&typeof n=="object"&&"default"in n}function ZT(n){return NO(n)?n.default:n}var kg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>x(MO),providedIn:"root"})}}return n})(),MO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JT=new $(""),XT=new $("");function xO(n,e,t){let r=n.get(XT),i=n.get(ht);return n.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),PO(n))),{onViewTransitionCreated:u}=r;return u&&an(n,()=>u({transition:c,from:e,to:t})),s})}function PO(n){return new Promise(e=>{Rp({read:()=>setTimeout(e)},{injector:n})})}var kO=new $(""),Og=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xe,this.transitionAbortSubject=new Xe,this.configLoader=x(Pg),this.environmentInjector=x(Ct),this.urlSerializer=x(da),this.rootContexts=x(fa),this.location=x(lo),this.inputBindingEnabled=x(fl,{optional:!0})!==null,this.titleStrategy=x(YT),this.options=x(ga,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(kg),this.createViewTransition=x(JT,{optional:!0}),this.navigationErrorHandler=x(kO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let t=i=>this.events.next(new fg(i)),r=i=>this.events.next(new pg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ce(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Fe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ea,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(o=>o.id!==0),re(o=>Ce(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nt(o=>{let s=!1,c=!1;return q(o).pipe(Nt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),Et;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new fr(u.id,this.urlSerializer.serialize(u.rawUrl),p,rl.IgnoredSameUrlNavigation)),u.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(Nt(p=>{let y=this.transitions?.getValue();return this.events.next(new _o(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Et:Promise.resolve(p)}),EO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ce(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new il(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:I,restoredState:S,extras:N}=u,R=new _o(p,this.urlSerializer.serialize(y),I,S);this.events.next(R);let O=UT(this.rootComponentType).snapshot;return this.currentTransition=o=Ce(L({},u),{targetSnapshot:O,urlAfterRedirects:y,extras:Ce(L({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,q(o)}else{let p="";return this.events.next(new fr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,rl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Et}}),Ve(u=>{let l=new ug(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),re(u=>(this.currentTransition=o=Ce(L({},u),{guards:$k(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Xk(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ll(this.urlSerializer,u.guardsResult);let l=new lg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Dt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",St.GuardRejected),!1)),rg(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Ve(l=>{let f=new dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Nt(l=>{let f=!1;return q(l).pipe(DO(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",St.NoDataFromResolver)}}))}),Ve(l=>{let f=new hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),rg(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ve(y=>{f.component=y}),re(()=>{})));for(let y of f.children)p.push(...l(y));return p};return Ds(l(u.targetSnapshot.root)).pipe(nr(null),Cn(1))}),rg(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Ae(f).pipe(re(()=>o)):q(o)}),re(u=>{let l=Fk(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ce(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ve(()=>{this.events.next(new ia)}),Bk(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Cn(1),Ve({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),kh(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),Ts(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(u=>{if(c=!0,zT(u))this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),jk(u)?this.events.next(new Io(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ra(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=an(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof sa){let{message:p,cancellationCode:y}=ll(this.urlSerializer,f);this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,y)),this.events.next(new Io(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Et}))}))}cancelNavigationTransition(t,r,i){let o=new xn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OO(n){return n!==ea}var LO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>x(FO),providedIn:"root"})}}return n})(),Rg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FO=(()=>{class n extends Rg{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=cp(n)))(i||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>x(VO),providedIn:"root"})}}return n})(),VO=(()=>{class n extends eC{constructor(){super(...arguments),this.location=x(lo),this.urlSerializer=x(da),this.options=x(ga,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(kg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=UT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof _o)this.stateMemento=this.createStateMemento();else if(t instanceof fr)this.rawUrlTree=r.initialUrl;else if(t instanceof il){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ia?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof xn&&(t.code===St.GuardRejected||t.code===St.NoDataFromResolver)?this.restoreHistory(r):t instanceof ra?this.restoreHistory(r,!0):t instanceof Wt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Pn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=cp(n)))(i||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Js=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Js||{});function tC(n,e){n.events.pipe(Dt(t=>t instanceof Wt||t instanceof xn||t instanceof ra||t instanceof fr),re(t=>t instanceof Wt||t instanceof fr?Js.COMPLETE:(t instanceof xn?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?Js.REDIRECTING:Js.FAILED),Dt(t=>t!==Js.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function UO(n){throw n}var jO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ln=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x($u),this.stateManager=x(eC),this.options=x(ga,{optional:!0})||{},this.pendingTasks=x(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Og),this.urlSerializer=x(da),this.location=x(lo),this.urlHandlingStrategy=x(kg),this._events=new Xe,this.errorHandler=this.options.errorHandler||UO,this.navigated=!1,this.routeReuseStrategy=x(LO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(ua,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(fl,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wt)this.navigated=!0;else if(r instanceof Io){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OO(i.source)},s);this.scheduleNavigation(c,ea,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(xg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=OT(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return LT(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ni(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ea,null,r)}navigate(t,r={skipLocationChange:!1}){return $O(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},jO):r===!1?i=L({},BO):i=r,ni(t))return gT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return gT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return tC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $O(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}function HO(n){return!(n instanceof ia)&&!(n instanceof Io)}var Eo=(()=>{class n{constructor(t,r,i,o,s,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=c,this.href=null,this.onChanges=new Xe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Wt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ni(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:LE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(_e(ln),_e(pr),up("tabindex"),_e(Yr),_e(qt),_e(Mn))}}static{this.\u0275dir=Gr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&$e("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Np("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zs],replaceUrl:[2,"replaceUrl","replaceUrl",zs],routerLink:"routerLink"},standalone:!0,features:[Ap,no]})}}return n})(),gl=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new We,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Wt&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(er()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ae(t).pipe(er()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=zO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(_e(ln),_e(qt),_e(Yr),_e(Xr),_e(Eo,8))}}static{this.\u0275dir=Gr({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&ND(o,Eo,5),r&2){let s;MD(s=xD())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[no]})}}return n})();function zO(n){return!!n.paths}var hl=class{};var qO=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(t=>t instanceof Wt),Fr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Lu(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ae(i).pipe(er())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let o=i.pipe(ke(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ae([o,s]).pipe(er())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(K(ln),K(qu),K(Ct),K(hl),K(Pg))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nC=new $(""),GO=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fr&&t.code===rl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ol&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ol(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){KE()}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function rC(n,...e){return sn([{provide:ua,multi:!0,useValue:n},[],{provide:pr,useFactory:iC,deps:[ln]},{provide:zu,multi:!0,useFactory:oC},e.map(t=>t.\u0275providers)])}function iC(n){return n.routerState.root}function ma(n,e){return{\u0275kind:n,\u0275providers:e}}function oC(){let n=x(it);return e=>{let t=n.get(Jr);if(e!==t.components[0])return;let r=n.get(ln),i=n.get(sC);n.get(Lg)===1&&r.initialNavigation(),n.get(aC,null,ne.Optional)?.setUpPreloading(),n.get(nC,null,ne.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var sC=new $("",{factory:()=>new Xe}),Lg=new $("",{providedIn:"root",factory:()=>1});function WO(){return ma(2,[{provide:Lg,useValue:0},{provide:Hu,multi:!0,deps:[it],useFactory:e=>{let t=e.get(JD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(ln),o=e.get(sC);tC(i,()=>{r(!0)}),e.get(Og).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}])}function KO(){return ma(3,[{provide:Hu,multi:!0,useFactory:()=>{let e=x(ln);return()=>{e.setUpLocationChangeListener()}}},{provide:Lg,useValue:2}])}var aC=new $("");function QO(n){return ma(0,[{provide:aC,useExisting:qO},{provide:hl,useExisting:n}])}function YO(){return ma(8,[_T,{provide:fl,useExisting:_T}])}function ZO(n){let e=[{provide:JT,useValue:xO},{provide:XT,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return ma(9,e)}var DT=new $("ROUTER_FORROOT_GUARD"),JO=[lo,{provide:da,useClass:vo},ln,fa,{provide:pr,useFactory:iC,deps:[ln]},Pg,[]],ml=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[JO,[],{provide:ua,multi:!0,useValue:t},{provide:DT,useFactory:n1,deps:[[ln,new ot,new qf]]},{provide:ga,useValue:r||{}},r?.useHash?e1():t1(),XO(),r?.preloadingStrategy?QO(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?r1(r):[],r?.bindToComponentInputs?YO().\u0275providers:[],r?.enableViewTransitions?ZO().\u0275providers:[],i1()]}}static forChild(t){return{ngModule:n,providers:[{provide:ua,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(K(DT,8))}}static{this.\u0275mod=js({type:n})}static{this.\u0275inj=Us({})}}return n})();function XO(){return{provide:nC,useFactory:()=>{let n=x(oT),e=x(ve),t=x(ga),r=x(Og),i=x(da);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GO(i,r,n,e,t)}}}function e1(){return{provide:Mn,useClass:eT}}function t1(){return{provide:Mn,useClass:zp}}function n1(n){return"guarded"}function r1(n){return[n.initialNavigation==="disabled"?KO().\u0275providers:[],n.initialNavigation==="enabledBlocking"?WO().\u0275providers:[]]}var TT=new $("");function i1(){return[{provide:TT,useFactory:oC},{provide:zu,multi:!0,useExisting:TT}]}var lC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},o1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,I=l&63;u||(I=64,s||(y=64)),r.push(t[f],t[p],t[y],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):o1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Vg;let y=o<<2|c>>4;if(r.push(y),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Vg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},s1=function(n){let e=lC(n);return dC.encodeByteArray(e,!0)},ya=function(n){return s1(n).replace(/\./g,"")},jg=function(n){try{return dC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var c1=()=>a1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&jg(n[1]);return e&&JSON.parse(e)},vl=()=>{try{return c1()||u1()||l1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Bg=n=>{var e,t;return(t=(e=vl())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hC=n=>{let e=Bg(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$g=()=>{var n;return(n=vl())===null||n===void 0?void 0:n.config},Hg=n=>{var e;return(e=vl())===null||e===void 0?void 0:e[`_${n}`]};var yl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function fC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ya(JSON.stringify(t)),ya(JSON.stringify(s)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function d1(){var n;let e=(n=vl())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){let n=ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _C(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zg(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var h1="FirebaseError",At=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?f1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new At(i,c,r)}};function f1(n,e){return n.replace(p1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var p1=/\{\$([^}]+)}/g;function wC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ri(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(uC(o)&&uC(s)){if(!ri(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uC(n){return n!==null&&typeof n=="object"}function va(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EC(n,e){let t=new Ug(n,e);return t.subscribe.bind(t)}var Ug=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");g1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Fg),i.error===void 0&&(i.error=Fg),i.complete===void 0&&(i.complete=Fg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function g1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fg(){}var VG=4*60*60*1e3;function _t(n){return n&&n._delegate?n._delegate:n}var Ft=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ii="[DEFAULT]";var qg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new yl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y1(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function m1(n){return n===ii?void 0:n}function y1(n){return n.instantiationMode==="EAGER"}var _l=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new qg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var v1=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),_1={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},I1=ae.INFO,w1={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},E1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=w1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mr=class{constructor(e){this.name=e,this._logLevel=I1,this._logHandler=E1,this._userLogHandler=null,v1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var D1=(n,e)=>e.some(t=>n instanceof t),DC,TC;function T1(){return DC||(DC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C1(){return TC||(TC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CC=new WeakMap,Wg=new WeakMap,bC=new WeakMap,Gg=new WeakMap,Qg=new WeakMap;function b1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(dn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&CC.set(t,n)}).catch(()=>{}),Qg.set(e,n),e}function S1(n){if(Wg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Wg.set(n,e)}var Kg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return dn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SC(n){Kg=n(Kg)}function A1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Il(this),e,...t);return bC.set(r,e.sort?e.sort():[e]),dn(r)}:C1().includes(n)?function(...e){return n.apply(Il(this),e),dn(CC.get(this))}:function(...e){return dn(n.apply(Il(this),e))}}function R1(n){return typeof n=="function"?A1(n):(n instanceof IDBTransaction&&S1(n),D1(n,T1())?new Proxy(n,Kg):n)}function dn(n){if(n instanceof IDBRequest)return b1(n);if(Gg.has(n))return Gg.get(n);let e=R1(n);return e!==n&&(Gg.set(n,e),Qg.set(e,n)),e}var Il=n=>Qg.get(n);function RC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dn(s.result),u.oldVersion,u.newVersion,dn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var N1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],Yg=new Map;function AC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=M1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N1.includes(t)))return;let o=function(s,...c){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Yg.set(e,o),o}SC(n=>Ce(L({},n),{get:(e,t,r)=>AC(e,t)||n.get(e,t,r),has:(e,t)=>!!AC(e,t)||n.has(e,t)}));var Jg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(x1(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function x1(n){let e=n.getComponent();return e?.type==="VERSION"}var Xg="@firebase/app",NC="0.10.11";var On=new mr("@firebase/app"),P1="@firebase/app-compat",k1="@firebase/analytics-compat",O1="@firebase/analytics",L1="@firebase/app-check-compat",F1="@firebase/app-check",V1="@firebase/auth",U1="@firebase/auth-compat",j1="@firebase/database",B1="@firebase/database-compat",$1="@firebase/functions",H1="@firebase/functions-compat",z1="@firebase/installations",q1="@firebase/installations-compat",G1="@firebase/messaging",W1="@firebase/messaging-compat",K1="@firebase/performance",Q1="@firebase/performance-compat",Y1="@firebase/remote-config",Z1="@firebase/remote-config-compat",J1="@firebase/storage",X1="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/vertexai-preview",nL="@firebase/firestore-compat",rL="firebase",iL="10.13.2";var em="[DEFAULT]",oL={[Xg]:"fire-core",[P1]:"fire-core-compat",[O1]:"fire-analytics",[k1]:"fire-analytics-compat",[F1]:"fire-app-check",[L1]:"fire-app-check-compat",[V1]:"fire-auth",[U1]:"fire-auth-compat",[j1]:"fire-rtdb",[B1]:"fire-rtdb-compat",[$1]:"fire-fn",[H1]:"fire-fn-compat",[z1]:"fire-iid",[q1]:"fire-iid-compat",[G1]:"fire-fcm",[W1]:"fire-fcm-compat",[K1]:"fire-perf",[Q1]:"fire-perf-compat",[Y1]:"fire-rc",[Z1]:"fire-rc-compat",[J1]:"fire-gcs",[X1]:"fire-gcs-compat",[eL]:"fire-fst",[nL]:"fire-fst-compat",[tL]:"fire-vertex","fire-js":"fire-js",[rL]:"fire-js-all"};var _a=new Map,sL=new Map,tm=new Map;function MC(n,e){try{n.container.addComponent(e)}catch(t){On.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vr(n){let e=n.name;if(tm.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,n);for(let t of _a.values())MC(t,n);for(let t of sL.values())MC(t,n);return!0}function wa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ln(n){return n.settings!==void 0}var aL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new kn("app","Firebase",aL);var nm=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var _r=iL;function om(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(t||(t=$g()),!t)throw yr.create("no-options");let o=_a.get(i);if(o){if(ri(t,o.options)&&ri(r,o.config))return o;throw yr.create("duplicate-app",{appName:i})}let s=new _l(i);for(let u of tm.values())s.addComponent(u);let c=new nm(t,r,s);return _a.set(i,c),c}function To(n=em){let e=_a.get(n);if(!e&&n===em&&$g())return om();if(!e)throw yr.create("no-app",{appName:n});return e}function wl(){return Array.from(_a.values())}function Ue(n,e,t){var r;let i=(r=oL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(c.join(" "));return}vr(new Ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cL="firebase-heartbeat-database",uL=1,Ia="firebase-heartbeat-store",Zg=null;function OC(){return Zg||(Zg=RC(cL,uL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ia)}catch(t){console.warn(t)}}}}).catch(n=>{throw yr.create("idb-open",{originalErrorMessage:n.message})})),Zg}function lL(n){return w(this,null,function*(){try{let t=(yield OC()).transaction(Ia),r=yield t.objectStore(Ia).get(LC(n));return yield t.done,r}catch(e){if(e instanceof At)On.warn(e.message);else{let t=yr.create("idb-get",{originalErrorMessage:e?.message});On.warn(t.message)}}})}function xC(n,e){return w(this,null,function*(){try{let r=(yield OC()).transaction(Ia,"readwrite");yield r.objectStore(Ia).put(e,LC(n)),yield r.done}catch(t){if(t instanceof At)On.warn(t.message);else{let r=yr.create("idb-set",{originalErrorMessage:t?.message});On.warn(r.message)}}})}function LC(n){return`${n.name}!${n.options.appId}`}var dL=1024,hL=30*24*60*60*1e3,rm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new im(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=hL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){On.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=PC(),{heartbeatsToSend:r,unsentEntries:i}=fL(this._heartbeatsCache.heartbeats),o=ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return On.warn(t),""}})}};function PC(){return new Date().toISOString().substring(0,10)}function fL(n,e=dL){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var im=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return zg()?IC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kC(n){return ya(JSON.stringify({version:2,heartbeats:n})).length}function pL(n){vr(new Ft("platform-logger",e=>new Jg(e),"PRIVATE")),vr(new Ft("heartbeat",e=>new rm(e),"PRIVATE")),Ue(Xg,NC,n),Ue(Xg,NC,"esm2017"),Ue("fire-js","")}pL("");var gL="firebase",mL="10.13.2";Ue(gL,mL,"app");var si=new ur("ANGULARFIRE2_VERSION");function Dl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ea=(n,e)=>{let t=e?[e]:wl(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},bo=class{constructor(){return Ea(yL)}},yL="app-check";function Co(){}var El=class{zone;delegate;constructor(e,t=Rh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},sm=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co)),t.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},So=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=t.run(()=>new El(Zone.current,Ah)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(K(ve))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tl(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function vL(n){return Tl().ngZone.runOutsideAngular(()=>n())}function oi(n){return Tl().ngZone.run(()=>n())}function _L(n){return IL(Tl())(n)}function IL(n){return function(t){return t=t.lift(new sm(n.ngZone)),t.pipe(Xn(n.outsideAngular),Jn(n.insideAngular))}}var wL=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),oi(()=>n.apply(void 0,r))},Kt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co))),r[o]=wL(r[o],t));let i=vL(()=>n.apply(this,r));if(!e)if(i instanceof ue){let o=Tl();return i.pipe(Xn(o.outsideAngular),Jn(o.insideAngular))}else return oi(()=>i);return i instanceof ue?i.pipe(_L):i instanceof Promise?oi(()=>new Promise((o,s)=>i.then(c=>oi(()=>o(c)),c=>oi(()=>s(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:oi(()=>i)};var Fn=class{constructor(e){return e}},ai=class{constructor(){return wl()}};function EL(n){return n&&n.length===1?n[0]:new Fn(To())}var am=new $("angularfire2._apps"),DL={provide:Fn,useFactory:EL,deps:[[new ot,am]]},TL={provide:ai,deps:[[new ot,am]]};function CL(n){return(e,t)=>{let r=t.get(cn);Ue("angularfire",si.full,"core"),Ue("angularfire",si.full,"app"),Ue("angular",FD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Fn(i)}}function FC(n,...e){return sn([DL,TL,{provide:am,useFactory:CL(n),multi:!0,deps:[ve,it,So,...e]}])}var VC=Kt(om,!0);function XC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eb=XC,tb=new kn("auth","Firebase",XC());var Nl=new mr("@firebase/auth");function bL(n,...e){Nl.logLevel<=ae.WARN&&Nl.warn(`Auth (${_r}): ${n}`,...e)}function bl(n,...e){Nl.logLevel<=ae.ERROR&&Nl.error(`Auth (${_r}): ${n}`,...e)}function wr(n,...e){throw Sm(n,...e)}function ui(n,...e){return Sm(n,...e)}function nb(n,e,t){let r=Object.assign(Object.assign({},eb()),{[e]:t});return new kn("auth","Firebase",r).create(e,{appName:n.name})}function ci(n){return nb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return tb.create(n,...e)}function Q(n,e,...t){if(!n)throw Sm(e,...t)}function Vn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw bl(e),new Error(e)}function Er(n,e){n||Vn(e)}function dm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SL(){return UC()==="http:"||UC()==="https:"}function UC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function AL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SL()||mC()||"connection"in navigator)?navigator.onLine:!0}function RL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var li=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=pC()||yC()}get(){return AL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Am(n,e){Er(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ml=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var NL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ML=new li(3e4,6e4);function Rm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ro(o,s,c,u){return w(this,arguments,function*(n,e,t,r,i={}){return rb(n,i,()=>w(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=va(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:y},l);return gC()||(I.referrerPolicy="no-referrer"),Ml.fetch()(ib(n,n.config.apiHost,t,p),I)}))})}function rb(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},NL),e);try{let i=new hm(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Cl(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Cl(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Cl(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nb(n,f,l);wr(n,f)}}catch(i){if(i instanceof At)throw i;wr(n,"network-request-failed",{message:String(i)})}})}function xL(o,s,c,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield Ro(n,e,t,r,i);return"mfaPendingCredential"in l&&wr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function ib(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Am(n.config,i):`${n.config.apiScheme}://${i}`}var hm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),ML.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Cl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ui(n,e,r);return i.customData._tokenResponse=t,i}function PL(n,e){return w(this,null,function*(){return Ro(n,"POST","/v1/accounts:delete",e)})}function ob(n,e){return w(this,null,function*(){return Ro(n,"POST","/v1/accounts:lookup",e)})}function Da(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nm(n,e=!1){return w(this,null,function*(){let t=_t(n),r=yield t.getIdToken(e),i=Mm(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Da(cm(i.auth_time)),issuedAtTime:Da(cm(i.iat)),expirationTime:Da(cm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function cm(n){return Number(n)*1e3}function Mm(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return bl("JWT malformed, contained fewer than 3 sections"),null;try{let i=jg(t);return i?JSON.parse(i):(bl("Failed to decode base64 JWT payload"),null)}catch(i){return bl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jC(n){let e=Mm(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ca(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof At&&kL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function kL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var fm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ba=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xl(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ca(n,ob(t,{idToken:r}));Q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sb(o.providerUserInfo):[],c=OL(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ba(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function xm(n){return w(this,null,function*(){let e=_t(n);yield xl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sb(n){return n.map(e=>{var{providerId:t}=e,r=Nh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LL(n,e){return w(this,null,function*(){let t=yield rb(n,{},()=>w(this,null,function*(){let r=va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=ib(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ml.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function FL(n,e){return w(this,null,function*(){return Ro(n,"POST","/v2/accounts:revokeToken",Rm(n,e))})}var Ta=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=jC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield LL(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Vn("not implemented")}};function Ir(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ao=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Nh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ba(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Ca(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Nm(this,e)}reload(){return xm(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield xl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Ln(this.auth.app))return Promise.reject(ci(this.auth));let e=yield this.getIdToken();return yield Ca(this,PL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,V=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:z,emailVerified:ie,isAnonymous:Re,providerData:J,stsTokenManager:D}=t;Q(z&&D,e,"internal-error");let m=Ta.fromJSON(this.name,D);Q(typeof z=="string",e,"internal-error"),Ir(p,e.name),Ir(y,e.name),Q(typeof ie=="boolean",e,"internal-error"),Q(typeof Re=="boolean",e,"internal-error"),Ir(I,e.name),Ir(S,e.name),Ir(N,e.name),Ir(R,e.name),Ir(O,e.name),Ir(V,e.name);let v=new n({uid:z,auth:e,email:y,emailVerified:ie,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:O,lastLoginAt:V});return J&&Array.isArray(J)&&(v.providerData=J.map(E=>Object.assign({},E))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Ta;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xl(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?sb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ta;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ba(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var BC=new Map;function Un(n){Er(n instanceof Function,"Expected a class definition");let e=BC.get(n);return e?(Er(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BC.set(n,e),e)}var VL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),pm=VL;function Sl(n,e,t){return`firebase:${n}:${e}:${t}`}var Pl=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ao._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Un(pm),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Un(pm),s=Sl(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let p=Ao._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function $C(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(fb(e))return"Webos";if(cb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(db(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ab(n=ze()){return/firefox\//i.test(n)}function cb(n=ze()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(n=ze()){return/crios\//i.test(n)}function lb(n=ze()){return/iemobile/i.test(n)}function db(n=ze()){return/android/i.test(n)}function hb(n=ze()){return/blackberry/i.test(n)}function fb(n=ze()){return/webos/i.test(n)}function Pm(n=ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UL(n=ze()){var e;return Pm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jL(){return vC()&&document.documentMode===10}function pb(n=ze()){return Pm(n)||db(n)||fb(n)||hb(n)||/windows phone/i.test(n)||lb(n)}function gb(n,e=[]){let t;switch(n){case"Browser":t=$C(ze());break;case"Worker":t=`${$C(ze())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_r}/${r}`}var gm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function BL(t){return w(this,arguments,function*(n,e={}){return Ro(n,"GET","/v2/passwordPolicy",Rm(n,e))})}var $L=6,mm=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$L,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ym=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kl(this),this.idTokenSubscription=new kl(this),this.beforeStateQueue=new gm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Un(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield ob(this,{idToken:e}),r=yield Ao._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Ln(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield xl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=RL()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Ln(this.app))return Promise.reject(ci(this));let t=e?_t(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Ln(this.app)?Promise.reject(ci(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ln(this.app)?Promise.reject(ci(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Un(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield BL(this),t=new mm(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield FL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Un(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield Pl.create(this,[Un(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&bL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function km(n){return _t(n)}var kl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Om={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HL(n){Om=n}function zL(n){return Om.loadJS(n)}function qL(){return Om.gapiScript}function mb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Lm(n,e){let t=wa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ri(o,e??{}))return i;wr(i,"already-initialized")}return t.initialize({options:e})}function GL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Un);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fm(n,e,t){let r=km(n);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=yb(e),{host:s,port:c}=WL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||KL()}function yb(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WL(n){let e=yb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HC(s)}}}function HC(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function KL(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ol=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,t){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}};function um(n,e){return w(this,null,function*(){return xL(n,"POST","/v1/accounts:signInWithIdp",Rm(n,e))})}var Ll=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vm=class extends Ll{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Sa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield Ao._fromIdTokenResponse(e,r,i),s=zC(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zC(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function zC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var _m=class n extends At{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,o,e,r):o})}function QL(n,e,t=!1){return w(this,null,function*(){let r=yield Ca(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Sa._forOperation(n,"link",r)})}function YL(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(Ln(r.app))return Promise.reject(ci(r));let i="reauthenticate";try{let o=yield Ca(n,vb(r,i,e,n),t);Q(o.idToken,r,"internal-error");let s=Mm(o.idToken);Q(s,r,"internal-error");let{sub:c}=s;return Q(n.uid===c,r,"user-mismatch"),Sa._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),o}})}function ZL(n,e,t=!1){return w(this,null,function*(){if(Ln(n.app))return Promise.reject(ci(n));let r="signIn",i=yield vb(n,r,e),o=yield Sa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Vm(n,e,t,r){return _t(n).onIdTokenChanged(e,t,r)}function Um(n,e,t){return _t(n).beforeAuthStateChanged(e,t)}var Fl="__sak";var Vl=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var JL=1e3,XL=10,eF=(()=>{class n extends Vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);jL()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,XL):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},JL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield Yn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield Yn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield Yn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),_b=eF;var tF=(()=>{class n extends Vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),jm=tF;function nF(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var rF=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>w(this,null,function*(){return f(r.origin,s)})),l=yield nF(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ib(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Im=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=Ib("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hn(){return window}function iF(n){hn().location.href=n}function wb(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}function oF(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sF(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aF(){return wb()?self:null}var Eb="firebaseLocalStorageDb",cF=1,Ul="firebaseLocalStorage",Db="fbase_key",di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Bl(n,e){return n.transaction([Ul],e?"readwrite":"readonly").objectStore(Ul)}function uF(){let n=indexedDB.deleteDatabase(Eb);return new di(n).toPromise()}function wm(){let n=indexedDB.open(Eb,cF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ul,{keyPath:Db})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ul)?e(r):(r.close(),yield uF(),e(yield wm()))}))})}function qC(n,e,t){return w(this,null,function*(){let r=Bl(n,!0).put({[Db]:e,value:t});return new di(r).toPromise()})}function lF(n,e){return w(this,null,function*(){let t=Bl(n,!1).get(e),r=yield new di(t).toPromise();return r===void 0?null:r.value})}function GC(n,e){let t=Bl(n,!0).delete(e);return new di(t).toPromise()}var dF=800,hF=3,fF=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield wm(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>hF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return wb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=rF._getInstance(aF()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield oF(),!this.activeServiceWorker)return;this.sender=new Im(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield wm();return yield qC(t,Fl,"1"),yield GC(t,Fl),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>qC(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>lF(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>GC(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=Bl(o,!1).getAll();return new di(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Tb=fF;var P3=mb("rcb"),k3=new li(3e4,6e4);function pF(n,e){return e?Un(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Aa=class extends Ol{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return um(e,this._buildIdpRequest())}_linkToIdToken(e,t){return um(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return um(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function gF(n){return ZL(n.auth,new Aa(n),n.bypassAuthState)}function mF(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),YL(t,new Aa(n),n.bypassAuthState)}function yF(n){return w(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),QL(t,new Aa(n),n.bypassAuthState)})}var Em=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gF;case"linkViaPopup":case"linkViaRedirect":return yF;case"reauthViaPopup":case"reauthViaRedirect":return mF;default:wr(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var O3=new li(2e3,1e4);var vF="pendingRedirect",Al=new Map,Dm=class n extends Em{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Al.get(this.auth._key());if(!e){try{let r=(yield _F(this.resolver,this.auth))?yield Yn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Al.set(this.auth._key(),e)}return this.bypassAuthState||Al.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Yn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Yn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function _F(n,e){return w(this,null,function*(){let t=EF(e),r=wF(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function IF(n,e){Al.set(n._key(),e)}function wF(n){return Un(n._redirectPersistence)}function EF(n){return Sl(vF,n.config.apiKey,n.name)}function DF(n,e,t=!1){return w(this,null,function*(){if(Ln(n.app))return Promise.reject(ci(n));let r=km(n),i=pF(r,e),s=yield new Dm(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var TF=10*60*1e3,Tm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Cb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TF&&this.cachedEventUids.clear(),this.cachedEventUids.has(WC(e))}saveEventToCache(e){this.cachedEventUids.add(WC(e)),this.lastProcessedEventTime=Date.now()}};function WC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function CF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cb(n);default:return!1}}function bF(t){return w(this,arguments,function*(n,e={}){return Ro(n,"GET","/v1/projects",e)})}var SF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AF=/^https?/;function RF(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield bF(n);for(let t of e)try{if(NF(t))return}catch{}wr(n,"unauthorized-domain")})}function NF(n){let e=dm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!AF.test(t))return!1;if(SF.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var MF=new li(3e4,6e4);function KC(){let n=hn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xF(n){return new Promise((e,t)=>{var r,i,o;function s(){KC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KC(),t(ui(n,"network-request-failed"))},timeout:MF.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hn().gapi)===null||o===void 0)&&o.load)s();else{let c=mb("iframefcb");return hn()[c]=()=>{gapi.load?s():t(ui(n,"network-request-failed"))},zL(`${qL()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Rl=null,e})}var Rl=null;function PF(n){return Rl=Rl||xF(n),Rl}var kF=new li(5e3,15e3),OF="__/auth/iframe",LF="emulator/auth/iframe",FF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UF(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Am(e,LF):`https://${n.config.authDomain}/${OF}`,r={apiKey:e.apiKey,appName:n.name,v:_r},i=VF.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${va(r).slice(1)}`}function jF(n){return w(this,null,function*(){let e=yield PF(n),t=hn().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:UF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FF,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ui(n,"network-request-failed"),c=hn().setTimeout(()=>{o(s)},kF.get());function u(){hn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var BF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$F=500,HF=600,zF="_blank",qF="http://localhost",jl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GF(n,e,t,r=$F,i=HF){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},BF),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ze().toLowerCase();t&&(c=ub(l)?zF:t),ab(l)&&(e=e||qF,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[I,S])=>`${y}${I}=${S},`,"");if(UL(l)&&c!=="_self")return WF(e||"",c),new jl(null);let p=window.open(e||"",c,f);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new jl(p)}function WF(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var KF="__/auth/handler",QF="emulator/auth/handler",YF=encodeURIComponent("fac");function QC(n,e,t,r,i,o){return w(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:_r,eventId:i};if(e instanceof Ll){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof vm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),l=u?`#${YF}=${encodeURIComponent(u)}`:"";return`${ZF(n)}?${va(c).slice(1)}${l}`})}function ZF({config:n}){return n.emulator?Am(n,QF):`https://${n.authDomain}/${KF}`}var lm="webStorageSupport",Cm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jm,this._completeRedirectFn=DF,this._overrideRedirectResult=IF}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Er((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield QC(e,t,r,dm(),i);return GF(e,s,Ib())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield QC(e,t,r,dm(),i);return iF(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Er(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield jF(e),r=new Tm(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lm,{type:lm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[lm];s!==void 0&&t(!!s),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pb()||cb()||Pm()}},bb=Cm;var YC="@firebase/auth",ZC="1.7.9";var bm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XF(n){vr(new Ft("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(n)},l=new ym(r,i,o,u);return GL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Ft("auth-internal",e=>{let t=km(e.getProvider("auth").getImmediate());return(r=>new bm(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(YC,ZC,JF(n)),Ue(YC,ZC,"esm2017")}var eV=5*60,tV=Hg("authIdTokenMaxAge")||eV,JC=null,nV=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tV)return;let i=t?.token;JC!==i&&(JC=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Bm(n=To()){let e=wa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Lm(n,{popupRedirectResolver:bb,persistence:[Tb,_b,jm]}),r=Hg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=nV(o.toString());Um(t,s,()=>s(t.currentUser)),Vm(t,c=>s(c))}}let i=Bg("auth");return i&&Fm(t,`http://${i}`),t}function rV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}HL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ui("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",rV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XF("Browser");var Sb="auth",Ra=class{constructor(e){return e}},Na=class{constructor(){return Ea(Sb)}};var $m=new $("angularfire2.auth-instances");function ZV(n,e){let t=Dl(Sb,n,e);return t&&new Ra(t)}function JV(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ra(r)}}var XV={provide:Na,deps:[[new ot,$m]]},eU={provide:Ra,useFactory:ZV,deps:[[new ot,$m],Fn]};function Ab(n,...e){return Ue("angularfire",si.full,"auth"),sn([eU,XV,{provide:$m,useFactory:JV(n),multi:!0,deps:[ve,it,So,ai,[new ot,bo],...e]}])}var Rb=Kt(Bm,!0);var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mb={};var Dr,Hm;(function(){var n;function e(D,m){function v(){}v.prototype=m.prototype,D.D=m.prototype,D.prototype=new v,D.prototype.constructor=D,D.C=function(E,T,b){for(var _=Array(arguments.length-2),wn=2;wn<arguments.length;wn++)_[wn-2]=arguments[wn];return m.prototype[T].apply(E,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,v){v||(v=0);var E=Array(16);if(typeof m=="string")for(var T=0;16>T;++T)E[T]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(T=0;16>T;++T)E[T]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=D.g[0],v=D.g[1],T=D.g[2];var b=D.g[3],_=m+(b^v&(T^b))+E[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[1]+3905402710&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[3]+3250441966&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(b^v&(T^b))+E[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[5]+1200080426&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[7]+4249261313&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(b^v&(T^b))+E[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[9]+2336552879&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[11]+2304563134&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(b^v&(T^b))+E[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(T^m&(v^T))+E[13]+4254626195&4294967295,b=m+(_<<12&4294967295|_>>>20),_=T+(v^b&(m^v))+E[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(m^T&(b^m))+E[15]+1236535329&4294967295,v=T+(_<<22&4294967295|_>>>10),_=m+(T^b&(v^T))+E[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[6]+3225465664&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[0]+3921069994&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^b&(v^T))+E[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[10]+38016083&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[4]+3889429448&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^b&(v^T))+E[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[14]+3275163606&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[8]+1163531501&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(T^b&(v^T))+E[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(m^v))+E[2]+4243563512&4294967295,b=m+(_<<9&4294967295|_>>>23),_=T+(m^v&(b^m))+E[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(T^b))+E[12]+2368359562&4294967295,v=T+(_<<20&4294967295|_>>>12),_=m+(v^T^b)+E[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[8]+2272392833&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[14]+4259657740&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^b)+E[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[4]+1272893353&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[10]+3200236656&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^b)+E[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[0]+3936430074&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[6]+76029189&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(v^T^b)+E[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^T)+E[12]+3873151461&4294967295,b=m+(_<<11&4294967295|_>>>21),_=T+(b^m^v)+E[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^m)+E[2]+3299628645&4294967295,v=T+(_<<23&4294967295|_>>>9),_=m+(T^(v|~b))+E[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[7]+1126891415&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[5]+4237533241&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~b))+E[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[3]+2399980690&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[1]+2240044497&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~b))+E[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[15]+4264355552&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[13]+1309151649&4294967295,v=T+(_<<21&4294967295|_>>>11),_=m+(T^(v|~b))+E[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~T))+E[11]+3174756917&4294967295,b=m+(_<<10&4294967295|_>>>22),_=T+(m^(b|~v))+E[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+b&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var v=m-this.blockSize,E=this.B,T=this.h,b=0;b<m;){if(T==0)for(;b<=v;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<m;)if(E[T++]=D.charCodeAt(b++),T==this.blockSize){i(this,E),T=0;break}}else for(;b<m;)if(E[T++]=D[b++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var v=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=v&255,v/=256;for(this.u(D),D=Array(16),m=v=0;4>m;++m)for(var E=0;32>E;E+=8)D[v++]=this.g[m]>>>E&255;return D};function o(D,m){var v=c;return Object.prototype.hasOwnProperty.call(v,D)?v[D]:v[D]=m(D)}function s(D,m){this.h=m;for(var v=[],E=!0,T=D.length-1;0<=T;T--){var b=D[T]|0;E&&b==m||(v[T]=b,E=!1)}this.g=v}var c={};function u(D){return-128<=D&&128>D?o(D,function(m){return new s([m|0],0>m?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var m=[],v=1,E=0;D>=v;E++)m[E]=D/v|0,v*=4294967296;return new s(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),E=p,T=0;T<D.length;T+=8){var b=Math.min(8,D.length-T),_=parseInt(D.substring(T,T+b),m);8>b?(b=l(Math.pow(m,b)),E=E.j(b).add(l(_))):(E=E.j(v),E=E.add(l(_)))}return E}var p=u(0),y=u(1),I=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var D=0,m=1,v=0;v<this.g.length;v++){var E=this.i(v);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var m=l(Math.pow(D,6)),v=this,E="";;){var T=ie(v,m).g;v=O(v,T.j(m));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(D);if(v=T,S(v))return b+E;for(;6>b.length;)b="0"+b;E=b+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}n.l=function(D){return D=O(this,D),N(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,v=[],E=0;E<m;E++)v[E]=~D.g[E];return new s(v,~D.h).add(y)}n.abs=function(){return N(this)?R(this):this},n.add=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0,T=0;T<=m;T++){var b=E+(this.i(T)&65535)+(D.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);E=_>>>16,b&=65535,_&=65535,v[T]=_<<16|b}return new s(v,v[v.length-1]&-2147483648?-1:0)};function O(D,m){return D.add(R(m))}n.j=function(D){if(S(this)||S(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,v=[],E=0;E<2*m;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<D.g.length;T++){var b=this.i(E)>>>16,_=this.i(E)&65535,wn=D.i(T)>>>16,ns=D.i(T)&65535;v[2*E+2*T]+=_*ns,V(v,2*E+2*T),v[2*E+2*T+1]+=b*ns,V(v,2*E+2*T+1),v[2*E+2*T+1]+=_*wn,V(v,2*E+2*T+1),v[2*E+2*T+2]+=b*wn,V(v,2*E+2*T+2)}for(E=0;E<m;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=m;E<2*m;E++)v[E]=0;return new s(v,0)};function V(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function z(D,m){this.g=D,this.h=m}function ie(D,m){if(S(m))throw Error("division by zero");if(S(D))return new z(p,p);if(N(D))return m=ie(R(D),m),new z(R(m.g),R(m.h));if(N(m))return m=ie(D,R(m)),new z(R(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=m;0>=E.l(D);)v=Re(v),E=Re(E);var T=J(v,1),b=J(E,1);for(E=J(E,2),v=J(v,2);!S(E);){var _=b.add(E);0>=_.l(D)&&(T=T.add(v),b=_),E=J(E,1),v=J(v,1)}return m=O(D,T.j(m)),new z(T,m)}for(T=p;0<=D.l(m);){for(v=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),b=l(v),_=b.j(m);N(_)||0<_.l(D);)v-=E,b=l(v),_=b.j(m);S(b)&&(b=y),T=T.add(b),D=O(D,_)}return new z(T,D)}n.A=function(D){return ie(this,D).h},n.and=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)&D.i(E);return new s(v,this.h&D.h)},n.or=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)|D.i(E);return new s(v,this.h|D.h)},n.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),v=[],E=0;E<m;E++)v[E]=this.i(E)^D.i(E);return new s(v,this.h^D.h)};function Re(D){for(var m=D.g.length+1,v=[],E=0;E<m;E++)v[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(v,D.h)}function J(D,m){var v=m>>5;m%=32;for(var E=D.g.length-v,T=[],b=0;b<E;b++)T[b]=0<m?D.i(b+v)>>>m|D.i(b+v+1)<<32-m:D.i(b+v);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hm=Mb.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Dr=Mb.Integer=s}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jn={};var zm,qm,No,Gm,Ma,Hl,Wm,Km,Qm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof $l=="object"&&$l];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in h))break e;h=h[C]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,C={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,C,A){for(var k=Array(arguments.length-2),we=2;we<arguments.length;we++)k[we-2]=arguments[we];return d.prototype[C].apply(g,k)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let C=a.length||0,A=g.length||0;a.length=C+A;for(let k=0;k<A;k++)a[C+k]=g[k]}else a.push(g)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(a){return/^[\s\xa0]*$/.test(a)}function z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ie(a){return ie[" "](a),a}ie[" "]=function(){};var Re=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(h in g)a[h]=g[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Ud;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class wn{constructor(){this.h=this.g=null}add(d,h){let g=ns.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var ns=new O(()=>new xS,a=>a.reset());class xS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let rs,is=!1,Ud=new wn,Xv=()=>{let a=c.Promise.resolve(void 0);rs=()=>{a.then(PS)}};var PS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=ns;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}is=!1};function Gn(){this.s=this.s,this.C=this.C}Gn.prototype.s=!1,Gn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var kS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function os(a,d){if(Qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Re){e:{try{ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:OS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&os.aa.h.call(this)}}S(os,Qe);var OS={2:"touch",3:"pen",4:"mouse"};os.prototype.h=function(){os.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ss="closure_listenable_"+(1e6*Math.random()|0),LS=0;function FS(a,d,h,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=C,this.key=++LS,this.da=this.fa=!1}function tc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function nc(a){this.src=a,this.g={},this.h=0}nc.prototype.add=function(a,d,h,g,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var k=Bd(a,d,g,C);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new FS(d,this.src,A,!!g,C),d.fa=h,a.push(d)),d};function jd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(tc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Bd(a,d,h,g){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return C}return-1}var $d="closure_lm_"+(1e6*Math.random()|0),Hd={};function e_(a,d,h,g,C){if(g&&g.once)return n_(a,d,h,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)e_(a,d[A],h,g,C);return null}return h=Wd(h),a&&a[ss]?a.K(d,h,l(g)?!!g.capture:!!g,C):t_(a,d,h,!1,g,C)}function t_(a,d,h,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,we=qd(a);if(we||(a[$d]=we=new nc(a)),h=we.add(d,h,g,k,A),h.proxy)return h;if(g=VS(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)kS||(C=k),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(i_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function VS(){function a(h){return d.call(a.src,a.listener,h)}let d=US;return a}function n_(a,d,h,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)n_(a,d[A],h,g,C);return null}return h=Wd(h),a&&a[ss]?a.L(d,h,l(g)?!!g.capture:!!g,C):t_(a,d,h,!0,g,C)}function r_(a,d,h,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)r_(a,d[A],h,g,C);else g=l(g)?!!g.capture:!!g,h=Wd(h),a&&a[ss]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Bd(A,h,g,C),-1<h&&(tc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=qd(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Bd(d,h,g,C)),(h=-1<a?d[a]:null)&&zd(h))}function zd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ss])jd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(i_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=qd(d))?(jd(h,a),h.h==0&&(h.src=null,d[$d]=null)):tc(a)}}}function i_(a){return a in Hd?Hd[a]:Hd[a]="on"+a}function US(a,d){if(a.da)a=!0;else{d=new os(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&zd(a),a=h.call(g,d)}return a}function qd(a){return a=a[$d],a instanceof nc?a:null}var Gd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wd(a){return typeof a=="function"?a:(a[Gd]||(a[Gd]=function(d){return a.handleEvent(d)}),a[Gd])}function Ye(){Gn.call(this),this.i=new nc(this),this.M=this,this.F=null}S(Ye,Gn),Ye.prototype[ss]=!0,Ye.prototype.removeEventListener=function(a,d,h,g){r_(this,a,d,h,g)};function lt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Qe(d,a);else if(d instanceof Qe)d.target=d.target||a;else{var C=d;d=new Qe(g,a),E(d,C)}if(C=!0,h)for(var A=h.length-1;0<=A;A--){var k=d.g=h[A];C=rc(k,g,!0,d)&&C}if(k=d.g=a,C=rc(k,g,!0,d)&&C,C=rc(k,g,!1,d)&&C,h)for(A=0;A<h.length;A++)k=d.g=h[A],C=rc(k,g,!1,d)&&C}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)tc(h[g]);delete a.g[d],a.h--}}this.F=null},Ye.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ye.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function rc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==h){var we=k.listener,Ge=k.ha||k.src;k.fa&&jd(a.i,k),C=we.call(Ge,g)!==!1&&C}}return C&&!g.defaultPrevented}function o_(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function s_(a){a.g=o_(()=>{a.g=null,a.i&&(a.i=!1,s_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class jS extends Gn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:s_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(a){Gn.call(this),this.h=a,this.g={}}S(as,Gn);var a_=[];function c_(a){J(a.g,function(d,h){this.g.hasOwnProperty(h)&&zd(d)},a),a.g={}}as.prototype.N=function(){as.aa.N.call(this),c_(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kd=c.JSON.stringify,BS=c.JSON.parse,$S=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Qd(){}Qd.prototype.h=null;function u_(a){return a.h||(a.h=a.i())}function l_(){}var cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yd(){Qe.call(this,"d")}S(Yd,Qe);function Zd(){Qe.call(this,"c")}S(Zd,Qe);var Rr={},d_=null;function ic(){return d_=d_||new Ye}Rr.La="serverreachability";function h_(a){Qe.call(this,Rr.La,a)}S(h_,Qe);function us(a){let d=ic();lt(d,new h_(d))}Rr.STAT_EVENT="statevent";function f_(a,d){Qe.call(this,Rr.STAT_EVENT,a),this.stat=d}S(f_,Qe);function dt(a){let d=ic();lt(d,new f_(d,a))}Rr.Ma="timingevent";function p_(a,d){Qe.call(this,Rr.Ma,a),this.size=d}S(p_,Qe);function ls(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ds(){this.g=!0}ds.prototype.xa=function(){this.g=!1};function HS(a,d,h,g,C,A){a.info(function(){if(a.g)if(A)for(var k="",we=A.split("&"),Ge=0;Ge<we.length;Ge++){var ge=we[Ge].split("=");if(1<ge.length){var Ze=ge[0];ge=ge[1];var Je=Ze.split("_");k=2<=Je.length&&Je[1]=="type"?k+(Ze+"="+ge+"&"):k+(Ze+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+h+`
`+k})}function zS(a,d,h,g,C,A,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+h+`
`+A+" "+k})}function Di(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+GS(a,h)+(g?" "+g:"")})}function qS(a,d){a.info(function(){return"TIMEOUT: "+d})}ds.prototype.info=function(){};function GS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Kd(h)}catch{return d}}var oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jd;function sc(){}S(sc,Qd),sc.prototype.g=function(){return new XMLHttpRequest},sc.prototype.i=function(){return{}},Jd=new sc;function Wn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m_}function m_(){this.i=null,this.g="",this.h=!1}var y_={},Xd={};function eh(a,d,h){a.L=1,a.v=lc(En(d)),a.m=h,a.P=!0,v_(a,null)}function v_(a,d){a.F=Date.now(),ac(a),a.A=En(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),x_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new m_,a.g=Y_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new jS(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(a_[0]=C.toString()),C=a_);for(var A=0;A<C.length;A++){var k=e_(h,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),us(),HS(a.i,a.u,a.A,a.l,a.R,a.m)}Wn.prototype.ca=function(a){a=a.target;let d=this.M;d&&Dn(a)==3?d.j():this.Y(a)},Wn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=Dn(this.g);var d=this.g.Ba();let bi=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||U_(this.g)))){this.J||Je!=4||d==7||(d==8||0>=bi?us(3):us(2)),th(this);var h=this.g.Z();this.X=h;t:if(__(this)){var g=U_(this.g);a="";var C=g.length,A=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),hs(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,zS(this.i,this.u,this.A,this.l,this.R,Je,h),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ge=this.g;if((we=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(we)){var ge=we;break t}}ge=null}if(h=ge)Di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nh(this,h);else{this.o=!1,this.s=3,dt(12),Nr(this),hs(this);break e}}if(this.P){h=!0;let Ut;for(;!this.J&&this.C<k.length;)if(Ut=WS(this,k),Ut==Xd){Je==4&&(this.s=4,dt(14),h=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==y_){this.s=4,dt(15),Di(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Di(this.i,this.l,Ut,null),nh(this,Ut);if(__(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||k.length!=0||this.h.h||(this.s=1,dt(16),h=!1),this.o=this.o&&h,!h)Di(this.i,this.l,k,"[Invalid Chunked Response]"),Nr(this),hs(this);else if(0<k.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),ch(Ze),Ze.M=!0,dt(11))}}else Di(this.i,this.l,k,null),nh(this,k);Je==4&&Nr(this),this.o&&!this.J&&(Je==4?G_(this.j,this):(this.o=!1,ac(this)))}else lA(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Nr(this),hs(this)}}}catch{}finally{}};function __(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function WS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Xd:(h=Number(d.substring(h,g)),isNaN(h)?y_:(g+=1,g+h>d.length?Xd:(d=d.slice(g,g+h),a.C=g+h,d)))}Wn.prototype.cancel=function(){this.J=!0,Nr(this)};function ac(a){a.S=Date.now()+a.I,I_(a,a.I)}function I_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ls(y(a.ba,a),d)}function th(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Wn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(qS(this.i,this.A),this.L!=2&&(us(),dt(17)),Nr(this),this.s=2,hs(this)):I_(this,this.S-a)};function hs(a){a.j.G==0||a.J||G_(a.j,a)}function Nr(a){th(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,c_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function nh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||rh(h.h,a))){if(!a.K&&rh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)gc(h),fc(h);else break e;ah(h),dt(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=ls(y(h.Za,h),6e3));if(1>=D_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else xr(h,11)}else if((a.K||h.g==a)&&gc(h),!V(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let Ze=ge[3];Ze!=null&&(h.la=Ze,h.j.info("VER="+h.la));let Je=ge[4];Je!=null&&(h.Aa=Je,h.j.info("SVER="+h.Aa));let bi=ge[5];bi!=null&&typeof bi=="number"&&0<bi&&(g=1.5*bi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ut=a.g;if(Ut){let yc=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yc){var A=g.h;A.g||yc.indexOf("spdy")==-1&&yc.indexOf("quic")==-1&&yc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(ih(A,A.h),A.h=null))}if(g.D){let uh=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;uh&&(g.ya=uh,Te(g.I,g.D,uh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=Q_(g,g.J?g.ia:null,g.W),k.K){T_(g.h,k);var we=k,Ge=g.L;Ge&&(we.I=Ge),we.B&&(th(we),ac(we)),g.g=k}else z_(g);0<h.i.length&&pc(h)}else ge[0]!="stop"&&ge[0]!="close"||xr(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?xr(h,7):sh(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}us(4)}catch{}}var KS=class{constructor(a,d){this.g=a,this.map=d}};function w_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function D_(a){return a.h?1:a.g?a.g.size:0}function rh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ih(a,d){a.g?a.g.add(d):a.h=d}function T_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}w_.prototype.cancel=function(){if(this.i=C_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function C_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function QS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function YS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function b_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=YS(a),g=QS(a),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],h&&h[A],a)}var S_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),C=null;if(0<=g){var A=a[h].substring(0,g);C=a[h].substring(g+1)}else A=a[h];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Mr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Mr){this.h=a.h,cc(this,a.j),this.o=a.o,this.g=a.g,uc(this,a.s),this.l=a.l;var d=a.i,h=new gs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),A_(this,h),this.m=a.m}else a&&(d=String(a).match(S_))?(this.h=!1,cc(this,d[1]||"",!0),this.o=fs(d[2]||""),this.g=fs(d[3]||"",!0),uc(this,d[4]),this.l=fs(d[5]||"",!0),A_(this,d[6]||"",!0),this.m=fs(d[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}Mr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ps(d,R_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ps(d,R_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ps(h,h.charAt(0)=="/"?eA:XS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ps(h,nA)),a.join("")};function En(a){return new Mr(a)}function cc(a,d,h){a.j=h?fs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function uc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function A_(a,d,h){d instanceof gs?(a.i=d,rA(a.i,a.h)):(h||(d=ps(d,tA)),a.i=new gs(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function lc(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function fs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ps(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,JS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function JS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var R_=/[#\/\?@]/g,XS=/[#\?:]/g,eA=/[#\?]/g,tA=/[#\?@]/g,nA=/#/g;function gs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Kn(a){a.g||(a.g=new Map,a.h=0,a.i&&ZS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=gs.prototype,n.add=function(a,d){Kn(this),this.i=null,a=Ti(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function N_(a,d){Kn(a),d=Ti(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function M_(a,d){return Kn(a),d=Ti(a,d),a.g.has(d)}n.forEach=function(a,d){Kn(this),this.g.forEach(function(h,g){h.forEach(function(C){a.call(d,C,g,this)},this)},this)},n.na=function(){Kn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let C=a[g];for(let A=0;A<C.length;A++)h.push(d[g])}return h},n.V=function(a){Kn(this);let d=[];if(typeof a=="string")M_(this,a)&&(d=d.concat(this.g.get(Ti(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Kn(this),this.i=null,a=Ti(this,a),M_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function x_(a,d,h){N_(a,d),0<h.length&&(a.i=null,a.g.set(Ti(a,d),N(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),a.push(C)}}return this.i=a.join("&")};function Ti(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function rA(a,d){d&&!a.j&&(Kn(a),a.i=null,a.g.forEach(function(h,g){var C=g.toLowerCase();g!=C&&(N_(this,g),x_(this,C,h))},a)),a.j=d}function iA(a,d){let h=new ds;if(c.Image){let g=new Image;g.onload=I(Qn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Qn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(Qn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Qn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function oA(a,d){let h=new ds,g=new AbortController,C=setTimeout(()=>{g.abort(),Qn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Qn(h,"TestPingServer: ok",!0,d):Qn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Qn(h,"TestPingServer: error",!1,d)})}function Qn(a,d,h,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(h)}catch{}}function sA(){this.g=new $S}function aA(a,d,h){let g=h||"";try{b_(a,function(C,A){let k=C;l(C)&&(k=Kd(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ms(a){this.l=a.Ub||null,this.j=a.eb||!1}S(ms,Qd),ms.prototype.g=function(){return new dc(this.l,this.j)},ms.prototype.i=function(a){return function(){return a}}({});function dc(a,d){Ye.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(dc,Ye),n=dc.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,vs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function P_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ys(this):vs(this),this.readyState==3&&P_(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ys(this))},n.Qa=function(a){this.g&&(this.response=a,ys(this))},n.ga=function(){this.g&&ys(this)};function ys(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function vs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function k_(a){let d="";return J(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function oh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=k_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Ne(a){Ye.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ne,Ye);var cA=/^https?$/i,uA=["POST","PUT"];n=Ne.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jd.g(),this.v=this.o?u_(this.o):u_(Jd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){O_(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)h.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uA,d,void 0))||g||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of h)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{V_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){O_(this,A)}};function O_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,L_(a),hc(a)}function L_(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),hc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hc(this,!0)),Ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?F_(this):this.bb())},n.bb=function(){F_(this)};function F_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Dn(a)!=4||a.Z()!=2)){if(a.u&&Dn(a)==4)o_(a.Ea,0,a);else if(lt(a,"readystatechange"),Dn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var C=String(a.D).match(S_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!cA.test(C?C.toLowerCase():"")}h=g}if(h)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var A=2<Dn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",L_(a)}}finally{hc(a)}}}}function hc(a,d){if(a.g){V_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||lt(a,"ready");try{h.onreadystatechange=g}catch{}}}function V_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Dn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),BS(d)}};function U_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lA(a){let d={};a=(a.g&&2<=Dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(V(a[g]))continue;var h=T(a[g]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[C]||[];d[C]=A,A.push(h)}D(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function j_(a){this.Aa=0,this.i=[],this.j=new ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,a),this.cb=_s("retryDelaySeedMs",1e4,a),this.Wa=_s("forwardChannelMaxRetries",2,a),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new w_(a&&a.concurrentRequestLimit),this.Da=new sA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=j_.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){dt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Q_(this,null,this.W),pc(this)};function sh(a){if(B_(a),a.G==3){var d=a.U++,h=En(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),Is(a,h),d=new Wn(a,a.j,d),d.L=2,d.v=lc(En(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Y_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ac(d)}K_(a)}function fc(a){a.g&&(ch(a),a.g.cancel(),a.g=null)}function B_(a){fc(a),a.u&&(c.clearTimeout(a.u),a.u=null),gc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function pc(a){if(!E_(a.h)&&!a.s){a.s=!0;var d=a.Ga;rs||Xv(),is||(rs(),is=!0),Ud.add(d,a),a.B=0}}function dA(a,d){return D_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ls(y(a.Ga,a,d),W_(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Wn(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=H_(this,C,d),h=En(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),Is(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(k_(A)))+"&"+d:this.m&&oh(h,this.m,A)),ih(this.h,C),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),C.T=!0,eh(C,h,null)):eh(C,h,d),this.G=2}}else this.G==3&&(a?$_(this,a):this.i.length==0||E_(this.h)||$_(this))};function $_(a,d){var h;d?h=d.l:h=a.U++;let g=En(a.I);Te(g,"SID",a.K),Te(g,"RID",h),Te(g,"AID",a.T),Is(a,g),a.m&&a.o&&oh(g,a.m,a.o),h=new Wn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=H_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ih(a.h,h),eh(h,g,d)}function Is(a,d){a.H&&J(a.H,function(h,g){Te(d,g,h)}),a.l&&b_({},function(h,g){Te(d,g,h)})}function H_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let k=["count="+h];A==-1?0<h?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let we=!0;for(let Ge=0;Ge<h;Ge++){let ge=C[Ge].g,Ze=C[Ge].map;if(ge-=A,0>ge)A=Math.max(0,C[Ge].g-100),we=!1;else try{aA(Ze,k,"req"+ge+"_")}catch{g&&g(Ze)}}if(we){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function z_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;rs||Xv(),is||(rs(),is=!0),Ud.add(d,a),a.v=0}}function ah(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ls(y(a.Fa,a),W_(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,q_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ls(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fc(this),q_(this))};function ch(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function q_(a){a.g=new Wn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=En(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),Is(a,d),a.m&&a.o&&oh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=lc(En(d)),h.m=null,h.P=!0,v_(h,a)}n.Za=function(){this.C!=null&&(this.C=null,fc(this),ah(this),dt(19))};function gc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function G_(a,d){var h=null;if(a.g==d){gc(a),ch(a),a.g=null;var g=2}else if(rh(a.h,d))h=d.D,T_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=ic(),lt(g,new p_(g,h)),pc(a)}else z_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&dA(a,d)||g==2&&ah(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:xr(a,5);break;case 4:xr(a,10);break;case 3:xr(a,6);break;default:xr(a,2)}}}function W_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function xr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let C=!g;g=new Mr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cc(g,"https"),lc(g),C?iA(g.toString(),h):oA(g.toString(),h)}else dt(2);a.G=0,a.l&&a.l.sa(d),K_(a),B_(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function K_(a){if(a.G=0,a.ka=[],a.l){let d=C_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function Q_(a,d,h){var g=h instanceof Mr?En(h):new Mr(h);if(g.g!="")d&&(g.g=d+"."+g.g),uc(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Mr(null);g&&cc(A,g),d&&(A.g=d),C&&uc(A,C),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Te(g,h,d),Te(g,"VER",a.la),Is(a,g),g}function Y_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ne(new ms({eb:h})):new Ne(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z_(){}n=Z_.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mc(){}mc.prototype.g=function(a,d){return new It(a,d)};function It(a,d){Ye.call(this),this.g=new j_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!V(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ci(this)}S(It,Ye),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){sh(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Kd(a),a=h);d.i.push(new KS(d.Ya++,a)),d.G==3&&pc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,It.aa.N.call(this)};function J_(a){Yd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(J_,Yd);function X_(){Zd.call(this),this.status=1}S(X_,Zd);function Ci(a){this.g=a}S(Ci,Z_),Ci.prototype.ua=function(){lt(this.g,"a")},Ci.prototype.ta=function(a){lt(this.g,new J_(a))},Ci.prototype.sa=function(a){lt(this.g,new X_)},Ci.prototype.ra=function(){lt(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Qm=jn.createWebChannelTransport=function(){return new mc},Km=jn.getStatEventTarget=function(){return ic()},Wm=jn.Event=Rr,Hl=jn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,Ma=jn.ErrorCode=oc,g_.COMPLETE="complete",Gm=jn.EventType=g_,l_.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,No=jn.WebChannel=l_,qm=jn.FetchXmlHttpFactory=ms,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,zm=jn.XhrIo=Ne}).apply(typeof $l<"u"?$l:typeof self<"u"?self:typeof window<"u"?window:{});var xb="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Zo="10.13.2";var gi=new mr("@firebase/firestore");function xa(){return gi.logLevel}function F(n,...e){if(gi.logLevel<=ae.DEBUG){let t=e.map(xv);gi.debug(`Firestore (${Zo}): ${n}`,...t)}}function $n(n,...e){if(gi.logLevel<=ae.ERROR){let t=e.map(xv);gi.error(`Firestore (${Zo}): ${n}`,...t)}}function Vo(n,...e){if(gi.logLevel<=ae.WARN){let t=e.map(xv);gi.warn(`Firestore (${Zo}): ${n}`,...t)}}function xv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function G(n="Unexpected state"){let e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function De(n,e){n||G()}function Z(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends At{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kl=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ey=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}},ty=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ny=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Kl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new qe(e)}},ry=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},iy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new ry(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},oy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string"),this.R=t.token,new oy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function tU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Ql=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=tU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function ye(n,e){return n<e?-1:n>e?1:0}function Uo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Ke=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ke(0,0))}static max(){return new n(new Ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Yl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(),r===void 0?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},xe=class n extends Yl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},nU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rt=class n extends Yl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return nU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new j(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new j(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new j(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(xe.fromString(e))}static fromName(e){return new n(xe.fromString(e).popFirst(5))}static empty(){return new n(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new xe(e.slice()))}};var ay=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ay.UNKNOWN_ID=-1;function rU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ke(t+1,0):new Ke(t,r));return new mi(i,H.empty(),e)}function iU(n){return new mi(n.readTime,n.key,-1)}var mi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),H.empty(),-1)}static max(){return new n(ee.max(),H.empty(),-1)}};function oU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ye(n.largestBatchId,e.largestBatchId))}var sU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",cy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ya(n){return w(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==sU)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function aU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Za(n){return n.name==="IndexedDbTransactionError"}var l0=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Td(n){return n==null}function Va(n){return n===0&&1/n==-1/0}function cU(n){return typeof n=="number"&&Number.isInteger(n)&&!Va(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var uU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k9=[...uU,"documentOverlays"],lU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dU=lU,hU=[...dU,"indexConfiguration","indexState","indexEntries"];var O9=[...hU,"globals"];function Pb(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ko(this.root,e,this.comparator,!0)}},ko=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,r,i,o){return this}insert(e,t,r){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zl(this.data.getIterator())}getIteratorFrom(e){return new Zl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Zl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class n{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(Rt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Jl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jl("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ut.EMPTY_BYTE_STRING=new ut("");var fU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(n){if(De(!!n),typeof n=="string"){let e=0,t=fU.exec(n);if(De(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function br(n){return typeof n=="string"?ut.fromBase64String(n):ut.fromUint8Array(n)}function Pv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function kv(n){let e=n.mapValue.fields.__previous_value__;return Pv(e)?kv(e):e}function Ua(n){let e=Hn(n.mapValue.fields.__local_write_time__.timestampValue);return new Ke(e.seconds,e.nanos)}var uy=class{constructor(e,t,r,i,o,s,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Xl=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pv(n)?4:f0(n)?9007199254740991:h0(n)?10:11:G()}function vn(n,e){if(n===e)return!0;let t=yi(n);if(t!==yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ua(n).isEqual(Ua(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Hn(i.timestampValue),c=Hn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return br(i.bytesValue).isEqual(br(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),c=Se(o.doubleValue);return s===c?Va(s)===Va(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Pb(s)!==Pb(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!vn(s[u],c[u])))return!1;return!0}(n,e);default:return G()}}function ja(n,e){return(n.values||[]).find(t=>vn(t,e))!==void 0}function jo(n,e){if(n===e)return 0;let t=yi(n),r=yi(e);if(t!==r)return ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ye(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return kb(n.timestampValue,e.timestampValue);case 4:return kb(Ua(n),Ua(e));case 5:return ye(n.stringValue,e.stringValue);case 6:return function(o,s){let c=br(o),u=br(s);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=ye(c[l],u[l]);if(f!==0)return f}return ye(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=ye(Se(o.latitude),Se(s.latitude));return c!==0?c:ye(Se(o.longitude),Se(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ob(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=y.value)===null||u===void 0?void 0:u.arrayValue,N=ye(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:Ob(I,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===zl.mapValue&&s===zl.mapValue)return 0;if(o===zl.mapValue)return 1;if(s===zl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=ye(u[p],f[p]);if(y!==0)return y;let I=jo(c[u[p]],l[f[p]]);if(I!==0)return I}return ye(u.length,f.length)}(n.mapValue,e.mapValue);default:throw G()}}function kb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ye(n,e);let t=Hn(n),r=Hn(e),i=ye(t.seconds,r.seconds);return i!==0?i:ye(t.nanos,r.nanos)}function Ob(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=jo(t[i],r[i]);if(o)return o}return ye(t.length,r.length)}function Bo(n){return ly(n)}function ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Hn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return br(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ly(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ly(t.fields[s])}`;return i+"}"}(n.mapValue):G()}function dy(n){return!!n&&"integerValue"in n}function Ov(n){return!!n&&"arrayValue"in n}function Lb(n){return!!n&&"nullValue"in n}function Fb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gl(n){return!!n&&"mapValue"in n}function h0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ka(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ka(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ka(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=ka(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Gl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Jo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ka(this.value))}};function p0(n){let e=[];return Jo(n.fields,(t,r)=>{let i=new Rt([t]);if(Gl(r)){let o=p0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}var Yt=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Qt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Qt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $o=class{constructor(e,t){this.position=e,this.inclusive=t}};function Vb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),t.key):r=jo(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ub(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vn(n.position[t],e.position[t]))return!1;return!0}var Ho=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function pU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ed=class{},je=class n extends ed{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fy(e,t,r):t==="array-contains"?new my(e,r):t==="in"?new yy(e,r):t==="not-in"?new vy(e,r):t==="array-contains-any"?new _y(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new py(e,r):new gy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(jo(t,this.value)):t!==null&&yi(this.value)===yi(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class n extends ed{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return g0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function g0(n){return n.op==="and"}function m0(n){return gU(n)&&g0(n)}function gU(n){for(let e of n.filters)if(e instanceof _n)return!1;return!0}function hy(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Bo(n.value);if(m0(n))return n.filters.map(e=>hy(e)).join(",");{let e=n.filters.map(t=>hy(t)).join(",");return`${n.op}(${e})`}}function y0(n,e){return n instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&vn(r.value,i.value)}(n,e):n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&y0(s,i.filters[c]),!0):!1}(n,e):void G()}function v0(n){return n instanceof je?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(n):n instanceof _n?function(t){return t.op.toString()+" {"+t.getFilters().map(v0).join(" ,")+"}"}(n):"Filter"}var fy=class extends je{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},py=class extends je{constructor(e,t){super(e,"in",t),this.keys=_0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},gy=class extends je{constructor(e,t){super(e,"not-in",t),this.keys=_0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var my=class extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Ov(t)&&ja(t.arrayValue,this.value)}},yy=class extends je{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ja(this.value.arrayValue,t)}},vy=class extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ja(this.value.arrayValue,t)}},_y=class extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Ov(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ja(this.value.arrayValue,r))}};var Iy=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function jb(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Iy(n,e,t,r,i,o,s)}function Lv(n){let e=Z(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bo(r)).join(",")),e.ue=t}return e.ue}function Fv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!y0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ub(n.startAt,e.startAt)&&Ub(n.endAt,e.endAt)}function wy(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var zo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function mU(n,e,t,r,i,o,s,c){return new zo(n,e,t,r,i,o,s,c)}function Vv(n){return new zo(n)}function Bb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yU(n){return n.collectionGroup!==null}function Oa(n){let e=Z(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ct(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ho(o,r))}),t.has(Rt.keyField().canonicalString())||e.ce.push(new Ho(Rt.keyField(),r))}return e.ce}function mn(n){let e=Z(n);return e.le||(e.le=vU(e,Oa(n))),e.le}function vU(n,e){if(n.limitType==="F")return jb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ho(i.field,o)});let t=n.endAt?new $o(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $o(n.startAt.position,n.startAt.inclusive):null;return jb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ey(n,e,t){return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cd(n,e){return Fv(mn(n),mn(e))&&n.limitType===e.limitType}function I0(n){return`${Lv(mn(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>v0(i)).join(", ")}]`),Td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bo(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bo(i)).join(",")),`Target(${r})`}(mn(n))}; limitType=${n.limitType})`}function bd(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Oa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=Vb(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Oa(r),i)||r.endAt&&!function(s,c,u){let l=Vb(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Oa(r),i))}(n,e)}function _U(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function w0(n){return(e,t)=>{let r=!1;for(let i of Oa(n)){let o=IU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function IU(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?jo(u,l):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Sr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}};var wU=new Pe(H.comparator);function zn(){return wU}var E0=new Pe(H.comparator);function Pa(...n){let e=E0;for(let t of n)e=e.insert(t.key,t);return e}function D0(n){let e=E0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hi(){return La()}function T0(){return La()}function La(){return new Sr(n=>n.toString(),(n,e)=>n.isEqual(e))}var EU=new Pe(H.comparator),DU=new ct(H.comparator);function ce(...n){let e=DU;for(let t of n)e=e.add(t);return e}var TU=new ct(ye);function CU(){return TU}function Uv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Va(e)?"-0":e}}function C0(n){return{integerValue:""+n}}function bU(n,e){return cU(e)?C0(e):Uv(n,e)}var qo=class{constructor(){this._=void 0}};function SU(n,e,t){return n instanceof Go?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Pv(o)&&(o=kv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof vi?S0(n,e):n instanceof _i?A0(n,e):function(i,o){let s=b0(i,o),c=$b(s)+$b(i.Pe);return dy(s)&&dy(i.Pe)?C0(c):Uv(i.serializer,c)}(n,e)}function AU(n,e,t){return n instanceof vi?S0(n,e):n instanceof _i?A0(n,e):t}function b0(n,e){return n instanceof Wo?function(r){return dy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Go=class extends qo{},vi=class extends qo{constructor(e){super(),this.elements=e}};function S0(n,e){let t=R0(e);for(let r of n.elements)t.some(i=>vn(i,r))||t.push(r);return{arrayValue:{values:t}}}var _i=class extends qo{constructor(e){super(),this.elements=e}};function A0(n,e){let t=R0(e);for(let r of n.elements)t=t.filter(i=>!vn(i,r));return{arrayValue:{values:t}}}var Wo=class extends qo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function $b(n){return Se(n.integerValue||n.doubleValue)}function R0(n){return Ov(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof vi&&i instanceof vi||r instanceof _i&&i instanceof _i?Uo(r.elements,i.elements,vn):r instanceof Wo&&i instanceof Wo?vn(r.Pe,i.Pe):r instanceof Go&&i instanceof Go}(n.transform,e.transform)}var Dy=class{constructor(e,t){this.version=e,this.transformResults=t}},Tr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ko=class{};function N0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ba(n.key,Tr.none()):new Ii(n.key,n.data,Tr.none());{let t=n.data,r=Qt.empty(),i=new ct(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qn(n.key,r,new pn(i.toArray()),Tr.none())}}function NU(n,e,t){n instanceof Ii?function(i,o,s){let c=i.value.clone(),u=zb(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof qn?function(i,o,s){if(!Wl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=zb(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(M0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Fa(n,e,t,r){return n instanceof Ii?function(o,s,c,u){if(!Wl(o.precondition,s))return c;let l=o.value.clone(),f=qb(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof qn?function(o,s,c,u){if(!Wl(o.precondition,s))return c;let l=qb(o.fieldTransforms,u,s),f=s.data;return f.setAll(M0(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,c){return Wl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function MU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=b0(r.transform,i||null);o!=null&&(t===null&&(t=Qt.empty()),t.set(r.field,o))}return t||null}function Hb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uo(r,i,(o,s)=>RU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ii=class extends Ko{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends Ko{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function M0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function zb(n,e,t){let r=new Map;De(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,AU(s,c,t[i]))}return r}function qb(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,SU(o,s,e))}return r}var Ba=class extends Ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ty=class extends Ko{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Cy=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&NU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Fa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=T0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=N0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,r)=>Hb(t,r))&&Uo(this.baseMutations,e.baseMutations,(t,r)=>Hb(t,r))}},by=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length);let i=function(){return EU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Sy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ay=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Oe,pe;function xU(n){switch(n){default:return G();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function x0(n){if(n===void 0)return $n("GRPC error has no .code"),M.UNKNOWN;switch(n){case Oe.OK:return M.OK;case Oe.CANCELLED:return M.CANCELLED;case Oe.UNKNOWN:return M.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return M.INTERNAL;case Oe.UNAVAILABLE:return M.UNAVAILABLE;case Oe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Oe.NOT_FOUND:return M.NOT_FOUND;case Oe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Oe.ABORTED:return M.ABORTED;case Oe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Oe.DATA_LOSS:return M.DATA_LOSS;default:return G()}}(pe=Oe||(Oe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var Gb=null;function PU(){return new TextEncoder}var kU=new Dr([4294967295,4294967295],0);function Wb(n){let e=PU().encode(n),t=new Hm;return t.update(e),new Uint8Array(t.digest())}function Kb(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dr([t,r],0),new Dr([i,o],0)]}var Ry=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fi(`Invalid padding: ${t}`);if(r<0)throw new fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Dr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Dr.fromNumber(r)));return i.compare(kU)===1&&(i=new Dr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Wb(e),[r,i]=Kb(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let t=Wb(e),[r,i]=Kb(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},fi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var td=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Pe(ye),zn(),ce())}},$a=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var Oo=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},nd=class{constructor(e,t){this.targetId=e,this.me=t}},rd=class{constructor(e,t,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},id=class{constructor(){this.fe=0,this.ge=Yb(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),t=ce(),r=ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new $a(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Yb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ny=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=Qb(),this.Qe=new Pe(ye)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(wy(o))if(r===0){let s=new H(o.path);this.Ue(t,s,Yt.newNoDocument(s,ee.min()))}else De(r===1);else{let s=this.Ye(t);if(s!==r){let c=this.Ze(e),u=c?this.Xe(c,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}Gb?.et(function(f,p,y,I,S){var N,R,O,V,z,ie;let Re={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},J=p.unchangedNames;return J&&(Re.bloomFilter={applied:S===0,hashCount:(N=J?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(V=(O=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&V!==void 0?V:0,padding:(ie=(z=J?.bits)===null||z===void 0?void 0:z.padding)!==null&&ie!==void 0?ie:0,mightContain:D=>{var m;return(m=I?.mightContain(D))!==null&&m!==void 0&&m}}),Re}(s,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=br(r).toUint8Array()}catch(u){if(u instanceof Jl)return Vo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Ry(s,i,o)}catch(u){return Vo(u instanceof fi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&wy(c.target)){let u=new H(c.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Yt.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ce();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new td(e,t,this.Qe,this.ke,r);return this.ke=zn(),this.qe=Qb(),this.Qe=new Pe(ye),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new id,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ct(ye),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new id),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Qb(){return new Pe(H.comparator)}function Yb(){return new Pe(H.comparator)}var OU={asc:"ASCENDING",desc:"DESCENDING"},LU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FU={and:"AND",or:"OR"},My=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function xy(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function od(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VU(n,e){return od(n,e.toTimestamp())}function yn(n){return De(!!n),ee.fromTimestamp(function(t){let r=Hn(t);return new Ke(r.seconds,r.nanos)}(n))}function jv(n,e){return Py(n,e).canonicalString()}function Py(n,e){let t=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function k0(n){let e=xe.fromString(n);return De(U0(e)),e}function ky(n,e){return jv(n.databaseId,e.path)}function Ym(n,e){let t=k0(e);if(t.get(1)!==n.databaseId.projectId)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(L0(t))}function O0(n,e){return jv(n.databaseId,e)}function UU(n){let e=k0(n);return e.length===4?xe.emptyPath():L0(e)}function Oy(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function L0(n){return De(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zb(n,e,t){return{name:ky(n,e),fields:t.value.mapValue.fields}}function jU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(De(f===void 0||typeof f=="string"),ut.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ut.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?M.UNKNOWN:x0(l.code);return new j(f,l.message||"")}(s);t=new rd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ym(n,r.document.name),o=yn(r.document.updateTime),s=r.document.createTime?yn(r.document.createTime):ee.min(),c=new Qt({mapValue:{fields:r.document.fields}}),u=Yt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Oo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ym(n,r.document),o=r.readTime?yn(r.readTime):ee.min(),s=Yt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Oo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ym(n,r.document),o=r.removedTargetIds||[];t=new Oo([],o,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ay(i,o),c=r.targetId;t=new nd(c,s)}}return t}function BU(n,e){let t;if(e instanceof Ii)t={update:Zb(n,e.key,e.value)};else if(e instanceof Ba)t={delete:ky(n,e.key)};else if(e instanceof qn)t={update:Zb(n,e.key,e.data),updateMask:YU(e.fieldMask)};else{if(!(e instanceof Ty))return G();t={verify:ky(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Go)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _i)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Wo)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:VU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G()}(n,e.precondition)),t}function $U(n,e){return n&&n.length>0?(De(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?yn(i.updateTime):yn(o);return s.isEqual(ee.min())&&(s=yn(o)),new Dy(s,i.transformResults||[])}(t,e))):[]}function HU(n,e){return{documents:[O0(n,e.path)]}}function zU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=O0(n,i);let o=function(l){if(l.length!==0)return V0(_n.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:xo(y.field),direction:WU(y.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=xy(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function qU(n){let e=UU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(p){let y=F0(p);return y instanceof _n&&m0(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(S){return new Ho(Po(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Td(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,I=p.values||[];return new $o(I,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,I=p.values||[];return new $o(I,y)}(t.endAt)),mU(e,i,s,o,c,"F",u,l)}function GU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function F0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Po(t.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Po(t.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Po(t.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Po(t.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):n.fieldFilter!==void 0?function(t){return je.create(Po(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _n.create(t.compositeFilter.filters.map(r=>F0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(t.compositeFilter.op))}(n):G()}function WU(n){return OU[n]}function KU(n){return LU[n]}function QU(n){return FU[n]}function xo(n){return{fieldPath:n.canonicalString()}}function Po(n){return Rt.fromServerFormat(n.fieldPath)}function V0(n){return n instanceof je?function(t){if(t.op==="=="){if(Fb(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NAN"}};if(Lb(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fb(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NAN"}};if(Lb(t.value))return{unaryFilter:{field:xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(t.field),op:KU(t.op),value:t.value}}}(n):n instanceof _n?function(t){let r=t.getFilters().map(i=>V0(i));return r.length===1?r[0]:{compositeFilter:{op:QU(t.op),filters:r}}}(n):G()}function YU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ha=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),c=ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ly=class{constructor(e){this.ct=e}};function ZU(n){let e=qU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ey(e,e.limit,"L"):e}var sd=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Va(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Hn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(br(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?f0(e)?this.dt(t,Number.MAX_SAFE_INTEGER):h0(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):G()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Se(c)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};sd.vt=new sd;var Fy=class{constructor(){this.un=new Vy}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(mi.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Vy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(xe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(xe.comparator)).toArray()}};var F9=new Uint8Array(0);var fn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var za=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Uy=class{constructor(){this.changes=new Sr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var By=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Fa(r.mutation,i,pn.empty(),Ke.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Pa();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=zn(),s=La(),c=function(){return La()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof qn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Fa(f.mutation,l,f.mutation.getFieldMask(),Ke.now())):s.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new jy(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=La(),i=new Pe((s,c)=>s-c),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||pn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=T0();f.forEach(y=>{if(!o.has(y)){let I=N0(t.get(y),r.get(y));I!==null&&p.set(y,I),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(hi()),c=-1,u=o;return s.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(f=>({batchId:c,changes:D0(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=Pa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Pa();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,y){return new zo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Yt.newInvalidDocument(f)))});let c=Pa();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Fa(f.mutation,l,pn.empty(),Ke.now()),bd(t,l)&&(c=c.insert(u,l))}),c})}};var $y=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:ZU(i.bundledQuery),readTime:yn(i.readTime)}}(t)),P.resolve()}};var Hy=class{constructor(){this.overlays=new Pe(H.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=hi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=hi(),o=t.length+1,s=new H(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=hi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=hi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Sy(t,r));let o=this.Ir.get(t);o===void 0&&(o=ce(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var zy=class{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var qa=class{constructor(){this.Tr=new ct(Le.Er),this.dr=new ct(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Le(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new xe([])),r=new Le(t,e),i=new Le(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new xe([])),r=new Le(t,e),i=new Le(t,e+1),o=ce();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Le(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||ye(e.wr,t.wr)}static Ar(e,t){return ye(e.wr,t.wr)||H.comparator(e.key,t.key)}};var qy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ct(Le.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Cy(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Le(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(ye);return t.forEach(i=>{let o=new Le(i,0),s=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Le(new H(o),0),c=new ct(ye);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),P.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let o=new Le(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Le(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Gy=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=zn();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=zn(),s=t.path,c=new H(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||oU(iU(f),r)<=0||(i.has(f.key)||bd(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wy(this)}getSize(e){return P.resolve(this.size)}},Wy=class extends Uy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Ky=class{constructor(e){this.persistence=e,this.Nr=new Sr(t=>Lv(t),Fv),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qa,this.targetCount=0,this.kr=za.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new za(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var Qy=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new l0(0),this.Kr=!1,this.Kr=!0,this.$r=new zy,this.referenceDelegate=e(this),this.Ur=new Ky(this),this.indexManager=new Fy,this.remoteDocumentCache=function(i){return new Gy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ly(t),this.Gr=new $y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new qy(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new Yy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Yy=class extends cy{constructor(e){super(),this.currentSequenceNumber=e}},Zy=class n{constructor(e){this.persistence=e,this.Jr=new qa,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Jy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Xy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ev=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _C()?8:aU(ze())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Xy;return this.Xi(e,t,s).next(c=>{if(o.result=c,this.zi)return this.es(e,t,s,c.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(xa()<=ae.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(xa()<=ae.DEBUG&&F("QueryEngine","Query:",Mo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xa()<=ae.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(t))):P.resolve())}Yi(e,t){if(Bb(t))return P.resolve(null);let r=mn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ey(t,null,"F"),r=mn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,s,u.readTime)?this.Yi(e,Ey(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return Bb(t)||i.isEqual(ee.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?P.resolve(null):(xa()<=ae.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mo(t)),this.rs(e,s,t,rU(i,-1)).next(c=>c))})}ts(e,t){let r=new ct(w0(e));return t.forEach((i,o)=>{bd(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return xa()<=ae.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.Ji.getDocumentsMatchingQuery(e,t,mi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Pe(ye),this._s=new Sr(o=>Lv(o),Fv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new By(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function JU(n,e,t,r){return new tv(n,e,t,r)}function j0(n,e){return w(this,null,function*(){let t=Z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ce();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function XU(n,e){let t=Z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),I=P.resolve();return y.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);De(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function B0(n){let e=Z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function ej(n,e){let t=Z(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(t.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,f.addedDocuments,p)));let I=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(ut.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,I,f)&&c.push(t.Ur.updateTargetData(o,I))});let u=zn(),l=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(tj(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ee.min())){let f=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function tj(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=zn();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function nj(n,e){let t=Z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rj(n,e){let t=Z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ha(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function nv(n,e,t){return w(this,null,function*(){let r=Z(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Za(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Jb(n,e,t){let r=Z(n),i=ee.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=Z(u),y=p._s.get(f);return y!==void 0?P.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,mn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ce())).next(c=>(ij(r,_U(e),c),{documents:c,Ts:o})))}function ij(n,e,t){let r=n.us.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var ad=class{constructor(){this.activeTargetIds=CU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rv=class{constructor(){this.so=new ad,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ad,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iv=class{_o(e){}shutdown(){}};var cd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ql=null;function Zm(){return ql===null?ql=function(){return 268435456+Math.round(2147483648*Math.random())}():ql++,"0x"+ql.toString(16)}var oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ov=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var at="WebChannelConnection",sv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let c=Zm(),u=this.xo(t,r.toUriEncodedString());F("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(f=>(F("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Vo("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,o,s,c){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=oj[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Zm();return new Promise((s,c)=>{let u=new zm;u.setWithCredentials(!0),u.listenOnce(Gm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ma.NO_ERROR:let f=u.getResponseJson();F(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ma.TIMEOUT:F(at,`RPC '${e}' ${o} timed out`),c(new j(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:let p=u.getStatus();if(F(at,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=function(R){let O=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(O)>=0?O:M.UNKNOWN}(I.status);c(new j(S,I.message))}else c(new j(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new j(M.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(at,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);F(at,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Zm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qm(),c=Km(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new qm({})),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");F(at,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,I=!1,S=new ov({Io:R=>{I?F(at,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(F(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),F(at,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,O,V)=>{R.listen(O,z=>{try{V(z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return N(p,No.EventType.OPEN,()=>{I||(F(at,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,No.EventType.CLOSE,()=>{I||(I=!0,F(at,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,No.EventType.ERROR,R=>{I||(I=!0,Vo(at,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new j(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,No.EventType.MESSAGE,R=>{var O;if(!I){let V=R.data[0];De(!!V);let z=V,ie=z.error||((O=z[0])===null||O===void 0?void 0:O.error);if(ie){F(at,`RPC '${e}' stream ${i} received error:`,ie);let Re=ie.status,J=function(v){let E=Oe[v];if(E!==void 0)return x0(E)}(Re),D=ie.message;J===void 0&&(J=M.INTERNAL,D="Unknown error status: "+Re+" with message "+ie.message),I=!0,S.So(new j(J,D)),p.close()}else F(at,`RPC '${e}' stream ${i} received:`,V),S.bo(V)}}),N(c,Wm.STAT_EVENT,R=>{R.stat===Hl.PROXY?F(at,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Hl.NOPROXY&&F(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Jm(){return typeof document<"u"?document:null}function Sd(n){return new My(n,!0)}var ud=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ld=class{constructor(e,t,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ud(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new j(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},av=class extends ld{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=jU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?yn(s.readTime):ee.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Oy(this.serializer),t.addTarget=function(o,s){let c,u=s.target;if(c=wy(u)?{documents:HU(o,u)}:{query:zU(o,u)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=P0(o,s.resumeToken);let l=xy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=od(o,s.snapshotVersion.toTimestamp());let l=xy(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=GU(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Oy(this.serializer),t.removeTarget=e,this.a_(t)}},cv=class extends ld{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=$U(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Oy(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>BU(this.serializer,r))};this.a_(t)}};var uv=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Py(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(M.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Py(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},lv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($n(t),this.D_=!1):F("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var dv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Ei(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield Ja(l),l.q_.set("Unknown"),l.L_.delete(4),yield Ad(l)})}(this))}))}),this.q_=new lv(r,i)}};function Ad(n){return w(this,null,function*(){if(Ei(n))for(let e of n.B_)yield e(!0)})}function Ja(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function $0(n,e){let t=Z(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),zv(t)?Hv(t):Xo(t).r_()&&$v(t,e))}function Bv(n,e){let t=Z(n),r=Xo(t);t.N_.delete(e),r.r_()&&H0(t,e),t.N_.size===0&&(r.r_()?r.o_():Ei(t)&&t.q_.set("Unknown"))}function $v(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).A_(e)}function H0(n,e){n.Q_.xe(e),Xo(n).R_(e)}function Hv(n){n.Q_=new Ny({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.q_.v_()}function zv(n){return Ei(n)&&!Xo(n).n_()&&n.N_.size>0}function Ei(n){return Z(n).L_.size===0}function z0(n){n.Q_=void 0}function sj(n){return w(this,null,function*(){n.q_.set("Online")})}function aj(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{$v(n,e)})})}function cj(n,e){return w(this,null,function*(){z0(n),zv(n)?(n.q_.M_(e),Hv(n)):n.q_.set("Unknown")})}function uj(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof rd&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dd(n,r)}else if(e instanceof Oo?n.Q_.Ke(e):e instanceof nd?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ee.min()))try{let r=yield B0(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(ut.EMPTY_BYTE_STRING,f.snapshotVersion)),H0(o,u);let p=new Ha(f.target,u,l,f.sequenceNumber);$v(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield dd(n,r)}})}function dd(n,e,t){return w(this,null,function*(){if(!Za(e))throw e;n.L_.add(1),yield Ja(n),n.q_.set("Offline"),t||(t=()=>B0(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Ad(n)}))})}function q0(n,e){return e().catch(t=>dd(n,t,e))}function Rd(n){return w(this,null,function*(){let e=Z(n),t=Ar(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lj(e);)try{let i=yield nj(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,dj(e,i)}catch(i){yield dd(e,i)}G0(e)&&W0(e)})}function lj(n){return Ei(n)&&n.O_.length<10}function dj(n,e){n.O_.push(e);let t=Ar(n);t.r_()&&t.V_&&t.m_(e.mutations)}function G0(n){return Ei(n)&&!Ar(n).n_()&&n.O_.length>0}function W0(n){Ar(n).start()}function hj(n){return w(this,null,function*(){Ar(n).p_()})}function fj(n){return w(this,null,function*(){let e=Ar(n);for(let t of n.O_)e.m_(t.mutations)})}function pj(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=by.from(r,e,t);yield q0(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Rd(n)})}function gj(n,e){return w(this,null,function*(){e&&Ar(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return xU(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();Ar(r).s_(),yield q0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Rd(r)}})}(n,e)),G0(n)&&W0(n)})}function Xb(n,e){return w(this,null,function*(){let t=Z(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=Ei(t);t.L_.add(3),yield Ja(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Ad(t)})}function mj(n,e){return w(this,null,function*(){let t=Z(n);e?(t.L_.delete(2),yield Ad(t)):e||(t.L_.add(2),yield Ja(t),t.q_.set("Unknown"))})}function Xo(n){return n.K_||(n.K_=function(t,r,i){let o=Z(t);return o.w_(),new av(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:sj.bind(null,n),Ro:aj.bind(null,n),mo:cj.bind(null,n),d_:uj.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),zv(n)?Hv(n):n.q_.set("Unknown")):(yield n.K_.stop(),z0(n))}))),n.K_}function Ar(n){return n.U_||(n.U_=function(t,r,i){let o=Z(t);return o.w_(),new cv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hj.bind(null,n),mo:gj.bind(null,n),f_:fj.bind(null,n),g_:pj.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield Rd(n)):(yield n.U_.stop(),n.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var hv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qv(n,e){if($n("AsyncQueue",`${e}: ${n}`),Za(n))return new j(M.UNAVAILABLE,`${e}: ${n}`);throw n}var hd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=Pa(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var fd=class{constructor(){this.W_=new Pe(H.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Qo=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,hd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var fv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},pv=class{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Z(t),o=i.queries;i.queries=e0(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new j(M.ABORTED,"Firestore shutting down"))}};function e0(){return new Sr(n=>I0(n),Cd)}function yj(n,e){return w(this,null,function*(){let t=Z(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new fv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=qv(s,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Gv(t)})}function vj(n,e){return w(this,null,function*(){let t=Z(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function _j(n,e){let t=Z(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.j_)c.X_(i)&&(r=!0);s.z_=i}}r&&Gv(t)}function Ij(n,e,t){let r=Z(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Gv(n){n.Y_.forEach(e=>{e.next()})}var gv,t0;(t0=gv||(gv={})).ea="default",t0.Cache="cache";var mv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gv.Cache}};var pd=class{constructor(e){this.key=e}},gd=class{constructor(e){this.key=e}},yv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=w0(e),this.Ra=new hd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new fd,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),I=bd(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;y&&I?y.data.isEqual(I.data)?S!==N&&(r.track({type:3,doc:I}),R=!0):this.ga(y,I)||(r.track({type:2,doc:I}),R=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!y&&I?(r.track({type:0,doc:I}),R=!0):y&&!I&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(I?(s=s.add(I),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:c,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(I,S){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return N(I)-N(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Qo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new gd(r))}),this.da.forEach(r=>{e.has(r)||t.push(new pd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ce();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},vv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},_v=class{constructor(e){this.key=e,this.va=!1}},Iv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Sr(c=>I0(c),Cd),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(H.comparator),this.Na=new Map,this.La=new qa,this.Ba={},this.ka=new Map,this.qa=za.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wj(n,e,t=!0){return w(this,null,function*(){let r=X0(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield K0(r,e,t,!0),i})}function Ej(n,e){return w(this,null,function*(){let t=X0(n);yield K0(t,e,!0,!1)})}function K0(n,e,t,r){return w(this,null,function*(){let i=yield rj(n.localStore,mn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield Dj(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&$0(n.remoteStore,i),c})}function Dj(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,y,I)=>function(N,R,O,V){return w(this,null,function*(){let z=R.view.ma(O);z.ns&&(z=yield Jb(N.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,z)));let ie=V&&V.targetChanges.get(R.targetId),Re=V&&V.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(z,N.isPrimaryClient,ie,Re);return r0(N,R.targetId,J.wa),J.snapshot})}(n,p,y,I);let o=yield Jb(n.localStore,e,!0),s=new yv(e,o.Ts),c=s.ma(o.documents),u=$a.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);r0(n,t,l.wa);let f=new vv(e,t,s);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function Tj(n,e,t){return w(this,null,function*(){let r=Z(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Cd(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Bv(r.remoteStore,i.targetId),wv(r,i.targetId)}).catch(Ya))):(wv(r,i.targetId),yield nv(r.localStore,i.targetId,!0))})}function Cj(n,e){return w(this,null,function*(){let t=Z(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Bv(t.remoteStore,r.targetId))})}function bj(n,e,t){return w(this,null,function*(){let r=Pj(n);try{let i=yield function(s,c){let u=Z(s),l=Ke.now(),f=c.reduce((I,S)=>I.add(S.key),ce()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=zn(),N=ce();return u.cs.getEntries(I,f).next(R=>{S=R,S.forEach((O,V)=>{V.isValidDocument()||(N=N.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{p=R;let O=[];for(let V of c){let z=MU(V,p.get(V.key).overlayedDocument);z!=null&&O.push(new qn(V.key,z,p0(z.value.mapValue),Tr.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,O,c)}).next(R=>{y=R;let O=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(I,R.batchId,O)})}).then(()=>({batchId:y.batchId,changes:D0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Pe(ye)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Xa(r,i.changes),yield Rd(r.remoteStore)}catch(i){let o=qv(i,"Failed to persist write");t.reject(o)}})}function Q0(n,e){return w(this,null,function*(){let t=Z(n);try{let r=yield ej(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?De(s.va):i.removedDocuments.size>0&&(De(s.va),s.va=!1))}),yield Xa(t,r,e)}catch(r){yield Ya(r)}})}function n0(n,e,t){let r=Z(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Z(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&Gv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sj(n,e,t){return w(this,null,function*(){let r=Z(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Pe(H.comparator);s=s.insert(o,Yt.newNoDocument(o,ee.min()));let c=ce().add(o),u=new td(ee.min(),new Map,new Pe(ye),s,c);yield Q0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Wv(r)}else yield nv(r.localStore,e,!1).then(()=>wv(r,e,t)).catch(Ya)})}function Aj(n,e){return w(this,null,function*(){let t=Z(n),r=e.batch.batchId;try{let i=yield XU(t.localStore,e);Z0(t,r,null),Y0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xa(t,i)}catch(i){yield Ya(i)}})}function Rj(n,e,t){return w(this,null,function*(){let r=Z(n);try{let i=yield function(s,c){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(De(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);Z0(r,e,t),Y0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xa(r,i)}catch(i){yield Ya(i)}})}function Y0(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Z0(n,e,t){let r=Z(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||J0(n,r)})}function J0(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Bv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Wv(n))}function r0(n,e,t){for(let r of t)r instanceof pd?(n.La.addReference(r.key,e),Nj(n,r)):r instanceof gd?(F("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||J0(n,r.key)):G()}function Nj(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(F("SyncEngine","New document in limbo: "+t),n.xa.add(r),Wv(n))}function Wv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new H(xe.fromString(e)),r=n.qa.next();n.Na.set(r,new _v(t)),n.Oa=n.Oa.insert(t,r),$0(n.remoteStore,new Ha(mn(Vv(t.path)),r,"TargetPurposeLimboResolution",l0.oe))}}function Xa(n,e,t){return w(this,null,function*(){let r=Z(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Jy.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let f=Z(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.$i,I=>f.persistence.referenceDelegate.addReference(p,y.targetId,I)).next(()=>P.forEach(y.Ui,I=>f.persistence.referenceDelegate.removeReference(p,y.targetId,I)))))}catch(p){if(!Za(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let I=f.os.get(y),S=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(y,N)}}})}(r.localStore,o))})}function Mj(n,e){return w(this,null,function*(){let t=Z(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield j0(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new j(M.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xa(t,r.hs)}})}function xj(n,e){let t=Z(n),r=t.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let c=t.Fa.get(s);i=i.unionWith(c.view.Va)}return i}}function X0(n){let e=Z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sj.bind(null,e),e.Ca.d_=_j.bind(null,e.eventManager),e.Ca.$a=Ij.bind(null,e.eventManager),e}function Pj(n){let e=Z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,e),e}var md=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return JU(this.persistence,new ev,e.initialUser,this.serializer)}createPersistence(e){return new Qy(Zy.Zr,this.serializer)}createSharedClientState(e){return new rv}terminate(){return w(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Ev=class{initialize(e,t){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),yield mj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pv}()}createDatastore(e){let t=Sd(e.databaseInfo.databaseId),r=function(o){return new sv(o)}(e.databaseInfo);return function(o,s,c,u){return new uv(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,s,c){return new dv(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,t=>n0(this.syncEngine,t,0),function(){return cd.D()?new cd:new iv}())}createSyncEngine(e,t){return function(i,o,s,c,u,l,f){let p=new Iv(i,o,s,c,u,l);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return w(this,null,function*(){var e,t;yield function(i){return w(this,null,function*(){let o=Z(i);F("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ja(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var Dv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var Tv=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Ql.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=qv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Xm(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield j0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function i0(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Oj(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Xb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Xb(e.remoteStore,i)),n._onlineComponents=e})}function kj(n){return n.name==="FirebaseError"?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function Oj(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xm(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!kj(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),yield Xm(n,new md)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Xm(n,new md);return n._offlineComponents})}function eS(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield i0(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield i0(n,new Ev))),n._onlineComponents})}function Lj(n){return eS(n).then(e=>e.syncEngine)}function o0(n){return w(this,null,function*(){let e=yield eS(n),t=e.eventManager;return t.onListen=wj.bind(null,e.syncEngine),t.onUnlisten=Tj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ej.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Cj.bind(null,e.syncEngine),t})}function tS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var s0=new Map;function nS(n,e,t){if(!t)throw new j(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fj(n,e,t,r){if(e===!0&&r===!0)throw new j(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function a0(n){if(!H.isDocumentKey(n))throw new j(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c0(n){if(H.isDocumentKey(n))throw new j(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G()}function Lo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Kv(n);throw new j(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var yd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Yo=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ey;switch(r.type){case"firstParty":return new iy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=s0.get(t);r&&(F("ComponentProvider","Removing Datastore"),s0.delete(t),r.terminate())}(this),Promise.resolve()}};function rS(n,e,t,r={}){var i;let o=(n=Lo(n,Yo))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=fC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new j(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}n._authCredentials=new ty(new Kl(c,u))}}var vd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Vt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Cr=class n extends vd{constructor(e,t,r){super(e,t,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function iS(n,e,...t){if(n=_t(n),nS("collection","path",e),n instanceof Yo){let r=xe.fromString(e,...t);return c0(r),new Cr(n,null,r)}{if(!(n instanceof Vt||n instanceof Cr))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return c0(r),new Cr(n.firestore,null,r)}}function Qv(n,e,...t){if(n=_t(n),arguments.length===1&&(e=Ql.newId()),nS("doc","path",e),n instanceof Yo){let r=xe.fromString(e,...t);return a0(r),new Vt(n,null,new H(r))}{if(!(n instanceof Vt||n instanceof Cr))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return a0(r),new Vt(n.firestore,n instanceof Cr?n.converter:null,new H(r))}}var Cv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ud(this,"async_queue_retry"),this.Eu=()=>{let t=Jm();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=Jm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=Jm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Bn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Za(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw $n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let i=hv.createAndSchedule(this,e,t,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function u0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var wi=class extends Yo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new Cv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||aS(this),this._firestoreClient.terminate()}};function oS(n,e){let t=typeof n=="object"?n:To(),r=typeof n=="string"?n:e||"(default)",i=wa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hC("firestore");o&&rS(i,...o)}return i}function sS(n){return n._firestoreClient||aS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aS(n){var e,t,r;let i=n._freezeSettings(),o=function(c,u,l,f){return new uy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tS(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new Tv(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Ga=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ut.fromBase64String(e))}catch(t){throw new j(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Wa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _d=class{constructor(e){this._methodName=e}};var Ka=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var Qa=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Vj=/^__.*__$/,bv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ii(e,this.data,t,this.fieldTransforms)}};function cS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Sv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Id(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(cS(this.wu)&&Vj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Av=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Sd(e)}Nu(e,t,r,i=!1){return new Sv({wu:e,methodName:t,Ou:r,path:Rt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Uj(n){let e=n._freezeSettings(),t=Sd(n._databaseId);return new Av(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jj(n,e,t,r,i,o={}){let s=n.Nu(o.merge||o.mergeFields?2:0,e,t,i);hS("Data must be an object, but it was:",s,r);let c=lS(r,s),u,l;if(o.merge)u=new pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=Bj(e,p,t);if(!s.contains(y))throw new j(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Hj(f,y)||f.push(y)}u=new pn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new bv(new Qt(c),u,l)}function uS(n,e){if(dS(n=_t(n)))return hS("Unsupported field value:",e,n),lS(n,e);if(n instanceof _d)return function(r,i){if(!cS(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=uS(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ke.fromDate(r);return{timestampValue:od(i.serializer,o)}}if(r instanceof Ke){let o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:od(i.serializer,o)}}if(r instanceof Ka)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ga)return{bytesValue:P0(i.serializer,r._byteString)};if(r instanceof Vt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qa)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Uv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Kv(r)}`)}(n,e)}function lS(n,e){let t={};return d0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(n,(r,i)=>{let o=uS(i,e.bu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function dS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ke||n instanceof Ka||n instanceof Ga||n instanceof Vt||n instanceof _d||n instanceof Qa)}function hS(n,e,t){if(!dS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Kv(t);throw r==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+r)}}function Bj(n,e,t){if((e=_t(e))instanceof Wa)return e._internalPath;if(typeof e=="string")return fS(n,e);throw Id("Field path arguments must be of type string or ",n,!1,void 0,t)}var $j=new RegExp("[~\\*/\\[\\]]");function fS(n,e,t){if(e.search($j)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wa(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Id(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(M.INVALID_ARGUMENT,c+n+u)}function Hj(n,e){return n.some(t=>t.isEqual(e))}var wd=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(pS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Rv=class extends wd{data(){return super.data()}};function pS(n,e){return typeof e=="string"?fS(n,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}function zj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nv=class{convertValue(e,t="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Jo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new Qa(o)}convertGeoPoint(e){return new Ka(Se(e.latitude),Se(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=kv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){let t=Hn(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=xe.fromString(e);De(U0(r));let i=new Xl(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(t)||$n(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function qj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var pi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ed=class extends wd{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(pS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Fo=class extends Ed{data(e={}){return super.data(e)}},Mv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fo(this._firestore,this._userDataWriter,r.key,r,new pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:Gj(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Gj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var Dd=class extends Nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}};function gS(n){return yS(Lo(n.firestore,wi),[new Ba(n._key,Tr.none())])}function mS(n,e){let t=Lo(n.firestore,wi),r=Qv(n),i=qj(n.converter,e);return yS(t,[jj(Uj(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function Yv(n,...e){var t,r,i;n=_t(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||u0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(u0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof Vt)l=Lo(n.firestore,wi),f=Vv(n._key.path),u={next:p=>{e[s]&&e[s](Wj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Lo(n,vd);l=Lo(p.firestore,wi),f=p._query;let y=new Dd(l);u={next:I=>{e[s]&&e[s](new Mv(l,y,p,I))},error:e[s+1],complete:e[s+2]},zj(n._query)}return function(y,I,S,N){let R=new Dv(N),O=new mv(I,R,S);return y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return yj(yield o0(y),O)})),()=>{R.za(),y.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return vj(yield o0(y),O)}))}}(sS(l),f,c,u)}function yS(n,e){return function(r,i){let o=new Bn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return bj(yield Lj(r),i,o)})),o.promise}(sS(n),e)}function Wj(n,e,t){let r=t.docs.get(e._key),i=new Dd(n);return new Ed(n,i,e._key,r,new pi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Zo=i})(_r),vr(new Ft("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new wi(new ny(r.getProvider("auth-internal")),new sy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ue(xb,"4.7.2",e),Ue(xb,"4.7.2","esm2017")})();var Nd=function(){return Nd=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nd.apply(this,arguments)};var Yj={includeMetadataChanges:!1};function vS(n,e){return e===void 0&&(e=Yj),new ue(function(t){var r=Yv(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function _S(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Nd(Nd({},r),(t={},t[e.idField]=n.id,t))}function IS(n){return vS(n,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function wS(n,e){return e===void 0&&(e={}),IS(n).pipe(re(function(t){return t.map(function(r){return _S(r,e)})}))}var Zt=class{constructor(e){return e}},ES="firestore",Zv=class{constructor(){return Ea(ES)}};var Jv=new $("angularfire2.firestore-instances");function Zj(n,e){let t=Dl(ES,n,e);return t&&new Zt(t)}function Jj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Zt(r)}}var Xj={provide:Zv,deps:[[new ot,Jv]]},e2={provide:Zt,useFactory:Zj,deps:[[new ot,Jv],Fn]};function DS(n,...e){return Ue("angularfire",si.full,"fst"),sn([e2,Xj,{provide:Jv,useFactory:Jj(n),multi:!0,deps:[ve,it,So,ai,[new ot,Na],[new ot,bo],...e]}])}var Md=Kt(wS,!0);var TS=Kt(mS,!0);var es=Kt(iS,!0);var CS=Kt(gS,!0);var bS=Kt(Qv,!0);var SS=Kt(oS,!0);var ts=class n{currentCardId;constructor(){}createCard(e,t,r,i){return w(this,null,function*(){if(i)try{yield TS(i,{front:e.value,back:t.value,topic:r.value,userId:"USERID"}),console.log("Card successfully saved!"),e.value="",t.value="",r.value=""}catch(o){console.error("Error saving card: ",o)}})}setCardId(e,t){!t||!e||(this.currentCardId=e.id)}deleteCard(e,t,r){return w(this,null,function*(){if(!(!t||!e||!e.id))try{yield CS(bS(r,`karteikarten/${e.id}`)),console.log("DELETED: ",e.id)}catch(i){console.error("Error deleting card: ",i)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var In=class n{showModalSource=new Fe(!1);showModal$=this.showModalSource.asObservable();openModal(){this.showModalSource.next(!0)}closeModal(){this.showModalSource.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function t2(n,e){if(n&1){let t=Vu();he(0,"div",2)(1,"div",3)(2,"div")(3,"h5",4),st(4),fe(),he(5,"p",4),st(6),fe()(),he(7,"div",5)(8,"a",6),$e("click",function(){let i=Wr(t).$implicit,o=Mp(2);return Kr(o.editCard(i))}),be(9,"img",7),fe(),he(10,"a",8),$e("click",function(){let i=Wr(t).$implicit,o=Mp(2);return Kr(o.deleteCard(i))}),be(11,"img",9),fe()()()()}if(n&2){let t=e.$implicit;hr(4),ju(t.front),hr(2),ju(t.back)}}function n2(n,e){n&1&&AD(0,t2,12,2,"div",2,SD),n&2&&RD(e)}function r2(n,e){n&1&&(he(0,"h1"),st(1,"Du hast noch keine Karteikarten erstellt!"),fe())}var Pd=class n{constructor(e,t){this.cardManager=e;this.modalService=t;let r=es(this.firestore,"karteikarten");this.karteikarten=Md(r,{idField:"id"}),console.log("PLATZHALTER")}firestore=x(Zt);karteikarten;flipCard(e){e.flipped=!e.flipped}editCard(e){this.cardManager.setCardId(e,this.karteikarten)}deleteCard(e){this.cardManager.deleteCard(e,this.karteikarten,this.firestore)}static \u0275fac=function(t){return new(t||n)(_e(ts),_e(In))};static \u0275cmp=mt({type:n,selectors:[["app-card-overview"]],standalone:!0,features:[vt],decls:5,vars:3,consts:[[1,"wrap-container"],["id","overview-page",1,"d-flex","flex-wrap","flex-column","flex-lg-row","align-items-center","align-items-lg-start"],[1,"card"],[1,"card-body","d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"d-flex","flex-column","ms-3","h-100"],[1,"btn","btn-primary","h-100","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../assets/icon-pen.png",1,"icon-button"],[1,"btn","btn-danger","h-100","d-flex","justify-content-center","align-items-center",3,"click"],["src","../../assets/icon-trash.png",1,"icon-button"]],template:function(t,r){if(t&1&&(he(0,"div",0)(1,"div",1),Fu(2,n2,2,0),OD(3,"async"),Fu(4,r2,2,0,"h1"),fe()()),t&2){let i;hr(2),bD((i=LD(3,1,r.karteikarten))?2:4,i)}},dependencies:[qs,iT],styles:[".card[_ngcontent-%COMP%]{width:100%;min-width:18rem;max-width:20rem;height:10rem;max-height:10rem;margin:10px;cursor:pointer}.card[_ngcontent-%COMP%]:hover{background-color:#d6a2e033}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0 0 0 5%}.icon-button[_ngcontent-%COMP%]{width:20px;object-fit:cover;cursor:pointer}"]})};var kd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-card-decks"]],standalone:!0,features:[vt],decls:2,vars:0,template:function(t,r){t&1&&(he(0,"p"),st(1,"card-decks works!"),fe())}})};var RS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:kd},{path:"cards",component:Pd}];var NS={production:!0,firebase:{projectId:"karteikarten-marcokrooss",appId:"1:51557077833:web:a61181604ef4bf30118098",storageBucket:"karteikarten-marcokrooss.appspot.com",apiKey:"AIzaSyCS_Oir9t84yCwd0FFp3kAS7tLGm1qK5oQ",authDomain:"karteikarten-marcokrooss.firebaseapp.com",messagingSenderId:"51557077833"}};var MS={providers:[BD({eventCoalescing:!0}),rC(RS),FC(()=>VC(NS.firebase)),Ab(()=>Rb()),DS(()=>SS())]};var i2=()=>["/cards"],Od=class n{constructor(e){this.modalService=e}onNewCardButtonClick(){console.log("Create new Card!"),this.modalService.openModal()}onSettingsButtonClick(){console.log("Go to settings!")}onListButtonClick(){console.log("All cards")}onUserButtonClick(){console.log("Go to UserAccount!")}static \u0275fac=function(t){return new(t||n)(_e(In))};static \u0275cmp=mt({type:n,selectors:[["app-header"]],standalone:!0,features:[vt],decls:15,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","d-block","d-md-none"],[1,"container-fluid","d-flex","flex-column","flex-lg-row","justify-content-center","justify-content-lg-end"],[1,"container-fluid","d-flex","d-lg-block","justify-content-center"],["src","../../assets/logo-panda.png","routerLink","/home",1,"header-logo","hidden","visible-lg"],[1,"navbar","navbar-expand-lg","bg-body-tertiary","d-none","d-md-block"],[1,"container-fluid","d-flex","d-lg-block","justify-content-center","mb-3","mb-lg-0"],["role","search",1,"d-flex"],["routerLinkActive","router-link-active","role","button",1,"btn","btn-secondary","me-2",3,"click","routerLink"],["src","../../assets/icon-list.png","id","header-icon-list"],["role","button",1,"btn","btn-primary","me-2",3,"click"],["src","../../assets/icon-add.png","id","header-icon-add"],["href","#","role","button",1,"btn","btn-dark","me-2",3,"click"],["src","../../assets/icon-account.png","id","header-icon-account"]],template:function(t,r){t&1&&(he(0,"nav",0)(1,"div",1)(2,"div",2),be(3,"img",3),fe()()(),he(4,"nav",4)(5,"div",1)(6,"div",5),be(7,"img",3),fe(),he(8,"form",6)(9,"a",7),$e("click",function(){return r.onListButtonClick()}),be(10,"img",8),fe(),he(11,"a",9),$e("click",function(){return r.onNewCardButtonClick()}),be(12,"img",10),fe(),he(13,"a",11),$e("click",function(){return r.onUserButtonClick()}),be(14,"img",12),fe()()()()),t&2&&(hr(9),Zr("routerLink",Bu(1,i2)))},dependencies:[ml,Eo,gl],styles:[".header-logo[_ngcontent-%COMP%]{width:100%;max-width:50px;margin-right:1%;cursor:pointer}#header-icon-add[_ngcontent-%COMP%], #header-icon-list[_ngcontent-%COMP%], #header-icon-settings[_ngcontent-%COMP%], #header-icon-account[_ngcontent-%COMP%]{width:100%;max-width:30px;object-fit:cover;cursor:pointer}"]})};var o2=n=>({show:n}),s2=n=>({display:n}),Ld=class n{constructor(e,t){this.modalService=e;this.cardManager=t}showModal=!1;firestore=x(Zt);karteikartenCollection;ngOnInit(){this.modalService.showModal$.subscribe(e=>{this.showModal=e}),this.karteikartenCollection=es(this.firestore,"karteikarten")}onSave(e,t,r){this.cardManager.createCard(e,t,r,this.karteikartenCollection),this.modalService.closeModal()}onCancel(){this.modalService.closeModal()}static \u0275fac=function(t){return new(t||n)(_e(In),_e(ts))};static \u0275cmp=mt({type:n,selectors:[["app-card-creation"]],standalone:!0,features:[vt],decls:35,vars:6,consts:[["cardFront",""],["cardBack",""],["cardTopic",""],["tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade",3,"ngClass","ngStyle"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","card-front",1,"form-label"],["type","text","id","card-front","aria-describedby","frontHelp","maxlength","30",1,"form-control"],["id","frontHelp",1,"form-text"],["for","card-back",1,"form-label"],["type","text","id","card-back","aria-describedby","backHelp","maxlength","30",1,"form-control"],["id","backHelp",1,"form-text"],["for","card-topic",1,"form-label"],["type","text","id","card-topic","aria-describedby","topicHelp","maxlength","20",1,"form-control"],["id","topicHelp",1,"form-text"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){if(t&1){let i=Vu();he(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h5",7),st(5,"Erstelle deine Karteikarte:"),fe(),he(6,"button",8),$e("click",function(){return Wr(i),Kr(r.onCancel())}),fe()(),he(7,"div",9)(8,"form")(9,"div",10)(10,"label",11),st(11,"Vorderseite"),fe(),be(12,"input",12,0),he(14,"div",13),st(15,"Vorderseite deiner Karteikarte"),fe()(),he(16,"div",10)(17,"label",14),st(18,"R\xFCckseite"),fe(),be(19,"input",15,1),he(21,"div",16),st(22,"R\xFCckseite deiner Karteikarte"),fe()(),he(23,"div",10)(24,"label",17),st(25,"Thema"),fe(),be(26,"input",18,2),he(28,"div",19),st(29,"R\xFCckseite deiner Karteikarte"),fe()()()(),he(30,"div",20)(31,"button",21),$e("click",function(){return Wr(i),Kr(r.onCancel())}),st(32,"Abbrechen"),fe(),he(33,"button",22),$e("click",function(){Wr(i);let s=Uu(13),c=Uu(20),u=Uu(27);return Kr(r.onSave(s,c,u))}),st(34,"Speichern"),fe()()()()()}t&2&&Zr("ngClass",xp(2,o2,r.showModal))("ngStyle",xp(4,s2,r.showModal?"block":"none"))},dependencies:[qs,nT,rT],styles:[".modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:transform .3s ease-out,opacity .3s ease-out}.modal.show[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:#00000080}"]})};var a2=()=>["/cards"],Fd=class n{constructor(e){this.modalService=e}onNewCardButtonClick(){console.log("Create new Card!"),this.modalService.openModal()}onSettingsButtonClick(){console.log("Go to settings!")}onListButtonClick(){console.log("All cards")}onUserButtonClick(){console.log("Go to UserAccount!")}static \u0275fac=function(t){return new(t||n)(_e(In))};static \u0275cmp=mt({type:n,selectors:[["app-footer"]],standalone:!0,features:[vt],decls:9,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","d-md-none"],[1,"container-fluid","d-flex","flex-column","flex-lg-row","justify-content-center","justify-content-lg-end"],["role","search",1,"d-flex"],["routerLinkActive","router-link-active","role","button",1,"btn","btn-secondary","me-2",3,"click","routerLink"],["src","../../assets/icon-list.png","id","footer-icon-list"],["role","button",1,"btn","btn-primary","me-2",3,"click"],["src","../../assets/icon-add.png","id","footer-icon-add"],["href","#","role","button",1,"btn","btn-dark","me-2",3,"click"],["src","../../assets/icon-account.png","id","footer-icon-account"]],template:function(t,r){t&1&&(he(0,"nav",0)(1,"div",1)(2,"form",2)(3,"a",3),$e("click",function(){return r.onListButtonClick()}),be(4,"img",4),fe(),he(5,"a",5),$e("click",function(){return r.onNewCardButtonClick()}),be(6,"img",6),fe(),he(7,"a",7),$e("click",function(){return r.onUserButtonClick()}),be(8,"img",8),fe()()()()),t&2&&(hr(3),Zr("routerLink",Bu(1,a2)))},dependencies:[ml,Eo,gl],styles:[".navbar[_ngcontent-%COMP%]{position:sticky;bottom:0}.footer-logo[_ngcontent-%COMP%]{width:100%;max-width:50px;margin-right:1%;cursor:pointer}#footer-icon-add[_ngcontent-%COMP%], #footer-icon-list[_ngcontent-%COMP%], #footer-icon-settings[_ngcontent-%COMP%], #footer-icon-account[_ngcontent-%COMP%]{width:100%;max-width:30px;object-fit:cover;cursor:pointer}"]})};var Vd=class n{firestore=x(Zt);karteikarten$;title="karteikarten";current="";setCurrent(e){console.log("It's working",e),this.current=e}constructor(){let e=es(this.firestore,"karteikarten");this.karteikarten$=Md(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mt({type:n,selectors:[["app-root"]],standalone:!0,features:[vt],decls:5,vars:0,consts:[["id","header"],["id","router"],["id","footer"]],template:function(t,r){t&1&&(be(0,"app-header",0),he(1,"div",1),be(2,"router-outlet"),fe(),be(3,"app-card-creation")(4,"app-footer",2))},dependencies:[Mg,Od,Ld,Fd],styles:["#router[_ngcontent-%COMP%]{flex-grow:1}"]})};fT(Vd,MS).catch(n=>console.error(n));
